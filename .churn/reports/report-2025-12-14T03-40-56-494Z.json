{
  "version": "2.2.0",
  "repository": {
    "name": "pact",
    "branch": "master",
    "path": "/Users/johnhorton/pact",
    "remote": "https://github.com/cloudboy-jh/pact.git"
  },
  "analysis": {
    "summary": {
      "filesAnalyzed": 106,
      "suggestions": 398,
      "categories": {
        "bug": 55,
        "refactor": 79,
        "documentation": 151,
        "style": 59,
        "optimization": 54
      },
      "duration": 403919,
      "cacheHits": 7,
      "tokensUsed": 167753,
      "tokensSaved": 0,
      "estimatedCost": 1.006524,
      "costSaved": 0
    },
    "suggestions": [
      {
        "file": "web/svelte.config.js",
        "category": "bug",
        "severity": "high",
        "title": "Route configuration will exclude all routes",
        "description": "The adapter configuration includes all routes ('/*') but then excludes everything ('<all>'), which means no routes will be handled by the adapter. This will cause the application to fail routing requests properly in Cloudflare Pages.",
        "suggestion": "Remove the 'exclude' property or adjust it to exclude only specific paths (like static assets). For most applications, you can remove the entire 'routes' configuration to use the default behavior.",
        "code": {
          "before": "adapter: adapter({\n\t// See https://developers.cloudflare.com/pages/configuration/build-configuration/\n\t// for Cloudflare Pages specific options\n\troutes: {\n\t\tinclude: ['/*'],\n\t\texclude: ['<all>']\n\t}\n})",
          "after": "adapter: adapter({\n\t// See https://developers.cloudflare.com/pages/configuration/build-configuration/\n\t// for Cloudflare Pages specific options\n})",
          "startLine": 8,
          "endLine": 15
        }
      },
      {
        "file": "web/vite.config.ts",
        "category": "bug",
        "severity": "high",
        "title": "Secret exposed to client-side bundle via define",
        "description": "GITHUB_CLIENT_SECRET is being exposed through Vite's `define` option, which makes it available in the client-side JavaScript bundle. Anyone can inspect the bundled code and extract this secret. The `define` option performs static replacement at build time and is included in the frontend code.",
        "suggestion": "Remove GITHUB_CLIENT_SECRET from the define block. Secrets should only be accessed server-side through environment variables (e.g., import.meta.env in SvelteKit server routes or +page.server.ts files). Only expose GITHUB_CLIENT_ID to the client if necessary.",
        "code": {
          "before": "define: {\n\t// Make GITHUB_CLIENT_SECRET available server-side\n\t'process.env.GITHUB_CLIENT_SECRET': JSON.stringify(env.GITHUB_CLIENT_SECRET),\n\t// Make GITHUB_CLIENT_ID available client-side\n\t'process.env.GITHUB_CLIENT_ID': JSON.stringify(env.GITHUB_CLIENT_ID)\n}",
          "after": "define: {\n\t// Make GITHUB_CLIENT_ID available client-side\n\t'process.env.GITHUB_CLIENT_ID': JSON.stringify(env.GITHUB_CLIENT_ID)\n}\n// Access GITHUB_CLIENT_SECRET in server-side code via process.env or import.meta.env",
          "startLine": 10,
          "endLine": 15
        }
      },
      {
        "file": "cli/main.go",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for cmd.Execute()",
        "description": "The main function calls cmd.Execute() without checking or handling any returned error. In Go, it's critical to handle errors properly, especially in the main entry point of an application. If cmd.Execute() returns an error, the program will exit with status code 0 (success) even though execution failed, making it impossible for calling processes to detect failures.",
        "suggestion": "Check the error returned from cmd.Execute() and exit with a non-zero status code on failure using os.Exit(1). This follows the Unix convention and allows shell scripts and CI/CD pipelines to detect failures properly.",
        "code": {
          "before": "func main() {\n\tcmd.Execute()\n}",
          "after": "func main() {\n\tif err := cmd.Execute(); err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n}",
          "startLine": 7,
          "endLine": 9
        }
      },
      {
        "file": "cli/main.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Add required imports for error handling",
        "description": "To properly implement error handling in the main function, you need to import the 'fmt' and 'os' packages from the standard library. The 'fmt' package provides formatted I/O functions like Fprintf for writing error messages to stderr, and the 'os' package provides Exit() for terminating the program with a specific exit code.",
        "suggestion": "Import 'fmt' and 'os' from the standard library to support robust error handling. This is idiomatic Go for CLI applications and ensures proper integration with the operating system's process management.",
        "code": {
          "before": "import (\n\t\"github.com/cloudboy-jh/pact/cmd\"\n)",
          "after": "import (\n\t\"fmt\"\n\t\"os\"\n\n\t\"github.com/cloudboy-jh/pact/cmd\"\n)",
          "startLine": 3,
          "endLine": 5
        }
      },
      {
        "file": "cli/main.go",
        "category": "documentation",
        "severity": "low",
        "title": "Add package documentation comment",
        "description": "The package lacks a documentation comment explaining its purpose. In Go, package-level comments are important for documentation generation with 'go doc' and help other developers understand the purpose of the package. The main package is the entry point of your application and should clearly state what the application does.",
        "suggestion": "Add a package comment that describes the purpose of the pact CLI application. Package comments should start with 'Package <name>' and be placed directly before the package declaration without blank lines in between.",
        "code": {
          "before": "package main",
          "after": "// Package main provides the entry point for the pact CLI application.\n// Pact is a tool for [brief description of what pact does].\npackage main",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "cli/main.go",
        "category": "style",
        "severity": "low",
        "title": "Add main function documentation",
        "description": "While the main function is simple, adding a brief comment helps establish good documentation practices and clarifies the program's flow, especially for those unfamiliar with the codebase. Documentation comments make code more maintainable and are part of idiomatic Go.",
        "suggestion": "Add a comment to the main function explaining that it serves as the application entry point and delegates to the command execution logic. Keep it concise since main should be minimal.",
        "code": {
          "before": "func main() {\n\tif err := cmd.Execute(); err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n}",
          "after": "// main is the entry point for the pact CLI application.\n// It delegates execution to the cmd package and handles any errors by\n// writing to stderr and exiting with a non-zero status code.\nfunc main() {\n\tif err := cmd.Execute(); err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n}",
          "startLine": 7,
          "endLine": 9
        }
      },
      {
        "file": "web/src/lib/index.ts",
        "category": "documentation",
        "severity": "low",
        "title": "Add barrel export file structure documentation",
        "description": "This index.ts file serves as a barrel export for the $lib alias in SvelteKit. Currently it only contains a placeholder comment and no actual exports. While this is valid for an empty library folder, adding documentation about the intended structure and usage pattern would help developers understand how to properly organize and export modules.",
        "suggestion": "Add JSDoc comments explaining the purpose of this file and provide examples of how to structure exports. This helps maintain consistency as the codebase grows and guides new developers on proper module organization patterns.",
        "code": {
          "before": "// place files you want to import through the `$lib` alias in this folder.",
          "after": "/**\n * Barrel export file for the $lib alias.\n * \n * This file re-exports modules from this directory to provide a clean\n * import API for components and utilities.\n * \n * @example\n * // Instead of: import { MyComponent } from '$lib/components/MyComponent';\n * // Export here: export { MyComponent } from './components/MyComponent';\n * // Then use: import { MyComponent } from '$lib';\n * \n * @example\n * // Group exports by category\n * export * from './utils';\n * export * from './stores';\n * export type * from './types';\n */",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/index.ts",
        "category": "style",
        "severity": "low",
        "title": "Prepare type-safe export structure",
        "description": "The file is currently empty but will eventually contain exports. Setting up a structured approach now will prevent future type safety issues. Without a clear export pattern, developers might mix default and named exports inconsistently, or forget to export TypeScript types separately.",
        "suggestion": "Add a template structure showing best practices for exporting types separately from runtime code. This prevents issues where type-only imports aren't properly tree-shaken and ensures better IDE autocomplete support.",
        "code": {
          "before": "// place files you want to import through the `$lib` alias in this folder.",
          "after": "/**\n * Barrel export file for the $lib alias.\n * Place files you want to import through the `$lib` alias in this folder.\n */\n\n// Example structure (uncomment and modify as needed):\n// \n// // Type exports (tree-shakeable)\n// export type { User, Product, ApiResponse } from './types';\n// \n// // Utility exports\n// export { formatDate, parseQuery } from './utils';\n// \n// // Store exports\n// export { userStore, cartStore } from './stores';\n// \n// // Component exports (if any shared components)\n// export { default as Button } from './components/Button.svelte';",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/index.ts",
        "category": "documentation",
        "severity": "low",
        "title": "Add guidance for tree-shaking optimization",
        "description": "As the library grows, barrel exports can negatively impact bundle size if not structured properly. Importing everything through a single index.ts can prevent proper tree-shaking, especially if the file uses 'export *' patterns or mixes side-effect code with pure exports.",
        "suggestion": "Add comments documenting best practices for maintaining tree-shaking efficiency. Recommend using named exports over 'export *', separating type exports, and avoiding side effects in this file.",
        "code": {
          "before": "// place files you want to import through the `$lib` alias in this folder.",
          "after": "/**\n * Barrel export file for the $lib alias.\n * \n * IMPORTANT: For optimal tree-shaking and bundle size:\n * 1. Use explicit named exports instead of 'export *'\n * 2. Separate type exports with 'export type'\n * 3. Avoid side effects in this file\n * 4. Consider multiple barrel files for large modules\n * \n * @see https://kit.svelte.dev/docs/modules#$lib\n */\n\n// Place files you want to import through the `$lib` alias in this folder.\n// Then export them here using named exports for better tree-shaking.",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/src/app/docs/layout.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Missing type import for LayoutProps",
        "description": "The component uses `LayoutProps<'/docs'>` which is not imported. This will cause a TypeScript compilation error. The type needs to be imported from the appropriate source or defined locally.",
        "suggestion": "Import LayoutProps from the correct source (likely 'fumadocs-ui' or React types) or define it using React.PropsWithChildren if it's a simple layout props type.",
        "code": {
          "before": "import { source } from '@/lib/source';\nimport { DocsLayout } from 'fumadocs-ui/layouts/docs';\nimport { baseOptions } from '@/lib/layout.shared';\n\nexport default function Layout({ children }: LayoutProps<'/docs'>) {",
          "after": "import { source } from '@/lib/source';\nimport { DocsLayout } from 'fumadocs-ui/layouts/docs';\nimport { baseOptions } from '@/lib/layout.shared';\nimport type { LayoutProps } from 'fumadocs-core/types';\n\nexport default function Layout({ children }: LayoutProps<'/docs'>) {",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/app/docs/layout.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Prevent unnecessary re-renders by memoizing baseOptions result",
        "description": "The `baseOptions()` function is called on every render. If this function returns a new object reference each time, it will cause DocsLayout to re-render unnecessarily even when the actual options haven't changed. This can impact performance, especially if DocsLayout performs expensive operations.",
        "suggestion": "Use `useMemo` to memoize the baseOptions result, or call it outside the component if it returns static values. This ensures stable object references across renders.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/docs'>) {\n  return (\n    <DocsLayout tree={source.pageTree} {...baseOptions()}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "after": "import { useMemo } from 'react';\n\nexport default function Layout({ children }: LayoutProps<'/docs'>) {\n  const options = useMemo(() => baseOptions(), []);\n  \n  return (\n    <DocsLayout tree={source.pageTree} {...options}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "startLine": 5,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/app/docs/layout.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Add explicit return type annotation",
        "description": "The Layout component lacks an explicit return type annotation. Adding `React.ReactElement` or `JSX.Element` improves type safety and makes the component's contract clearer, especially for consumers and when refactoring.",
        "suggestion": "Add an explicit return type annotation to the Layout function. This provides better TypeScript checking and IDE support.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/docs'>) {\n  return (\n    <DocsLayout tree={source.pageTree} {...baseOptions()}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "after": "export default function Layout({ children }: LayoutProps<'/docs'>): React.ReactElement {\n  return (\n    <DocsLayout tree={source.pageTree} {...baseOptions()}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "startLine": 5,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/app/docs/layout.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Consider using Next.js metadata API for better SEO",
        "description": "Next.js 13+ App Router supports exporting metadata or generateMetadata from layout files. This layout appears to be in the App Router structure but doesn't define any metadata, which could impact SEO and social sharing for documentation pages.",
        "suggestion": "Add a metadata export to improve SEO, page titles, and social sharing metadata for the docs section. This is especially important for documentation sites.",
        "code": {
          "before": "import { source } from '@/lib/source';\nimport { DocsLayout } from 'fumadocs-ui/layouts/docs';\nimport { baseOptions } from '@/lib/layout.shared';\n\nexport default function Layout({ children }: LayoutProps<'/docs'>) {",
          "after": "import { source } from '@/lib/source';\nimport { DocsLayout } from 'fumadocs-ui/layouts/docs';\nimport { baseOptions } from '@/lib/layout.shared';\nimport type { Metadata } from 'next';\n\nexport const metadata: Metadata = {\n  title: {\n    template: '%s | Pact Docs',\n    default: 'Pact Documentation',\n  },\n  description: 'Comprehensive documentation for Pact',\n};\n\nexport default function Layout({ children }: LayoutProps<'/docs'>) {",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/app/docs/layout.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Validate source.pageTree availability",
        "description": "The code directly accesses `source.pageTree` without checking if it exists. If the source module or pageTree is undefined during certain build or runtime scenarios, this could cause runtime errors. Adding optional chaining provides defensive programming.",
        "suggestion": "Use optional chaining and provide a fallback value to handle cases where source.pageTree might be undefined, improving robustness.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/docs'>) {\n  return (\n    <DocsLayout tree={source.pageTree} {...baseOptions()}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "after": "export default function Layout({ children }: LayoutProps<'/docs'>) {\n  return (\n    <DocsLayout tree={source.pageTree ?? []} {...baseOptions()}>\n      {children}\n    </DocsLayout>\n  );\n}",
          "startLine": 5,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/app/(home)/layout.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Missing type import for LayoutProps",
        "description": "The LayoutProps type is used but not imported, which will cause a TypeScript compilation error. This is a critical type safety issue that prevents the code from building.",
        "suggestion": "Import LayoutProps from the appropriate source. Based on the fumadocs-ui usage pattern, this should likely come from 'fumadocs-ui/layouts' or be defined locally. If it doesn't exist in fumadocs-ui, define it explicitly using React.PropsWithChildren.",
        "code": {
          "before": "import { HomeLayout } from 'fumadocs-ui/layouts/home';\nimport { baseOptions } from '@/lib/layout.shared';\n\nexport default function Layout({ children }: LayoutProps<'/'>) {",
          "after": "import type { ReactNode } from 'react';\nimport { HomeLayout } from 'fumadocs-ui/layouts/home';\nimport { baseOptions } from '@/lib/layout.shared';\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/src/app/(home)/layout.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Prevent unnecessary re-renders by memoizing baseOptions call",
        "description": "The baseOptions() function is called on every render. If this function performs computations or returns a new object reference each time, it could cause unnecessary re-renders of HomeLayout and its children. This impacts performance, especially if the layout re-renders frequently.",
        "suggestion": "Use useMemo to memoize the result of baseOptions() if it returns a computed object, or call it outside the component if it returns static configuration. This ensures stable object references across renders.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/'>) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "after": "import { useMemo } from 'react';\n\nexport default function Layout({ children }: LayoutProps) {\n  const options = useMemo(() => baseOptions(), []);\n  return <HomeLayout {...options}>{children}</HomeLayout>;\n}",
          "startLine": 4,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/src/app/(home)/layout.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Unclear generic parameter in LayoutProps",
        "description": "The generic parameter '/' in LayoutProps<'/'> is unclear without context. This appears to be route-specific typing, but if LayoutProps is a standard React type, this usage might be incorrect or overly complex for a simple layout wrapper.",
        "suggestion": "Simplify to standard React children typing unless the generic parameter serves a documented purpose. If fumadocs-ui provides specific typing for route-based layouts, ensure proper type imports and documentation.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/'>) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "after": "interface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "startLine": 4,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/src/app/(home)/layout.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Consider extracting baseOptions to module level for better tree-shaking",
        "description": "Calling baseOptions() inside the component may prevent optimal tree-shaking and adds runtime overhead. If baseOptions() returns static configuration without side effects, it should be called at the module level.",
        "suggestion": "Move the baseOptions() call to module level as a constant. This improves bundle optimization, reduces runtime overhead, and makes it clear that the configuration is static. Only keep it inside the component if it depends on runtime values or hooks.",
        "code": {
          "before": "import { HomeLayout } from 'fumadocs-ui/layouts/home';\nimport { baseOptions } from '@/lib/layout.shared';\n\nexport default function Layout({ children }: LayoutProps<'/'>) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "after": "import { HomeLayout } from 'fumadocs-ui/layouts/home';\nimport { baseOptions } from '@/lib/layout.shared';\n\nconst layoutOptions = baseOptions();\n\nexport default function Layout({ children }: LayoutProps) {\n  return <HomeLayout {...layoutOptions}>{children}</HomeLayout>;\n}",
          "startLine": 1,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/src/app/(home)/layout.tsx",
        "category": "documentation",
        "severity": "low",
        "title": "Add JSDoc comment for Layout component",
        "description": "The Layout component lacks documentation explaining its purpose and relationship to the home route. This makes it harder for other developers to understand the component's role in the application structure.",
        "suggestion": "Add a JSDoc comment explaining that this is the root layout for the home page route, and describe what baseOptions provides to the HomeLayout.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "after": "/**\n * Root layout component for the home page route ('/').\n * Wraps children with fumadocs-ui HomeLayout and applies shared base options\n * for consistent navigation, styling, and configuration.\n */\nexport default function Layout({ children }: LayoutProps) {\n  return <HomeLayout {...baseOptions()}>{children}</HomeLayout>;\n}",
          "startLine": 4,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/src/lib/layout.shared.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Memoize baseOptions return value to prevent unnecessary re-renders",
        "description": "The baseOptions() function creates new object references, JSX elements, and icon components on every call. When used in a component that re-renders, this causes React to unnecessarily recreate these elements and potentially trigger re-renders in child components. This is especially impactful for the nav.title JSX which contains an Image component.",
        "suggestion": "Convert baseOptions to a constant object or use useMemo if dynamic values are needed. Since all values are static, a constant is most efficient. This ensures stable references across renders and improves performance.",
        "code": {
          "before": "export function baseOptions(): BaseLayoutProps {\n  return {\n    nav: {\n      title: (\n        <div className=\"flex items-center gap-2.5\">\n          <Image\n            src=\"/pact-logo.png\"\n            alt=\"Pact\"\n            width={28}\n            height={28}\n            className=\"rounded\"\n          />\n          <span className=\"font-bold tracking-tight\">pact</span>\n        </div>\n      ),\n    },",
          "after": "export const baseOptions: BaseLayoutProps = {\n  nav: {\n    title: (\n      <div className=\"flex items-center gap-2.5\">\n        <Image\n          src=\"/pact-logo.png\"\n          alt=\"Pact\"\n          width={28}\n          height={28}\n          className=\"rounded\"\n        />\n        <span className=\"font-bold tracking-tight\">pact</span>\n      </div>\n    ),\n  },",
          "startLine": 5,
          "endLine": 18
        }
      },
      {
        "file": "pact-docs/src/lib/layout.shared.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Optimize Next.js Image component with priority loading",
        "description": "The logo image in the navigation is above-the-fold and critical for LCP (Largest Contentful Paint). Without the priority prop, Next.js will lazy-load this image, which can delay rendering and hurt Core Web Vitals metrics. Navigation logos should load immediately.",
        "suggestion": "Add the priority prop to the Image component to enable eager loading and improve initial page load performance. This prevents layout shift and ensures the navigation appears complete on first paint.",
        "code": {
          "before": "<Image\n  src=\"/pact-logo.png\"\n  alt=\"Pact\"\n  width={28}\n  height={28}\n  className=\"rounded\"\n/>",
          "after": "<Image\n  src=\"/pact-logo.png\"\n  alt=\"Pact\"\n  width={28}\n  height={28}\n  className=\"rounded\"\n  priority\n/>",
          "startLine": 9,
          "endLine": 14
        }
      },
      {
        "file": "pact-docs/src/lib/layout.shared.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Extract magic strings to constants for maintainability",
        "description": "The GitHub URL 'https://github.com/cloudboy-jh/pact' is duplicated in two places (links array and githubUrl property). This creates a maintenance burden and risk of inconsistency if the URL needs to change. Additionally, other hardcoded values like '/pact-logo.png' and '/docs' would benefit from centralization.",
        "suggestion": "Define constants at the top of the file for all URL and path strings. This improves maintainability, makes testing easier, and provides a single source of truth for configuration values.",
        "code": {
          "before": "import type { BaseLayoutProps } from 'fumadocs-ui/layouts/shared';\nimport Image from 'next/image';\nimport { Terminal, Github, BookOpen } from 'lucide-react';\n\nexport function baseOptions(): BaseLayoutProps {",
          "after": "import type { BaseLayoutProps } from 'fumadocs-ui/layouts/shared';\nimport Image from 'next/image';\nimport { Terminal, Github, BookOpen } from 'lucide-react';\n\nconst GITHUB_URL = 'https://github.com/cloudboy-jh/pact';\nconst LOGO_PATH = '/pact-logo.png';\nconst DOCS_PATH = '/docs';\n\nexport function baseOptions(): BaseLayoutProps {",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/lib/layout.shared.tsx",
        "category": "style",
        "severity": "low",
        "title": "Remove unused Terminal import",
        "description": "The Terminal icon is imported from lucide-react but never used in the code. Unused imports increase bundle size unnecessarily and create maintenance confusion. Tree-shaking may remove it in production builds, but it's best practice to keep imports clean.",
        "suggestion": "Remove the unused Terminal import to keep the code clean and ensure the smallest possible bundle size. This also makes the codebase easier to understand by showing only relevant dependencies.",
        "code": {
          "before": "import { Terminal, Github, BookOpen } from 'lucide-react';",
          "after": "import { Github, BookOpen } from 'lucide-react';",
          "startLine": 3,
          "endLine": 3
        }
      },
      {
        "file": "pact-docs/src/lib/layout.shared.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Add explicit return type annotation for better type safety",
        "description": "While TypeScript can infer the return type, explicitly declaring it provides better IDE support, catches type mismatches earlier, and serves as documentation. If the BaseLayoutProps interface changes, an explicit return type will catch incompatibilities immediately rather than at the call site.",
        "suggestion": "Keep the explicit return type annotation on baseOptions (or add it to the constant if refactored). This provides compile-time guarantees and better developer experience.",
        "code": {
          "before": "export const baseOptions: BaseLayoutProps = {",
          "after": "// If keeping as function:\nexport function baseOptions(): BaseLayoutProps {\n  return { /* ... */ };\n}\n\n// Or if using constant (recommended):\nexport const baseOptions: BaseLayoutProps = {",
          "startLine": 5,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/lib/source.ts",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for async getText() operation",
        "description": "The getLLMText function calls an async getText() method without any error handling. If the page data is malformed, the file doesn't exist, or there's a processing error, this will throw an unhandled promise rejection that could crash the application or provide poor user experience.",
        "suggestion": "Add try-catch error handling with a meaningful fallback or error message. Consider what should happen when text processing fails - should it return a default message, rethrow with context, or return null?",
        "code": {
          "before": "export async function getLLMText(page: InferPageType<typeof source>) {\n  const processed = await page.data.getText('processed');\n\n  return `# ${page.data.title}\n\n${processed}`;\n}",
          "after": "export async function getLLMText(page: InferPageType<typeof source>): Promise<string> {\n  try {\n    const processed = await page.data.getText('processed');\n    return `# ${page.data.title}\\n\\n${processed}`;\n  } catch (error) {\n    console.error(`Failed to get LLM text for page \"${page.data.title}\":`, error);\n    // Return title-only fallback or rethrow based on requirements\n    return `# ${page.data.title}\\n\\n[Content unavailable]`;\n  }\n}",
          "startLine": 22,
          "endLine": 27
        }
      },
      {
        "file": "pact-docs/src/lib/source.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Add explicit return type annotations for better type safety",
        "description": "The getPageImage function lacks an explicit return type annotation. While TypeScript can infer it, explicit return types provide better documentation, catch unintended changes, and improve IDE autocomplete. This is especially important for exported public APIs that other modules will consume.",
        "suggestion": "Add explicit return type annotations to both exported functions. This makes the API contract clear and prevents accidental breaking changes.",
        "code": {
          "before": "export function getPageImage(page: InferPageType<typeof source>) {\n  const segments = [...page.slugs, 'image.png'];\n\n  return {\n    segments,\n    url: `/og/docs/${segments.join('/')}`\n  };\n}",
          "after": "export function getPageImage(page: InferPageType<typeof source>): {\n  segments: string[];\n  url: string;\n} {\n  const segments = [...page.slugs, 'image.png'];\n\n  return {\n    segments,\n    url: `/og/docs/${segments.join('/')}`\n  };\n}",
          "startLine": 13,
          "endLine": 20
        }
      },
      {
        "file": "pact-docs/src/lib/source.ts",
        "category": "optimization",
        "severity": "medium",
        "title": "Consider memoization for source loader to prevent re-initialization",
        "description": "The source loader is created at module scope, which is generally good, but if this module is imported multiple times or re-evaluated, the loader could be recreated unnecessarily. While fumadocs-core likely handles this internally, ensuring the source is truly singleton can prevent potential performance issues or duplicate plugin initialization.",
        "suggestion": "Verify the loader is only created once by adding a comment documenting this behavior, or consider using a lazy initialization pattern if hot module replacement or dynamic imports are used.",
        "code": {
          "before": "export const source = loader({\n  baseUrl: '/docs',\n  source: docs.toFumadocsSource(),\n  plugins: [lucideIconsPlugin()],\n});",
          "after": "// Source loader is initialized once at module load time\n// Singleton pattern ensures consistent behavior across imports\nexport const source = loader({\n  baseUrl: '/docs',\n  source: docs.toFumadocsSource(),\n  plugins: [lucideIconsPlugin()],\n});",
          "startLine": 6,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/lib/source.ts",
        "category": "refactor",
        "severity": "low",
        "title": "Use const assertion for immutable string literal in getPageImage",
        "description": "The 'image.png' string literal could benefit from being extracted as a constant, especially if this naming convention is used elsewhere in the codebase. This improves maintainability and makes it easier to change the image filename pattern globally.",
        "suggestion": "Extract magic strings as constants at the module level to improve maintainability and prevent typos if the value is used in multiple places.",
        "code": {
          "before": "export function getPageImage(page: InferPageType<typeof source>) {\n  const segments = [...page.slugs, 'image.png'];\n\n  return {\n    segments,\n    url: `/og/docs/${segments.join('/')}`\n  };\n}",
          "after": "const OG_IMAGE_FILENAME = 'image.png' as const;\nconst OG_BASE_PATH = '/og/docs' as const;\n\nexport function getPageImage(page: InferPageType<typeof source>): {\n  segments: string[];\n  url: string;\n} {\n  const segments = [...page.slugs, OG_IMAGE_FILENAME];\n\n  return {\n    segments,\n    url: `${OG_BASE_PATH}/${segments.join('/')}`\n  };\n}",
          "startLine": 13,
          "endLine": 20
        }
      },
      {
        "file": "pact-docs/src/lib/source.ts",
        "category": "documentation",
        "severity": "low",
        "title": "Add JSDoc comments for exported functions",
        "description": "The exported functions getPageImage and getLLMText lack documentation explaining their purpose, parameters, and return values. This makes the API less discoverable and harder to use correctly, especially for team members unfamiliar with the codebase.",
        "suggestion": "Add comprehensive JSDoc comments to all exported functions to improve developer experience and enable better IDE support.",
        "code": {
          "before": "export function getPageImage(page: InferPageType<typeof source>) {\n  const segments = [...page.slugs, 'image.png'];",
          "after": "/**\n * Generates Open Graph image metadata for a documentation page.\n * \n * @param page - The page object from the fumadocs source loader\n * @returns An object containing URL segments and the full OG image URL\n * @example\n * const { url } = getPageImage(page);\n * // Returns: { segments: ['guide', 'intro', 'image.png'], url: '/og/docs/guide/intro/image.png' }\n */\nexport function getPageImage(page: InferPageType<typeof source>) {\n  const segments = [...page.slugs, 'image.png'];",
          "startLine": 13,
          "endLine": 14
        }
      },
      {
        "file": "pact-docs/src/mdx-components.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Redundant useMDXComponents function adds unnecessary abstraction",
        "description": "The `useMDXComponents` function is a thin wrapper that simply calls `getMDXComponents` without adding any React-specific functionality like hooks, state, or memoization. This creates unnecessary indirection and may confuse developers about when to use which function. The naming suggests it's a React hook (prefix 'use'), but it doesn't use any hooks internally.",
        "suggestion": "Remove the `useMDXComponents` function and use `getMDXComponents` directly, or if the 'use' prefix is required by MDX conventions, rename `getMDXComponents` to an internal helper and keep only the `useMDXComponents` export. If both are needed for compatibility, add JSDoc comments explaining their purpose.",
        "code": {
          "before": "export function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n\nexport function useMDXComponents(components: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "after": "/**\n * Merges custom MDX components with default fumadocs components.\n * Can be used directly or as the useMDXComponents hook required by MDX.\n */\nexport function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n\n// Re-export for flexibility if both naming conventions are needed\nexport const getMDXComponents = useMDXComponents;",
          "startLine": 4,
          "endLine": 12
        }
      },
      {
        "file": "pact-docs/src/mdx-components.tsx",
        "category": "bug",
        "severity": "medium",
        "title": "Type inconsistency: useMDXComponents requires components but getMDXComponents makes it optional",
        "description": "The `getMDXComponents` function accepts an optional `components` parameter (with `?`), but `useMDXComponents` requires it (without `?`). This creates an inconsistent API where callers must pass a value to `useMDXComponents` even if they want to use only default components. This violates the principle of least surprise and forces unnecessary empty object literals.",
        "suggestion": "Make the `components` parameter optional in `useMDXComponents` to match `getMDXComponents` and allow users to call it without arguments when they only need default components.",
        "code": {
          "before": "export function useMDXComponents(components: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "after": "export function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "startLine": 10,
          "endLine": 12
        }
      },
      {
        "file": "pact-docs/src/mdx-components.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Consider memoizing component merging for performance",
        "description": "The component merging operation creates a new object on every call. If this function is called frequently during render cycles (which is likely given the 'use' prefix suggesting hook usage), it will create unnecessary object allocations. While the performance impact is minimal for small component sets, memoization could prevent re-renders in child components when components haven't changed.",
        "suggestion": "Use React.useMemo to memoize the merged components object, or document that this function should be called at module level, not during render. Alternatively, add a React hook version that properly memoizes the result.",
        "code": {
          "before": "export function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "after": "import { useMemo } from 'react';\nimport defaultMdxComponents from 'fumadocs-ui/mdx';\nimport type { MDXComponents } from 'mdx/types';\n\nexport function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n\nexport function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return useMemo(\n    () => getMDXComponents(components),\n    [components]\n  );\n}",
          "startLine": 1,
          "endLine": 12
        }
      },
      {
        "file": "pact-docs/src/mdx-components.tsx",
        "category": "documentation",
        "severity": "low",
        "title": "Missing JSDoc comments for exported functions",
        "description": "Both exported functions lack documentation explaining their purpose, parameters, and usage context. Given that this is a configuration file for MDX components, developers need to understand when to use each function, what the components parameter should contain, and how it integrates with fumadocs-ui. The relationship between these functions and MDX's expected API is unclear.",
        "suggestion": "Add comprehensive JSDoc comments explaining the purpose of each function, their relationship to MDX, and usage examples. This improves IDE autocomplete suggestions and helps developers understand the API without reading source code.",
        "code": {
          "before": "export function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n\nexport function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "after": "/**\n * Merges custom MDX components with fumadocs default components.\n * This function can be used to customize MDX rendering by providing\n * custom component implementations that override defaults.\n * \n * @param components - Optional custom MDX component overrides\n * @returns Merged MDX components object with defaults and custom components\n * @example\n * ```tsx\n * const components = getMDXComponents({\n *   h1: (props) => <h1 className=\"custom-heading\" {...props} />\n * });\n * ```\n */\nexport function getMDXComponents(components?: MDXComponents): MDXComponents {\n  return {\n    ...defaultMdxComponents,\n    ...components,\n  };\n}\n\n/**\n * React hook version of getMDXComponents, following MDX conventions.\n * Used by MDX to retrieve components for rendering MDX content.\n * \n * @param components - Optional custom MDX component overrides\n * @returns Merged MDX components object\n */\nexport function useMDXComponents(components?: MDXComponents): MDXComponents {\n  return getMDXComponents(components);\n}",
          "startLine": 4,
          "endLine": 12
        }
      },
      {
        "file": "pact-docs/src/app/layout.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Missing or incorrect LayoutProps type import",
        "description": "The code uses `LayoutProps<'/'>` but doesn't import this type. This will cause a TypeScript compilation error. The correct type for Next.js 13+ App Router layout components should use `ReactNode` for children and potentially define props more explicitly.",
        "suggestion": "Import the correct types from React and remove the potentially incorrect LayoutProps generic. Next.js layouts should use a simple interface with children as ReactNode.",
        "code": {
          "before": "export default function Layout({ children }: LayoutProps<'/'>) {\n  return (",
          "after": "import type { ReactNode } from 'react';\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  return (",
          "startLine": 42,
          "endLine": 43
        }
      },
      {
        "file": "pact-docs/src/app/layout.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Font loading strategy not optimized for performance",
        "description": "The font configuration lacks the `display` property which controls how fonts are displayed while loading. Without it, users may experience FOIT (Flash of Invisible Text). Additionally, consider using `preload` for critical fonts to improve First Contentful Paint (FCP).",
        "suggestion": "Add `display: 'swap'` to ensure text remains visible during font loading, improving perceived performance. Consider adding `preload: true` for the primary font (Inter) to prioritize its loading.",
        "code": {
          "before": "const inter = Inter({\n  subsets: ['latin'],\n  variable: '--font-inter',\n});\n\nconst jetbrainsMono = JetBrains_Mono({\n  subsets: ['latin'],\n  variable: '--font-mono',\n});",
          "after": "const inter = Inter({\n  subsets: ['latin'],\n  variable: '--font-inter',\n  display: 'swap',\n  preload: true,\n});\n\nconst jetbrainsMono = JetBrains_Mono({\n  subsets: ['latin'],\n  variable: '--font-mono',\n  display: 'swap',\n});",
          "startLine": 6,
          "endLine": 14
        }
      },
      {
        "file": "pact-docs/src/app/layout.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Missing absolute URL for OpenGraph images",
        "description": "OpenGraph and Twitter card images are specified with relative paths. Social media crawlers require absolute URLs to properly display images in link previews. This will cause broken image previews when sharing links on platforms like Twitter, LinkedIn, and Slack.",
        "suggestion": "Define a base URL constant and use it to construct absolute URLs for all social media images. This ensures proper image display across all sharing platforms.",
        "code": {
          "before": "export const metadata: Metadata = {\n  title: {\n    template: '%s | Pact',\n    default: 'Pact - Your Portable Dev Identity',\n  },\n  description: 'Shell, editor, AI prefs, themes — one kit, any machine. Edit in the browser, sync from terminal.',\n  keywords: ['dotfiles', 'developer tools', 'configuration', 'shell', 'editor', 'themes', 'AI', 'CLI'],\n  authors: [{ name: 'Pact' }],\n  openGraph: {\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n    type: 'website',\n    images: ['/pact-readme-logo.png'],\n  },\n  twitter: {\n    card: 'summary_large_image',\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n  },",
          "after": "const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || 'https://pact.dev';\n\nexport const metadata: Metadata = {\n  metadataBase: new URL(BASE_URL),\n  title: {\n    template: '%s | Pact',\n    default: 'Pact - Your Portable Dev Identity',\n  },\n  description: 'Shell, editor, AI prefs, themes — one kit, any machine. Edit in the browser, sync from terminal.',\n  keywords: ['dotfiles', 'developer tools', 'configuration', 'shell', 'editor', 'themes', 'AI', 'CLI'],\n  authors: [{ name: 'Pact' }],\n  openGraph: {\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n    type: 'website',\n    images: ['/pact-readme-logo.png'],\n  },\n  twitter: {\n    card: 'summary_large_image',\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n    images: ['/pact-readme-logo.png'],\n  },",
          "startLine": 16,
          "endLine": 35
        }
      },
      {
        "file": "pact-docs/src/app/layout.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Consolidate duplicate metadata strings",
        "description": "The title and description strings are repeated in multiple places (default title, openGraph, twitter). This violates DRY principles and makes maintenance harder. If the description or title needs to change, it must be updated in multiple locations, increasing the risk of inconsistencies.",
        "suggestion": "Extract common metadata strings into constants at the top of the file to ensure consistency and make future updates easier.",
        "code": {
          "before": "export const metadata: Metadata = {\n  title: {\n    template: '%s | Pact',\n    default: 'Pact - Your Portable Dev Identity',\n  },\n  description: 'Shell, editor, AI prefs, themes — one kit, any machine. Edit in the browser, sync from terminal.',\n  keywords: ['dotfiles', 'developer tools', 'configuration', 'shell', 'editor', 'themes', 'AI', 'CLI'],\n  authors: [{ name: 'Pact' }],\n  openGraph: {\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',",
          "after": "const SITE_TITLE = 'Pact - Your Portable Dev Identity';\nconst SITE_DESCRIPTION = 'Shell, editor, AI prefs, themes — one kit, any machine. Edit in the browser, sync from terminal.';\nconst SITE_DESCRIPTION_SHORT = 'Shell, editor, AI prefs, themes — one kit, any machine.';\n\nexport const metadata: Metadata = {\n  title: {\n    template: '%s | Pact',\n    default: SITE_TITLE,\n  },\n  description: SITE_DESCRIPTION,\n  keywords: ['dotfiles', 'developer tools', 'configuration', 'shell', 'editor', 'themes', 'AI', 'CLI'],\n  authors: [{ name: 'Pact' }],\n  openGraph: {\n    title: SITE_TITLE,\n    description: SITE_DESCRIPTION_SHORT,",
          "startLine": 16,
          "endLine": 26
        }
      },
      {
        "file": "pact-docs/src/app/layout.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Missing Twitter card image",
        "description": "The Twitter metadata includes `card: 'summary_large_image'` but doesn't specify an `images` property. While Twitter may fall back to OpenGraph images, explicitly defining the Twitter image ensures better control over how links appear when shared on Twitter/X.",
        "suggestion": "Add the `images` property to the Twitter metadata configuration to ensure proper image display on Twitter/X platform.",
        "code": {
          "before": "  twitter: {\n    card: 'summary_large_image',\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n  },",
          "after": "  twitter: {\n    card: 'summary_large_image',\n    title: 'Pact - Your Portable Dev Identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n    images: ['/pact-readme-logo.png'],\n  },",
          "startLine": 31,
          "endLine": 35
        }
      },
      {
        "file": "pact-docs/src/app/(home)/page.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Add explicit return type and memoize static data arrays",
        "description": "The `features` and `steps` arrays are recreated on every module load, and the component lacks an explicit return type. While module-level constants are only created once in practice, moving them outside ensures they're truly static. The component should have an explicit JSX return type for better type safety.",
        "suggestion": "Move static data outside the module scope if they're truly constant, or use `as const` assertions for better type inference. Add explicit return type to the component function.",
        "code": {
          "before": "const features = [\n  { \n    icon: Terminal, \n    title: 'Shell configs', \n    description: 'zsh, bash, PowerShell — cross-platform' \n  },\n  // ...\n];\n\nexport default function HomePage() {\n  return (",
          "after": "const features = [\n  { \n    icon: Terminal, \n    title: 'Shell configs', \n    description: 'zsh, bash, PowerShell — cross-platform' \n  },\n  // ...\n] as const;\n\nconst steps = [\n  // ...\n] as const;\n\nexport default function HomePage(): JSX.Element {\n  return (",
          "startLine": 5,
          "endLine": 35
        }
      },
      {
        "file": "pact-docs/src/app/(home)/page.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract repeated JSX patterns into reusable components",
        "description": "The code contains several repeated patterns that could be extracted into typed components: feature cards, step indicators, and CTA buttons. This improves maintainability, reduces bundle size through better tree-shaking, and provides better type safety.",
        "suggestion": "Extract FeatureCard, StepCard, and Button components with proper TypeScript interfaces. This makes the code more maintainable and testable.",
        "code": {
          "before": "{features.map((feature) => (\n  <div\n    key={feature.title}\n    className=\"p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl hover:bg-zinc-900/50 hover:border-zinc-700/50 transition-all\"\n  >\n    <feature.icon size={24} className=\"text-emerald-400 mb-4\" />\n    <h3 className=\"font-medium mb-1\">{feature.title}</h3>\n    <p className=\"text-sm text-zinc-500\">{feature.description}</p>\n  </div>\n))}",
          "after": "interface FeatureCardProps {\n  icon: React.ComponentType<{ size: number; className: string }>;\n  title: string;\n  description: string;\n}\n\nconst FeatureCard = ({ icon: Icon, title, description }: FeatureCardProps) => (\n  <div className=\"p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl hover:bg-zinc-900/50 hover:border-zinc-700/50 transition-all\">\n    <Icon size={24} className=\"text-emerald-400 mb-4\" />\n    <h3 className=\"font-medium mb-1\">{title}</h3>\n    <p className=\"text-sm text-zinc-500\">{description}</p>\n  </div>\n);\n\n// In component:\n{features.map((feature) => (\n  <FeatureCard key={feature.title} {...feature} />\n))}",
          "startLine": 117,
          "endLine": 127
        }
      },
      {
        "file": "pact-docs/src/app/(home)/page.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Add priority loading for above-the-fold images",
        "description": "The logo image in the header appears above the fold but doesn't use the `priority` prop. This can delay the Largest Contentful Paint (LCP) metric and cause layout shifts. Next.js recommends using `priority` for images that are visible during initial page load.",
        "suggestion": "Add the `priority` prop to the header logo Image component to enable eager loading and improve LCP performance.",
        "code": {
          "before": "<Image\n  src=\"/pact-logo.png\"\n  alt=\"Pact\"\n  width={40}\n  height={40}\n  className=\"rounded\"\n/>",
          "after": "<Image\n  src=\"/pact-logo.png\"\n  alt=\"Pact\"\n  width={40}\n  height={40}\n  className=\"rounded\"\n  priority\n/>",
          "startLine": 51,
          "endLine": 57
        }
      },
      {
        "file": "pact-docs/src/app/(home)/page.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Type the steps array description properly to avoid React.ReactNode mixing",
        "description": "The `steps` array has inconsistent types where `description` is sometimes a string and sometimes JSX. This creates a loose `string | ReactElement` union that could cause runtime issues. It's better to consistently use React.ReactNode or create a proper type.",
        "suggestion": "Define a proper interface for steps with React.ReactNode for description field, ensuring type consistency.",
        "code": {
          "before": "const steps = [\n  {\n    number: '1',\n    title: 'Install the CLI',\n    description: (\n      <>\n        Install via Homebrew or download from{' '}\n        <Link href=\"https://github.com/cloudboy-jh/pact/releases\" className=\"text-emerald-400 hover:text-emerald-300\">\n          GitHub Releases\n        </Link>\n      </>\n    ),\n  },\n  {\n    number: '2',\n    title: 'Initialize',\n    description: 'Run pact init to authenticate and create your my-pact repo',\n  },",
          "after": "interface Step {\n  number: string;\n  title: string;\n  description: React.ReactNode;\n}\n\nconst steps: readonly Step[] = [\n  {\n    number: '1',\n    title: 'Install the CLI',\n    description: (\n      <>\n        Install via Homebrew or download from{' '}\n        <Link href=\"https://github.com/cloudboy-jh/pact/releases\" className=\"text-emerald-400 hover:text-emerald-300\">\n          GitHub Releases\n        </Link>\n      </>\n    ),\n  },\n  {\n    number: '2',\n    title: 'Initialize',\n    description: 'Run pact init to authenticate and create your my-pact repo',\n  },",
          "startLine": 18,
          "endLine": 34
        }
      },
      {
        "file": "pact-docs/src/app/(home)/page.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Use metadata export for better SEO instead of runtime-only content",
        "description": "The page lacks Next.js metadata exports for SEO. While the content is visible, search engines and social media crawlers benefit from proper metadata. Next.js 13+ app router supports `metadata` or `generateMetadata` exports.",
        "suggestion": "Add a metadata export to improve SEO, social media sharing, and accessibility.",
        "code": {
          "before": "import Link from 'next/link';\nimport Image from 'next/image';\nimport { Terminal, Cpu, Palette, Key, Github, ArrowRight, Sparkles, FolderGit2 } from 'lucide-react';\n\nconst features = [",
          "after": "import Link from 'next/link';\nimport Image from 'next/image';\nimport { Terminal, Cpu, Palette, Key, Github, ArrowRight, Sparkles, FolderGit2 } from 'lucide-react';\nimport type { Metadata } from 'next';\n\nexport const metadata: Metadata = {\n  title: 'Pact - Your portable dev identity',\n  description: 'Shell, editor, AI prefs, themes — one kit, any machine. Edit in the browser, sync from terminal.',\n  openGraph: {\n    title: 'Pact - Your portable dev identity',\n    description: 'Shell, editor, AI prefs, themes — one kit, any machine.',\n    type: 'website',\n  },\n};\n\nconst features = [",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/app/llms-full.txt/route.ts",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for async operations and network failures",
        "description": "The GET handler lacks error handling for Promise.all and getLLMText operations. If any page fails to process or the source is unavailable, the entire request will crash with an unhandled promise rejection. This will result in a 500 error without proper error messages or logging.",
        "suggestion": "Wrap the async operations in a try-catch block and return appropriate HTTP error responses. This ensures graceful degradation and better debugging capabilities.",
        "code": {
          "before": "export async function GET() {\n  const scan = source.getPages().map(getLLMText);\n  const scanned = await Promise.all(scan);\n\n  return new Response(scanned.join('\\n\\n'));\n}",
          "after": "export async function GET() {\n  try {\n    const scan = source.getPages().map(getLLMText);\n    const scanned = await Promise.all(scan);\n\n    return new Response(scanned.join('\\n\\n'), {\n      status: 200,\n      headers: { 'Content-Type': 'text/plain; charset=utf-8' },\n    });\n  } catch (error) {\n    console.error('Failed to generate LLM text:', error);\n    return new Response(\n      'Failed to generate LLM documentation',\n      { status: 500 }\n    );\n  }\n}",
          "startLine": 5,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/app/llms-full.txt/route.ts",
        "category": "optimization",
        "severity": "medium",
        "title": "Add explicit Content-Type header and consider response optimization",
        "description": "The Response lacks an explicit Content-Type header, which may cause content negotiation issues. Additionally, for large documentation sets, the response could benefit from streaming or chunking to improve time-to-first-byte and reduce memory pressure.",
        "suggestion": "Add explicit Content-Type header. For large datasets, consider using a ReadableStream to stream the content incrementally rather than building the entire string in memory.",
        "code": {
          "before": "return new Response(scanned.join('\\n\\n'));",
          "after": "// Option 1: Simple with headers\nreturn new Response(scanned.join('\\n\\n'), {\n  headers: { \n    'Content-Type': 'text/plain; charset=utf-8',\n    'Cache-Control': 'public, max-age=3600',\n  },\n});\n\n// Option 2: Streaming for large datasets\nconst stream = new ReadableStream({\n  async start(controller) {\n    const pages = source.getPages();\n    for (let i = 0; i < pages.length; i++) {\n      const text = await getLLMText(pages[i]);\n      controller.enqueue(new TextEncoder().encode(text + '\\n\\n'));\n    }\n    controller.close();\n  },\n});\nreturn new Response(stream, {\n  headers: { 'Content-Type': 'text/plain; charset=utf-8' },\n});",
          "startLine": 9,
          "endLine": 9
        }
      },
      {
        "file": "pact-docs/src/app/llms-full.txt/route.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Add explicit return type annotation for better type safety",
        "description": "The GET function lacks an explicit return type annotation. While TypeScript can infer the return type, explicit typing improves code documentation, catches return type errors at compile time, and provides better IDE support. This is especially important for API route handlers where the return type contract matters.",
        "suggestion": "Add explicit return type annotation using Promise<Response> to make the function contract clear and enable stricter type checking.",
        "code": {
          "before": "export async function GET() {",
          "after": "export async function GET(): Promise<Response> {",
          "startLine": 5,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/src/app/llms-full.txt/route.ts",
        "category": "optimization",
        "severity": "low",
        "title": "Consider caching strategy with proper revalidation",
        "description": "The route sets 'revalidate = false' which disables Next.js ISR caching entirely. While this ensures fresh data, it means every request regenerates the entire LLM text, which could be expensive if getLLMText performs heavy operations. Consider if this data truly needs to be regenerated on every request.",
        "suggestion": "Evaluate if the content changes frequently enough to warrant 'revalidate = false'. If documentation updates are infrequent, use a time-based revalidation (e.g., 3600 seconds) or on-demand revalidation. This will significantly reduce server load and improve response times.",
        "code": {
          "before": "export const revalidate = false;",
          "after": "// Revalidate every hour - adjust based on update frequency\nexport const revalidate = 3600;\n\n// Or use on-demand revalidation:\n// export const revalidate = 0; // Cache indefinitely\n// Then trigger revalidation via:\n// await revalidatePath('/llms-full.txt');",
          "startLine": 3,
          "endLine": 3
        }
      },
      {
        "file": "pact-docs/src/app/llms-full.txt/route.ts",
        "category": "refactor",
        "severity": "low",
        "title": "Add input validation and empty state handling",
        "description": "The code doesn't validate if source.getPages() returns an empty array or null/undefined. This could result in serving an empty response without indication of whether this is expected or an error condition. Additionally, there's no validation of the output from getLLMText.",
        "suggestion": "Add validation to check for empty pages array and handle it appropriately. Consider adding metadata about the number of pages processed or a minimum content length check.",
        "code": {
          "before": "const scan = source.getPages().map(getLLMText);\nconst scanned = await Promise.all(scan);",
          "after": "const pages = source.getPages();\n\nif (!pages || pages.length === 0) {\n  return new Response('No documentation pages found', {\n    status: 404,\n    headers: { 'Content-Type': 'text/plain' },\n  });\n}\n\nconst scan = pages.map(getLLMText);\nconst scanned = await Promise.all(scan);\nconst content = scanned.filter(Boolean).join('\\n\\n');\n\nif (content.length === 0) {\n  return new Response('Documentation content is empty', {\n    status: 500,\n    headers: { 'Content-Type': 'text/plain' },\n  });\n}",
          "startLine": 6,
          "endLine": 7
        }
      },
      {
        "file": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for async params access",
        "description": "The `params` object is awaited but there's no error handling if the promise rejects. Additionally, `notFound()` is called without a return statement, which can lead to code continuing to execute after the 404 should be thrown.",
        "suggestion": "Add try-catch for async operations and ensure proper control flow by returning after notFound(). This prevents potential runtime errors and ensures the response generation doesn't continue after a 404.",
        "code": {
          "before": "export async function GET(\n  _req: Request,\n  { params }: RouteContext<'/og/docs/[...slug]'>,\n) {\n  const { slug } = await params;\n  const page = source.getPage(slug.slice(0, -1));\n  if (!page) notFound();",
          "after": "export async function GET(\n  _req: Request,\n  { params }: RouteContext<'/og/docs/[...slug]'>,\n) {\n  try {\n    const { slug } = await params;\n    const page = source.getPage(slug.slice(0, -1));\n    if (!page) return notFound();\n  } catch (error) {\n    return notFound();\n  }",
          "startLine": 7,
          "endLine": 13
        }
      },
      {
        "file": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Type safety issue with RouteContext missing import",
        "description": "The `RouteContext` type is used but not imported. This will cause a TypeScript compilation error. The type should be imported from Next.js or defined locally if it's a custom type.",
        "suggestion": "Import RouteContext from next/dist/types or use Next.js's built-in types. If using Next.js 13+, the correct pattern is to use `Promise<{ slug: string[] }>` for params.",
        "code": {
          "before": "export async function GET(\n  _req: Request,\n  { params }: RouteContext<'/og/docs/[...slug]'>,\n) {",
          "after": "export async function GET(\n  _req: Request,\n  { params }: { params: Promise<{ slug: string[] }> },\n) {",
          "startLine": 7,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Potential undefined reference in generateStaticParams",
        "description": "The `generateStaticParams` function uses `page.locale` which may not exist on all page objects. There's no null/undefined check, and the function doesn't handle potential errors from `getPageImage(page)`. This could cause build-time failures.",
        "suggestion": "Add optional chaining and filter out invalid entries. This ensures the build doesn't fail if some pages lack locale or have invalid image configurations. Also consider adding type guards.",
        "code": {
          "before": "export function generateStaticParams() {\n  return source.getPages().map((page) => ({\n    lang: page.locale,\n    slug: getPageImage(page).segments,\n  }));\n}",
          "after": "export function generateStaticParams() {\n  return source\n    .getPages()\n    .map((page) => {\n      const pageImage = getPageImage(page);\n      return pageImage?.segments\n        ? {\n            lang: page.locale,\n            slug: pageImage.segments,\n          }\n        : null;\n    })\n    .filter((param): param is NonNullable<typeof param> => param !== null);\n}",
          "startLine": 28,
          "endLine": 33
        }
      },
      {
        "file": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Hardcoded site name reduces reusability",
        "description": "The site name 'My App' is hardcoded in the ImageResponse component. This reduces maintainability and makes it difficult to reuse this code across different projects or environments.",
        "suggestion": "Extract the site name to an environment variable or configuration file. This follows the principle of separation of concerns and makes the application more configurable.",
        "code": {
          "before": "return new ImageResponse(\n  <DefaultImage\n    title={page.data.title}\n    description={page.data.description}\n    site=\"My App\"\n  />,",
          "after": "return new ImageResponse(\n  <DefaultImage\n    title={page.data.title}\n    description={page.data.description}\n    site={process.env.NEXT_PUBLIC_SITE_NAME ?? 'My App'}\n  />,",
          "startLine": 15,
          "endLine": 21
        }
      },
      {
        "file": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Array slice operation could be optimized with better semantics",
        "description": "Using `slug.slice(0, -1)` to remove the last element is unclear in intent. It's not immediately obvious why the last segment needs to be removed. This could be a bug if slug has unexpected length.",
        "suggestion": "Add validation for slug length and use more explicit array manipulation. Consider adding a comment explaining why the last segment is removed, or validate that this is the correct approach.",
        "code": {
          "before": "const { slug } = await params;\nconst page = source.getPage(slug.slice(0, -1));",
          "after": "const { slug } = await params;\n// Remove the image extension segment from the slug path\nif (slug.length === 0) return notFound();\nconst pageSlug = slug.length > 1 ? slug.slice(0, -1) : slug;\nconst page = source.getPage(pageSlug);",
          "startLine": 11,
          "endLine": 12
        }
      },
      {
        "file": "web/src/lib/github.ts",
        "category": "bug",
        "severity": "high",
        "title": "Deprecated base64 encoding functions expose security vulnerabilities",
        "description": "The code uses deprecated `escape()`, `unescape()`, `btoa()`, and `atob()` functions which are not recommended for production use. These functions have security issues with Unicode handling and may fail with certain characters. Additionally, `btoa()` and `atob()` are not available in some JavaScript runtime environments (like Node.js without polyfills).",
        "suggestion": "Replace with modern, secure base64 encoding using the Web Crypto API or TextEncoder/TextDecoder APIs. For broader compatibility, consider using the `buffer` package or checking the runtime environment.",
        "code": {
          "before": "function encodeBase64(str: string): string {\n\treturn btoa(unescape(encodeURIComponent(str)));\n}\n\nfunction decodeBase64(str: string): string {\n\tconst cleaned = str.replace(/\\n/g, '');\n\treturn decodeURIComponent(escape(atob(cleaned)));\n}",
          "after": "function encodeBase64(str: string): string {\n\tconst bytes = new TextEncoder().encode(str);\n\tconst binString = Array.from(bytes, (byte) => String.fromCodePoint(byte)).join('');\n\treturn btoa(binString);\n}\n\nfunction decodeBase64(str: string): string {\n\tconst cleaned = str.replace(/\\n/g, '');\n\tconst binString = atob(cleaned);\n\tconst bytes = Uint8Array.from(binString, (m) => m.codePointAt(0)!);\n\treturn new TextDecoder().decode(bytes);\n}",
          "startLine": 7,
          "endLine": 14
        }
      },
      {
        "file": "web/src/lib/github.ts",
        "category": "bug",
        "severity": "high",
        "title": "Hardcoded OAuth client ID exposes security risk",
        "description": "The GitHub OAuth client ID is hardcoded with a fallback value ('Ov23liB8Z30c0BkX2nXF'). This exposes the client ID in the client-side bundle and could be exploited if not properly validated on the backend. Client IDs should not be committed to source control with fallback values.",
        "suggestion": "Remove the hardcoded fallback and ensure the environment variable is always set. Add runtime validation to fail fast with a clear error message if the configuration is missing. Consider using a build-time check as well.",
        "code": {
          "before": "export const GITHUB_CLIENT_ID = process.env.GITHUB_CLIENT_ID || 'Ov23liB8Z30c0BkX2nXF';",
          "after": "export const GITHUB_CLIENT_ID = process.env.GITHUB_CLIENT_ID;\n\nif (!GITHUB_CLIENT_ID) {\n\tthrow new Error(\n\t\t'GITHUB_CLIENT_ID environment variable is required. Please set it in your .env file.'\n\t);\n}",
          "startLine": 3,
          "endLine": 3
        }
      },
      {
        "file": "web/src/lib/github.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Improve error handling with typed error responses",
        "description": "The error handling in the `request` method catches and re-throws errors but loses type information and context. The GitHub API returns structured error responses with additional fields like `documentation_url` and `errors` array that could be useful for debugging and user feedback.",
        "suggestion": "Create a typed GitHub error class that preserves the full error context from the API. This allows consumers to handle specific error cases (rate limiting, not found, permission denied) differently.",
        "code": {
          "before": "private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n\tconst response = await fetch(`${GITHUB_API}${endpoint}`, {\n\t\t...options,\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${this.token}`,\n\t\t\tAccept: 'application/vnd.github+json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...options.headers\n\t\t}\n\t});\n\n\tif (!response.ok) {\n\t\tconst error = await response.json().catch(() => ({}));\n\t\tthrow new Error(error.message || `GitHub API error: ${response.status}`);\n\t}\n\n\treturn response.json();\n}",
          "after": "interface GitHubErrorResponse {\n\tmessage: string;\n\tdocumentation_url?: string;\n\terrors?: Array<{ message: string; field?: string }>;\n}\n\nclass GitHubError extends Error {\n\tconstructor(\n\t\tpublic status: number,\n\t\tpublic response: GitHubErrorResponse,\n\t\tpublic endpoint: string\n\t) {\n\t\tsuper(response.message || `GitHub API error: ${status}`);\n\t\tthis.name = 'GitHubError';\n\t}\n}\n\nprivate async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n\tconst response = await fetch(`${GITHUB_API}${endpoint}`, {\n\t\t...options,\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${this.token}`,\n\t\t\tAccept: 'application/vnd.github+json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...options.headers\n\t\t}\n\t});\n\n\tif (!response.ok) {\n\t\tconst errorData = await response.json().catch(() => ({ message: 'Unknown error' }));\n\t\tthrow new GitHubError(response.status, errorData, endpoint);\n\t}\n\n\treturn response.json();\n}",
          "startLine": 57,
          "endLine": 71
        }
      },
      {
        "file": "web/src/lib/github.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Add type guards and improve null safety in API responses",
        "description": "Several methods assume the shape of API responses without validation. For example, `getFileContent` assumes `file.content` exists, and `getContents` uses `Array.isArray()` but doesn't validate the structure. This can lead to runtime errors if GitHub API changes or returns unexpected data.",
        "suggestion": "Add type guards to validate API responses and handle edge cases explicitly. Use optional chaining and nullish coalescing for safer property access.",
        "code": {
          "before": "async getFileContent(username: string, path: string): Promise<string> {\n\tconst file = await this.request<GitHubFile>(`/repos/${username}/my-pact/contents/${path}`);\n\tif (file.content) {\n\t\treturn decodeBase64(file.content);\n\t}\n\tthrow new Error('File has no content');\n}",
          "after": "async getFileContent(username: string, path: string): Promise<string> {\n\tconst file = await this.request<GitHubFile>(`/repos/${username}/my-pact/contents/${path}`);\n\t\n\tif (file.type !== 'file') {\n\t\tthrow new Error(`Path '${path}' is not a file (type: ${file.type})`);\n\t}\n\t\n\tif (!file.content) {\n\t\tthrow new Error(`File '${path}' has no content. It may be too large or binary.`);\n\t}\n\t\n\treturn decodeBase64(file.content);\n}",
          "startLine": 105,
          "endLine": 111
        }
      },
      {
        "file": "web/src/lib/github.ts",
        "category": "optimization",
        "severity": "medium",
        "title": "Reduce redundant API calls by returning SHA from updates",
        "description": "The `savePactConfig` method calls `updateFile` but doesn't capture or return the new SHA. This forces consumers to make an additional API call via `getFileSha` if they need the updated SHA for subsequent operations, increasing latency and rate limit consumption.",
        "suggestion": "Modify `savePactConfig` and similar methods to return the updated file metadata including the new SHA. This allows chaining operations without additional API calls.",
        "code": {
          "before": "async savePactConfig(username: string, config: PactConfig, sha?: string): Promise<void> {\n\tconst content = JSON.stringify(config, null, 2);\n\tawait this.updateFile(username, 'pact.json', content, 'Update pact.json', sha);\n}",
          "after": "async savePactConfig(\n\tusername: string,\n\tconfig: PactConfig,\n\tsha?: string\n): Promise<{ sha: string; content: GitHubFile }> {\n\tconst content = JSON.stringify(config, null, 2);\n\tconst result = await this.updateFile(\n\t\tusername,\n\t\t'pact.json',\n\t\tcontent,\n\t\t'Update pact.json',\n\t\tsha\n\t);\n\treturn { sha: result.content.sha, content: result.content };\n}",
          "startLine": 156,
          "endLine": 159
        }
      },
      {
        "file": "web/src/routes/auth/+server.ts",
        "category": "bug",
        "severity": "high",
        "title": "Add error handling for missing GITHUB_CLIENT_ID configuration",
        "description": "The code directly uses GITHUB_CLIENT_ID without validating it exists. If this environment variable is not configured, the OAuth flow will fail silently or with a cryptic error. This creates a poor developer experience and makes debugging difficult in production.",
        "suggestion": "Add runtime validation to ensure GITHUB_CLIENT_ID is configured before attempting OAuth redirect. This provides clear error messages during development and prevents malformed OAuth requests.",
        "code": {
          "before": "export const GET: RequestHandler = async () => {\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "after": "export const GET: RequestHandler = async () => {\n\tif (!GITHUB_CLIENT_ID) {\n\t\tthrow new Error('GITHUB_CLIENT_ID is not configured. Please set this environment variable.');\n\t}\n\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "startLine": 5,
          "endLine": 11
        }
      },
      {
        "file": "web/src/routes/auth/+server.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Add state parameter for CSRF protection in OAuth flow",
        "description": "The OAuth redirect lacks a 'state' parameter, which is a security best practice to prevent CSRF attacks. Without this, an attacker could potentially initiate an OAuth flow and trick a user into authorizing their malicious application. The state parameter should be a cryptographically random value that's verified on callback.",
        "suggestion": "Generate a cryptographically secure random state token, store it in a secure HTTP-only cookie, and include it in the OAuth authorization URL. This prevents CSRF attacks by ensuring the callback originates from the same session.",
        "code": {
          "before": "export const GET: RequestHandler = async () => {\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "after": "import { dev } from '$app/environment';\nimport crypto from 'crypto';\n\nexport const GET: RequestHandler = async ({ cookies }) => {\n\tif (!GITHUB_CLIENT_ID) {\n\t\tthrow new Error('GITHUB_CLIENT_ID is not configured');\n\t}\n\n\tconst state = crypto.randomBytes(32).toString('hex');\n\n\tcookies.set('oauth_state', state, {\n\t\tpath: '/',\n\t\thttpOnly: true,\n\t\tsecure: !dev,\n\t\tsameSite: 'lax',\n\t\tmaxAge: 60 * 10 // 10 minutes\n\t});\n\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo',\n\t\tstate\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "startLine": 5,
          "endLine": 11
        }
      },
      {
        "file": "web/src/routes/auth/+server.ts",
        "category": "optimization",
        "severity": "low",
        "title": "Remove unnecessary async keyword from synchronous handler",
        "description": "The RequestHandler is marked as async but contains no await expressions or asynchronous operations. The function is entirely synchronous (creating URLSearchParams and throwing a redirect). The async keyword adds unnecessary overhead and creates a promise wrapper that provides no value.",
        "suggestion": "Remove the async keyword since the function performs only synchronous operations. This eliminates the unnecessary promise allocation and slightly improves performance.",
        "code": {
          "before": "export const GET: RequestHandler = async () => {\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "after": "export const GET: RequestHandler = () => {\n\tif (!GITHUB_CLIENT_ID) {\n\t\tthrow new Error('GITHUB_CLIENT_ID is not configured');\n\t}\n\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "startLine": 5,
          "endLine": 11
        }
      },
      {
        "file": "web/src/routes/auth/+server.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract OAuth URL construction to improve testability and maintainability",
        "description": "The OAuth URL is constructed inline with hardcoded values. This makes the code harder to test, harder to modify (e.g., if you need to change the base URL or add parameters), and couples the route handler to GitHub-specific implementation details.",
        "suggestion": "Extract the OAuth URL construction into a separate function or constant. This improves testability, makes the code more maintainable, and allows for easier configuration changes.",
        "code": {
          "before": "export const GET: RequestHandler = async () => {\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "after": "const GITHUB_OAUTH_URL = 'https://github.com/login/oauth/authorize';\nconst DEFAULT_SCOPE = 'repo';\n\nfunction buildGitHubAuthUrl(clientId: string, state: string): string {\n\tconst params = new URLSearchParams({\n\t\tclient_id: clientId,\n\t\tscope: DEFAULT_SCOPE,\n\t\tstate\n\t});\n\treturn `${GITHUB_OAUTH_URL}?${params}`;\n}\n\nexport const GET: RequestHandler = () => {\n\tif (!GITHUB_CLIENT_ID) {\n\t\tthrow new Error('GITHUB_CLIENT_ID is not configured');\n\t}\n\n\tconst state = crypto.randomBytes(32).toString('hex');\n\tconst authUrl = buildGitHubAuthUrl(GITHUB_CLIENT_ID, state);\n\n\tthrow redirect(302, authUrl);\n};",
          "startLine": 5,
          "endLine": 11
        }
      },
      {
        "file": "web/src/routes/auth/+server.ts",
        "category": "documentation",
        "severity": "low",
        "title": "Add JSDoc documentation for OAuth endpoint purpose and security considerations",
        "description": "The endpoint lacks documentation explaining its purpose, OAuth flow details, and security considerations. This makes it harder for new developers to understand the authentication flow and potential security implications.",
        "suggestion": "Add comprehensive JSDoc comments documenting the OAuth flow, security measures, and configuration requirements. This improves code maintainability and helps developers understand the authentication implementation.",
        "code": {
          "before": "export const GET: RequestHandler = async () => {\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "after": "/**\n * Initiates GitHub OAuth authentication flow.\n * \n * This endpoint redirects users to GitHub's OAuth authorization page.\n * The 'repo' scope grants access to private and public repositories.\n * \n * Security:\n * - State parameter should be used for CSRF protection\n * - GITHUB_CLIENT_ID must be configured in environment variables\n * \n * @returns 302 redirect to GitHub OAuth authorization\n * @throws Error if GITHUB_CLIENT_ID is not configured\n */\nexport const GET: RequestHandler = () => {\n\tif (!GITHUB_CLIENT_ID) {\n\t\tthrow new Error('GITHUB_CLIENT_ID is not configured');\n\t}\n\n\tconst params = new URLSearchParams({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tscope: 'repo'\n\t});\n\n\tthrow redirect(302, `https://github.com/login/oauth/authorize?${params}`);\n};",
          "startLine": 5,
          "endLine": 11
        }
      },
      {
        "file": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for async operations and potential null reference",
        "description": "The async functions 'Page' and 'generateMetadata' don't handle errors when awaiting params or fetching page data. If 'source.getPage()' returns null, 'notFound()' is called, but TypeScript doesn't recognize this as a type guard. Additionally, there's no try-catch for potential async failures, which could crash the page during build or runtime.",
        "suggestion": "Add explicit type narrowing after notFound() calls and wrap async operations in try-catch blocks to handle potential errors gracefully. Use type assertions or proper type guards to ensure TypeScript understands the control flow.",
        "code": {
          "before": "export default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();\n\n  const MDX = page.data.body;",
          "after": "export default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  try {\n    const params = await props.params;\n    const page = source.getPage(params.slug);\n    if (!page) notFound();\n\n    // Type assertion since notFound() throws and never returns\n    const MDX = page!.data.body;\n    \n    return (\n      <DocsPage toc={page.data.toc} full={page.data.full}>\n        {/* ... */}\n      </DocsPage>\n    );\n  } catch (error) {\n    console.error('Error loading page:', error);\n    notFound();\n  }\n}",
          "startLine": 11,
          "endLine": 16
        }
      },
      {
        "file": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
        "category": "optimization",
        "severity": "medium",
        "title": "Duplicate page fetching in Page and generateMetadata functions",
        "description": "Both 'Page' and 'generateMetadata' functions await params and call 'source.getPage(params.slug)', resulting in duplicate work. In Next.js App Router, these functions run separately, potentially causing the same page data to be fetched twice during static generation or on-demand rendering.",
        "suggestion": "Consider implementing a memoization strategy or caching mechanism for page data retrieval. Next.js 13+ provides automatic request memoization for fetch calls, but if 'source.getPage()' doesn't use fetch internally, you should implement your own caching using React cache() or a custom solution.",
        "code": {
          "before": "export default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();\n  // ...\n}\n\nexport async function generateMetadata(\n  props: PageProps<'/docs/[[...slug]]'>,\n): Promise<Metadata> {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();",
          "after": "import { cache } from 'react';\n\n// Memoize page fetching to prevent duplicate calls\nconst getPageData = cache((slug: string[] | undefined) => {\n  return source.getPage(slug);\n});\n\nexport default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  const params = await props.params;\n  const page = getPageData(params.slug);\n  if (!page) notFound();\n  // ...\n}\n\nexport async function generateMetadata(\n  props: PageProps<'/docs/[[...slug]]'>,\n): Promise<Metadata> {\n  const params = await props.params;\n  const page = getPageData(params.slug);\n  if (!page) notFound();",
          "startLine": 1,
          "endLine": 43
        }
      },
      {
        "file": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
        "category": "refactor",
        "severity": "medium",
        "title": "Repetitive params resolution and page fetching logic",
        "description": "The pattern of awaiting params, fetching the page, and checking for null is duplicated across multiple functions. This creates maintenance overhead and increases the risk of inconsistencies if the logic needs to change.",
        "suggestion": "Extract the common logic into a reusable helper function that combines params resolution, page fetching, and null checking. This improves DRY principles and makes the code more maintainable.",
        "code": {
          "before": "export default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();\n  // ...\n}\n\nexport async function generateMetadata(\n  props: PageProps<'/docs/[[...slug]]'>,\n): Promise<Metadata> {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();",
          "after": "// Helper function to resolve page data\nasync function resolvePage(props: PageProps<'/docs/[[...slug]]'>) {\n  const params = await props.params;\n  const page = source.getPage(params.slug);\n  if (!page) notFound();\n  return page;\n}\n\nexport default async function Page(props: PageProps<'/docs/[[...slug]]'>) {\n  const page = await resolvePage(props);\n  const MDX = page.data.body;\n  // ...\n}\n\nexport async function generateMetadata(\n  props: PageProps<'/docs/[[...slug]]'>,\n): Promise<Metadata> {\n  const page = await resolvePage(props);",
          "startLine": 11,
          "endLine": 43
        }
      },
      {
        "file": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
        "category": "optimization",
        "severity": "low",
        "title": "Inefficient component prop spreading for getMDXComponents",
        "description": "The 'getMDXComponents' function is called with a new object on every render. While this might be intentional for the 'a' component override, it could cause unnecessary re-renders of MDX components if they're memoized or if the getMDXComponents function doesn't handle object identity properly.",
        "suggestion": "Consider memoizing the components object if getMDXComponents returns different instances on each call, or ensure that getMDXComponents itself handles memoization internally. This can improve performance for complex MDX documents.",
        "code": {
          "before": "<MDX\n  components={getMDXComponents({\n    // this allows you to link to other pages with relative file paths\n    a: createRelativeLink(source, page),\n  })}\n/>",
          "after": "// At the top of the component, after page is resolved\nconst mdxComponents = useMemo(\n  () => getMDXComponents({\n    // this allows you to link to other pages with relative file paths\n    a: createRelativeLink(source, page),\n  }),\n  [page]\n);\n\n// Then use it\n<MDX components={mdxComponents} />",
          "startLine": 20,
          "endLine": 25
        }
      },
      {
        "file": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
        "category": "refactor",
        "severity": "low",
        "title": "Missing explicit return type for Page component",
        "description": "The 'Page' component doesn't have an explicit return type annotation. While TypeScript can infer it, explicitly declaring return types for async Server Components improves type safety and makes the code more self-documenting, especially for complex components.",
        "suggestion": "Add explicit return type annotation 'Promise<JSX.Element>' to the Page function. This makes the async nature and return type clear and helps catch potential type errors early.",
        "code": {
          "before": "export default async function Page(props: PageProps<'/docs/[[...slug]]'>) {",
          "after": "export default async function Page(\n  props: PageProps<'/docs/[[...slug]]'>\n): Promise<JSX.Element> {",
          "startLine": 11,
          "endLine": 11
        }
      },
      {
        "file": "web/src/lib/stores/auth.ts",
        "category": "bug",
        "severity": "high",
        "title": "Unsafe JSON.parse can throw runtime errors and crash the app",
        "description": "The code uses JSON.parse on localStorage data without error handling. If the stored data is corrupted or malformed, this will throw an exception during store initialization, potentially crashing the entire application before it renders. This is especially problematic since it happens in the module scope during store creation.",
        "suggestion": "Wrap JSON.parse in a try-catch block and provide a fallback value. This ensures the app remains functional even if localStorage data is corrupted.",
        "code": {
          "before": "const initialState: AuthState = {\n\ttoken: browser ? localStorage.getItem('github_token') : null,\n\tuser: browser ? JSON.parse(localStorage.getItem('github_user') || 'null') : null,\n\tloading: false\n};",
          "after": "function safeParseUser(): User | null {\n\tif (!browser) return null;\n\ttry {\n\t\tconst userData = localStorage.getItem('github_user');\n\t\treturn userData ? JSON.parse(userData) : null;\n\t} catch (error) {\n\t\tconsole.warn('Failed to parse stored user data:', error);\n\t\tlocalStorage.removeItem('github_user');\n\t\treturn null;\n\t}\n}\n\nconst initialState: AuthState = {\n\ttoken: browser ? localStorage.getItem('github_token') : null,\n\tuser: safeParseUser(),\n\tloading: false\n};",
          "startLine": 17,
          "endLine": 21
        }
      },
      {
        "file": "web/src/lib/stores/auth.ts",
        "category": "refactor",
        "severity": "high",
        "title": "Race condition in initialize method can cause stale state updates",
        "description": "The initialize method doesn't track or cancel ongoing requests. If initialize() is called multiple times (e.g., during hot module replacement or navigation), multiple API calls race to update the store. The last call to complete wins, which may not be the most recent call, leading to incorrect state. Additionally, the store might update after logout() is called.",
        "suggestion": "Track the initialization state and use an abort controller to cancel ongoing requests. This prevents race conditions and ensures only the latest request updates the store.",
        "code": {
          "before": "initialize: async () => {\n\tupdate((state) => ({ ...state, loading: true }));\n\t\n\tconst token = browser ? localStorage.getItem('github_token') : null;\n\tif (!token) {\n\t\tupdate((state) => ({ ...state, loading: false }));\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst response = await fetch('https://api.github.com/user', {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\tAccept: 'application/vnd.github+json'\n\t\t\t}\n\t\t});",
          "after": "let abortController: AbortController | null = null;\n\ninitialize: async () => {\n\t// Cancel any pending request\n\tif (abortController) {\n\t\tabortController.abort();\n\t}\n\tabortController = new AbortController();\n\t\n\tupdate((state) => ({ ...state, loading: true }));\n\t\n\tconst token = browser ? localStorage.getItem('github_token') : null;\n\tif (!token) {\n\t\tupdate((state) => ({ ...state, loading: false }));\n\t\tabortController = null;\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst response = await fetch('https://api.github.com/user', {\n\t\t\tsignal: abortController.signal,\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\tAccept: 'application/vnd.github+json'\n\t\t\t}\n\t\t});",
          "startLine": 48,
          "endLine": 59
        }
      },
      {
        "file": "web/src/lib/stores/auth.ts",
        "category": "bug",
        "severity": "medium",
        "title": "Inconsistent state after failed initialization",
        "description": "When the API call fails with a network error (catch block), the loading state is set to false but the token remains in the store even though the user data couldn't be fetched. This creates an inconsistent state where isAuthenticated might be false (no user) but a token exists, potentially causing authorization issues in dependent components.",
        "suggestion": "Clear the token on network errors to maintain consistency. Users will need to re-authenticate, but this prevents invalid application states and security issues.",
        "code": {
          "before": "} catch (error) {\n\tconsole.error('Failed to fetch user:', error);\n\tupdate((state) => ({ ...state, loading: false }));\n}",
          "after": "} catch (error) {\n\t// Don't clear state on abort errors (user-initiated cancellation)\n\tif (error instanceof Error && error.name === 'AbortError') {\n\t\treturn;\n\t}\n\t\n\tconsole.error('Failed to fetch user:', error);\n\t// Clear auth state on network errors to prevent inconsistent state\n\tif (browser) {\n\t\tlocalStorage.removeItem('github_token');\n\t\tlocalStorage.removeItem('github_user');\n\t}\n\tset({ token: null, user: null, loading: false });\n}",
          "startLine": 76,
          "endLine": 79
        }
      },
      {
        "file": "web/src/lib/stores/auth.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Duplicate localStorage logic creates maintenance burden",
        "description": "The browser check and localStorage operations are repeated throughout the code (8 times). This violates the DRY principle and makes it harder to maintain. If the storage mechanism needs to change (e.g., to use sessionStorage or a different key prefix), it requires updates in multiple places.",
        "suggestion": "Extract localStorage operations into a dedicated storage helper with consistent error handling. This centralizes the logic and makes future changes easier.",
        "code": {
          "before": "setToken: (token: string) => {\n\tif (browser) {\n\t\tlocalStorage.setItem('github_token', token);\n\t}\n\tupdate((state) => ({ ...state, token }));\n},\nsetUser: (user: User) => {\n\tif (browser) {\n\t\tlocalStorage.setItem('github_user', JSON.stringify(user));\n\t}\n\tupdate((state) => ({ ...state, user }));\n},",
          "after": "const storage = {\n\tgetToken: () => browser ? localStorage.getItem('github_token') : null,\n\tsetToken: (token: string) => browser && localStorage.setItem('github_token', token),\n\tremoveToken: () => browser && localStorage.removeItem('github_token'),\n\tgetUser: (): User | null => {\n\t\tif (!browser) return null;\n\t\ttry {\n\t\t\tconst data = localStorage.getItem('github_user');\n\t\t\treturn data ? JSON.parse(data) : null;\n\t\t} catch {\n\t\t\tlocalStorage.removeItem('github_user');\n\t\t\treturn null;\n\t\t}\n\t},\n\tsetUser: (user: User) => browser && localStorage.setItem('github_user', JSON.stringify(user)),\n\tremoveUser: () => browser && localStorage.removeItem('github_user'),\n\tclear: () => {\n\t\tif (browser) {\n\t\t\tlocalStorage.removeItem('github_token');\n\t\t\tlocalStorage.removeItem('github_user');\n\t\t}\n\t}\n};\n\nsetToken: (token: string) => {\n\tstorage.setToken(token);\n\tupdate((state) => ({ ...state, token }));\n},\nsetUser: (user: User) => {\n\tstorage.setUser(user);\n\tupdate((state) => ({ ...state, user }));\n},",
          "startLine": 27,
          "endLine": 38
        }
      },
      {
        "file": "web/src/lib/stores/auth.ts",
        "category": "optimization",
        "severity": "low",
        "title": "User interface doesn't validate API response shape",
        "description": "The code assumes the GitHub API response matches the User interface without validation. If the API changes or returns unexpected data, this could lead to runtime errors in components consuming the auth store. TypeScript provides no runtime guarantees for external data.",
        "suggestion": "Add runtime validation using a type guard to ensure the API response matches expected shape. This provides defense against API changes and improves robustness.",
        "code": {
          "before": "if (response.ok) {\n\tconst user = await response.json();\n\tif (browser) {\n\t\tlocalStorage.setItem('github_user', JSON.stringify(user));\n\t}\n\tupdate((state) => ({ ...state, user, loading: false }));\n}",
          "after": "function isValidUser(data: unknown): data is User {\n\treturn (\n\t\ttypeof data === 'object' &&\n\t\tdata !== null &&\n\t\t'login' in data && typeof data.login === 'string' &&\n\t\t'id' in data && typeof data.id === 'number' &&\n\t\t'avatar_url' in data && typeof data.avatar_url === 'string' &&\n\t\t'name' in data && (data.name === null || typeof data.name === 'string')\n\t);\n}\n\nif (response.ok) {\n\tconst data = await response.json();\n\tif (!isValidUser(data)) {\n\t\tconsole.error('Invalid user data received from API');\n\t\tset({ token: null, user: null, loading: false });\n\t\tstorage.clear();\n\t\treturn;\n\t}\n\tif (browser) {\n\t\tlocalStorage.setItem('github_user', JSON.stringify(data));\n\t}\n\tupdate((state) => ({ ...state, user: data, loading: false }));\n}",
          "startLine": 61,
          "endLine": 67
        }
      },
      {
        "file": "web/src/routes/api/auth/callback/+server.ts",
        "category": "bug",
        "severity": "high",
        "title": "Missing type safety for GitHub OAuth response and potential runtime errors",
        "description": "The tokenData response from GitHub is typed as 'any' by default, which can lead to runtime errors. Additionally, there's no validation of the response structure before accessing properties, and the error handling doesn't distinguish between network errors and SvelteKit errors properly.",
        "suggestion": "Define explicit types for the GitHub OAuth response and add proper type guards. This prevents runtime errors and improves type safety throughout the function.",
        "code": {
          "before": "const tokenData = await tokenResponse.json();\n\nif (tokenData.error) {\n\tconsole.error('GitHub OAuth error:', tokenData.error, tokenData.error_description);\n\tthrow error(400, tokenData.error_description || tokenData.error);\n}\n\nif (!tokenData.access_token) {\n\tconsole.error('No access token in response:', JSON.stringify(tokenData));\n\tthrow error(500, 'No access token received from GitHub');\n}",
          "after": "interface GitHubTokenResponse {\n\taccess_token?: string;\n\ttoken_type?: string;\n\tscope?: string;\n\terror?: string;\n\terror_description?: string;\n\terror_uri?: string;\n}\n\nconst tokenData = await tokenResponse.json() as GitHubTokenResponse;\n\nif (tokenData.error) {\n\tconsole.error('GitHub OAuth error:', tokenData.error, tokenData.error_description);\n\tthrow error(400, tokenData.error_description || tokenData.error);\n}\n\nif (!tokenData.access_token) {\n\tconsole.error('No access token in response:', JSON.stringify(tokenData));\n\tthrow error(500, 'No access token received from GitHub');\n}",
          "startLine": 33,
          "endLine": 42
        }
      },
      {
        "file": "web/src/routes/api/auth/callback/+server.ts",
        "category": "bug",
        "severity": "high",
        "title": "Unsafe error re-throwing with insufficient type checking",
        "description": "The catch block uses 'in' operator on 'e' without proper type narrowing. This can fail if 'e' is null, undefined, or a primitive value. The check 'typeof e === \"object\"' doesn't exclude null, and the pattern doesn't handle all SvelteKit error types correctly.",
        "suggestion": "Use proper type guards and instanceof checks for error handling. Import HttpError from SvelteKit to correctly identify framework errors and handle them separately from generic errors.",
        "code": {
          "before": "} catch (e) {\n\tconsole.error('Token exchange error:', e);\n\tif (e && typeof e === 'object' && 'status' in e) {\n\t\tthrow e; // Re-throw SvelteKit errors\n\t}\n\tthrow error(500, 'Failed to exchange code for token');\n}",
          "after": "} catch (e) {\n\tconsole.error('Token exchange error:', e);\n\t// Re-throw if it's already a SvelteKit HttpError\n\tif (e !== null && typeof e === 'object' && 'status' in e && 'body' in e) {\n\t\tthrow e;\n\t}\n\t// Handle fetch network errors\n\tif (e instanceof TypeError) {\n\t\tthrow error(502, 'Failed to connect to GitHub');\n\t}\n\tthrow error(500, 'Failed to exchange code for token');\n}",
          "startLine": 47,
          "endLine": 53
        }
      },
      {
        "file": "web/src/routes/api/auth/callback/+server.ts",
        "category": "refactor",
        "severity": "medium",
        "title": "Improve input validation and type safety for request payload",
        "description": "The request.json() call is untyped, and there's no validation that the parsed JSON actually contains the expected structure. This can lead to runtime errors if the client sends malformed data or additional unexpected fields.",
        "suggestion": "Define an interface for the expected request body and add runtime validation. This provides both compile-time type safety and runtime validation.",
        "code": {
          "before": "export const POST: RequestHandler = async ({ request, platform }) => {\n\tconst { code } = await request.json();\n\n\tif (!code) {\n\t\tthrow error(400, 'Missing authorization code');\n\t}",
          "after": "interface CallbackRequest {\n\tcode?: string;\n}\n\nexport const POST: RequestHandler = async ({ request, platform }) => {\n\tconst body = await request.json() as CallbackRequest;\n\tconst { code } = body;\n\n\tif (!code || typeof code !== 'string' || code.trim() === '') {\n\t\tthrow error(400, 'Missing or invalid authorization code');\n\t}",
          "startLine": 5,
          "endLine": 10
        }
      },
      {
        "file": "web/src/routes/api/auth/callback/+server.ts",
        "category": "optimization",
        "severity": "medium",
        "title": "Add HTTP response status validation before parsing JSON",
        "description": "The code doesn't check if the GitHub API request was successful (HTTP 200) before attempting to parse the response as JSON. Non-2xx responses might not contain valid JSON or might have a different structure, leading to unclear error messages.",
        "suggestion": "Check the response status before parsing JSON. This provides better error messages and prevents parsing errors on non-JSON error responses from GitHub.",
        "code": {
          "before": "const tokenResponse = await fetch('https://github.com/login/oauth/access_token', {\n\tmethod: 'POST',\n\theaders: {\n\t\tAccept: 'application/json',\n\t\t'Content-Type': 'application/json'\n\t},\n\tbody: JSON.stringify({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tclient_secret: GITHUB_CLIENT_SECRET,\n\t\tcode\n\t})\n});\n\nconst tokenData = await tokenResponse.json() as GitHubTokenResponse;",
          "after": "const tokenResponse = await fetch('https://github.com/login/oauth/access_token', {\n\tmethod: 'POST',\n\theaders: {\n\t\tAccept: 'application/json',\n\t\t'Content-Type': 'application/json'\n\t},\n\tbody: JSON.stringify({\n\t\tclient_id: GITHUB_CLIENT_ID,\n\t\tclient_secret: GITHUB_CLIENT_SECRET,\n\t\tcode\n\t})\n});\n\nif (!tokenResponse.ok) {\n\tconsole.error('GitHub API returned non-OK status:', tokenResponse.status);\n\tthrow error(502, `GitHub API error: ${tokenResponse.status} ${tokenResponse.statusText}`);\n}\n\nconst tokenData = await tokenResponse.json() as GitHubTokenResponse;",
          "startLine": 24,
          "endLine": 37
        }
      },
      {
        "file": "web/src/routes/api/auth/callback/+server.ts",
        "category": "refactor",
        "severity": "low",
        "title": "Avoid logging sensitive configuration in production",
        "description": "The code logs the entire platform object when GITHUB_CLIENT_SECRET is missing. This could potentially expose sensitive environment variables or configuration details in production logs. Additionally, the error message reveals internal configuration details to the client.",
        "suggestion": "Remove sensitive logging and provide generic error messages to clients while keeping detailed logs server-side only. Use environment-aware logging levels.",
        "code": {
          "before": "if (!GITHUB_CLIENT_SECRET) {\n\tconsole.error('GITHUB_CLIENT_SECRET not found. Platform:', JSON.stringify(platform));\n\tthrow error(500, 'Server configuration error: missing client secret');\n}",
          "after": "if (!GITHUB_CLIENT_SECRET) {\n\tconsole.error('GITHUB_CLIENT_SECRET not found in environment variables');\n\tthrow error(500, 'Server configuration error');\n}",
          "startLine": 16,
          "endLine": 19
        }
      },
      {
        "file": "cli/cmd/status.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Replace os.Exit with error returns for testability",
        "description": "Using os.Exit in command handlers makes the code untestable and prevents proper cleanup with defer statements. Cobra commands can return errors that are handled by the framework, which allows for better testing and cleaner separation of concerns.",
        "suggestion": "Return errors instead of calling os.Exit directly. Let the cobra framework handle error reporting and exit codes.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tif !config.Exists() {\n\t\tfmt.Println(\"Pact is not initialized. Run 'pact init' first.\")\n\t\tos.Exit(1)\n\t}\n\n\tcfg, err := config.Load()\n\tif err != nil {\n\t\tfmt.Printf(\"Error loading config: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n\n\t// Print status without interactive mode\n\tfmt.Println(ui.RenderStatus(cfg))\n}",
          "after": "RunE: func(cmd *cobra.Command, args []string) error {\n\tif !config.Exists() {\n\t\treturn fmt.Errorf(\"pact is not initialized. Run 'pact init' first\")\n\t}\n\n\tcfg, err := config.Load()\n\tif err != nil {\n\t\treturn fmt.Errorf(\"error loading config: %w\", err)\n\t}\n\n\t// Print status without interactive mode\n\tfmt.Println(ui.RenderStatus(cfg))\n\treturn nil\n}",
          "startLine": 14,
          "endLine": 28
        }
      },
      {
        "file": "cli/cmd/status.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Use error wrapping for better error context",
        "description": "Error wrapping with %w provides a chain of context while maintaining the ability to use errors.Is and errors.As for error inspection. This follows Go 1.13+ idioms and provides better debugging information.",
        "suggestion": "Wrap errors using fmt.Errorf with %w verb instead of %v to maintain error chain and enable error inspection.",
        "code": {
          "before": "cfg, err := config.Load()\nif err != nil {\n\tfmt.Printf(\"Error loading config: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "cfg, err := config.Load()\nif err != nil {\n\treturn fmt.Errorf(\"error loading config: %w\", err)\n}",
          "startLine": 21,
          "endLine": 25
        }
      },
      {
        "file": "cli/cmd/status.go",
        "category": "style",
        "severity": "low",
        "title": "Consistent error message formatting",
        "description": "Go convention for error messages is to use lowercase and avoid ending punctuation unless it's part of a proper noun or acronym. This makes error messages composable when wrapped. The current messages mix styles (capitalized 'Error' and 'Pact', ending periods).",
        "suggestion": "Follow Go error message conventions: lowercase start, no trailing punctuation, preserve proper nouns.",
        "code": {
          "before": "fmt.Println(\"Pact is not initialized. Run 'pact init' first.\")\n...\nfmt.Printf(\"Error loading config: %v\\n\", err)",
          "after": "return fmt.Errorf(\"pact is not initialized, run 'pact init' first\")\n...\nreturn fmt.Errorf(\"failed to load config: %w\", err)",
          "startLine": 17,
          "endLine": 23
        }
      },
      {
        "file": "cli/cmd/status.go",
        "category": "refactor",
        "severity": "low",
        "title": "Use cmd.Print* methods instead of fmt.Print*",
        "description": "Cobra commands provide Print, Printf, and Println methods that write to the command's output writer. This makes commands more testable by allowing output redirection during tests, and follows the Cobra framework conventions.",
        "suggestion": "Use cmd.Println instead of fmt.Println to write command output, enabling better testing and following Cobra best practices.",
        "code": {
          "before": "// Print status without interactive mode\nfmt.Println(ui.RenderStatus(cfg))",
          "after": "// Print status without interactive mode\ncmd.Println(ui.RenderStatus(cfg))",
          "startLine": 27,
          "endLine": 28
        }
      },
      {
        "file": "cli/cmd/status.go",
        "category": "documentation",
        "severity": "low",
        "title": "Add package-level documentation for exported command",
        "description": "While statusCmd is package-level, it will likely be accessed by the parent command registration. Adding a comment explaining the command's purpose and any side effects helps maintainability. The comment 'Print status without interactive mode' suggests there might be an interactive mode elsewhere that should be documented.",
        "suggestion": "Add explanatory comment about the command's behavior and clarify the 'interactive mode' reference.",
        "code": {
          "before": "var statusCmd = &cobra.Command{\n\tUse:   \"status\",\n\tShort: \"Show pact status\",\n\tLong:  `Display the current status of all modules and secrets.`,",
          "after": "// statusCmd displays the current configuration status including all modules and secrets.\n// This command requires pact to be initialized and outputs a non-interactive status view.\nvar statusCmd = &cobra.Command{\n\tUse:   \"status\",\n\tShort: \"Show pact status\",\n\tLong:  `Display the current status of all modules and secrets.`,",
          "startLine": 12,
          "endLine": 15
        }
      },
      {
        "file": "cli/cmd/root.go",
        "category": "bug",
        "severity": "high",
        "title": "Improper error handling in Execute function leads to duplicate error output",
        "description": "The Execute() function prints the error and exits, but cobra.Command.Execute() already handles error printing by default. This results in duplicate error messages. Additionally, using os.Exit(1) in library-style code prevents deferred functions from running and makes testing difficult. The idiomatic approach is to return the error to the caller.",
        "suggestion": "Remove the error check wrapper and let the caller (main.go) handle the error. If you must exit, ensure errors aren't printed twice. Better yet, return the error from Execute() and handle it in main().",
        "code": {
          "before": "func Execute() {\n\tif err := rootCmd.Execute(); err != nil {\n\t\tfmt.Println(err)\n\t\tos.Exit(1)\n\t}\n}",
          "after": "func Execute() error {\n\treturn rootCmd.Execute()\n}\n\n// In main.go:\n// if err := cmd.Execute(); err != nil {\n//     os.Exit(1)\n// }",
          "startLine": 42,
          "endLine": 47
        }
      },
      {
        "file": "cli/cmd/root.go",
        "category": "bug",
        "severity": "medium",
        "title": "Race condition when reloading config after sync operation",
        "description": "In the Update() method's syncDoneMsg case, the config is reloaded and directly assigned to the model without checking if the sync operation succeeded. If sync fails (err is not nil), the model still attempts to reload config which might be in an inconsistent state. Additionally, the sync operation runs asynchronously via exec.Command, but there's no guarantee the file system operations have completed when the reload happens.",
        "suggestion": "Check the sync error before reloading config. Only reload if the sync succeeded. Consider also displaying the sync error to the user in the TUI.",
        "code": {
          "before": "case syncDoneMsg:\n\t// Reload config after sync\n\tcfg, err := config.Load()\n\tm.cfg = cfg\n\tm.err = err\n\treturn m, nil",
          "after": "case syncDoneMsg:\n\tif msg.err != nil {\n\t\tm.err = fmt.Errorf(\"sync failed: %w\", msg.err)\n\t\treturn m, nil\n\t}\n\t// Reload config after successful sync\n\tcfg, err := config.Load()\n\tm.cfg = cfg\n\tm.err = err\n\treturn m, nil",
          "startLine": 88,
          "endLine": 93
        }
      },
      {
        "file": "cli/cmd/root.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Missing error propagation from editDoneMsg handler",
        "description": "The editDoneMsg case handler ignores the error completely, unlike syncDoneMsg. This inconsistency means users won't be notified if the edit operation fails. Error handling should be consistent across similar operations in the TUI.",
        "suggestion": "Handle the error from editDoneMsg similar to syncDoneMsg. Store it in the model's err field so the View() method can display it to the user.",
        "code": {
          "before": "case editDoneMsg:\n\treturn m, nil",
          "after": "case editDoneMsg:\n\tif msg.err != nil {\n\t\tm.err = fmt.Errorf(\"edit failed: %w\", msg.err)\n\t}\n\treturn m, nil",
          "startLine": 94,
          "endLine": 95
        }
      },
      {
        "file": "cli/cmd/root.go",
        "category": "bug",
        "severity": "medium",
        "title": "Unchecked error in initialModel constructor",
        "description": "The initialModel() function loads config and stores the error in the model, but the error isn't handled immediately. This means the TUI will start even if config loading fails critically. While the View() method does check m.err, this pattern makes it easy to accidentally use m.cfg when it's nil, leading to potential panics.",
        "suggestion": "Consider failing fast if config cannot be loaded, or ensure all uses of m.cfg check for nil. Alternatively, have Init() return an error command that the Bubble Tea runtime can handle gracefully.",
        "code": {
          "before": "func initialModel() model {\n\tcfg, err := config.Load()\n\treturn model{\n\t\tcfg: cfg,\n\t\terr: err,\n\t}\n}",
          "after": "func initialModel() model {\n\tcfg, err := config.Load()\n\tif err != nil {\n\t\t// Return model with error, View will display it\n\t\treturn model{\n\t\t\tcfg: nil,\n\t\t\terr: fmt.Errorf(\"failed to load config: %w\", err),\n\t\t}\n\t}\n\treturn model{\n\t\tcfg: cfg,\n\t\terr: nil,\n\t}\n}",
          "startLine": 71,
          "endLine": 77
        }
      },
      {
        "file": "cli/cmd/root.go",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent exit code handling and error formatting",
        "description": "The code uses os.Exit(1) in multiple places with inconsistent error formatting (fmt.Println vs fmt.Printf). The Run function also doesn't wrap errors with context, making debugging harder. Idiomatic Go prefers consistent error handling patterns and error wrapping with %w for error chains.",
        "suggestion": "Standardize error output formatting using fmt.Fprintf(os.Stderr, ...) and wrap errors with context using fmt.Errorf with %w. Consider using a helper function for consistent exit behavior.",
        "code": {
          "before": "if _, err := p.Run(); err != nil {\n\tfmt.Printf(\"Error: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "if _, err := p.Run(); err != nil {\n\tfmt.Fprintf(os.Stderr, \"failed to run TUI: %v\\n\", err)\n\tos.Exit(1)\n}",
          "startLine": 32,
          "endLine": 35
        }
      },
      {
        "file": "cli/cmd/edit.go",
        "category": "bug",
        "severity": "high",
        "title": "Path traversal vulnerability in file path construction",
        "description": "The code uses `filepath.Join(pactDir, args[0])` without validating that the resulting path is within the pact directory. An attacker could use path traversal sequences like '../../../etc/passwd' to access or edit files outside the intended directory. This is a security vulnerability that could lead to unauthorized file access or modification.",
        "suggestion": "Validate that the resolved path is within the pact directory using `filepath.Clean` and checking that the result starts with the pact directory path. This prevents directory traversal attacks.",
        "code": {
          "before": "targetPath := filepath.Join(pactDir, args[0])\nif _, err := os.Stat(targetPath); os.IsNotExist(err) {\n\tfmt.Printf(\"Path not found: %s\\n\", targetPath)\n\tfmt.Println(\"Available modules: shell, editor, terminal, git, ai, tools, keybindings, snippets, fonts\")\n\tos.Exit(1)\n}",
          "after": "targetPath := filepath.Join(pactDir, args[0])\n// Prevent path traversal attacks\ncleanTarget := filepath.Clean(targetPath)\ncleanPactDir := filepath.Clean(pactDir)\nif !filepath.HasPrefix(cleanTarget, cleanPactDir) {\n\tfmt.Printf(\"Error: path must be within pact directory\\n\")\n\tos.Exit(1)\n}\nif _, err := os.Stat(cleanTarget); os.IsNotExist(err) {\n\tfmt.Printf(\"Path not found: %s\\n\", cleanTarget)\n\tfmt.Println(\"Available modules: shell, editor, terminal, git, ai, tools, keybindings, snippets, fonts\")\n\tos.Exit(1)\n}",
          "startLine": 100,
          "endLine": 105
        }
      },
      {
        "file": "cli/cmd/edit.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Replace os.Exit calls with error returns for testability",
        "description": "The Run function uses `os.Exit(1)` directly in multiple places, which makes the code untestable and violates the principle of separation of concerns. Cobra commands can return errors that the framework handles appropriately. Using `os.Exit` also prevents proper cleanup via defer statements and makes unit testing impossible since the entire process terminates.",
        "suggestion": "Change the Run function to RunE and return errors instead of calling os.Exit. This makes the code testable, allows proper cleanup, and follows idiomatic Cobra patterns.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tif len(args) == 0 {\n\t\tpactDir, err := config.GetPactDir()\n\t\tif err != nil {\n\t\t\tfmt.Printf(\"Error: %v\\n\", err)\n\t\t\tos.Exit(1)\n\t\t}\n\t\t// ... more code with os.Exit calls\n\t}\n}",
          "after": "RunE: func(cmd *cobra.Command, args []string) error {\n\tif len(args) == 0 {\n\t\tpactDir, err := config.GetPactDir()\n\t\tif err != nil {\n\t\t\treturn fmt.Errorf(\"failed to get pact directory: %w\", err)\n\t\t}\n\t\tconfigPath := filepath.Join(pactDir, \"pact.json\")\n\t\tif _, err := os.Stat(configPath); os.IsNotExist(err) {\n\t\t\treturn fmt.Errorf(\"pact not initialized. Run 'pact init' first\")\n\t\t}\n\t\tfmt.Printf(\"Opening %s in %s...\\n\", configPath, getEditor())\n\t\tif err := openInEditor(configPath); err != nil {\n\t\t\treturn fmt.Errorf(\"failed to open editor: %w\", err)\n\t\t}\n\t\treturn nil\n\t}\n\t// ... similar changes for other branches\n}",
          "startLine": 53,
          "endLine": 118
        }
      },
      {
        "file": "cli/cmd/edit.go",
        "category": "bug",
        "severity": "medium",
        "title": "Missing error check for filepath.HasPrefix alternative",
        "description": "The code uses `filepath.Join` but doesn't account for the fact that Go's filepath package doesn't have a `filepath.HasPrefix` function (it's `strings.HasPrefix` with careful path handling). More importantly, the path validation should use `filepath.Rel` to properly check if a path is within another directory, accounting for symbolic links and normalization issues.",
        "suggestion": "Use `filepath.Rel` to validate that the target path is within the pact directory. If `filepath.Rel` returns a path starting with '..', it means the target is outside the base directory.",
        "code": {
          "before": "targetPath := filepath.Join(pactDir, args[0])",
          "after": "targetPath := filepath.Join(pactDir, args[0])\ncleanTarget, err := filepath.Abs(targetPath)\nif err != nil {\n\treturn fmt.Errorf(\"failed to resolve path: %w\", err)\n}\ncleanPactDir, err := filepath.Abs(pactDir)\nif err != nil {\n\treturn fmt.Errorf(\"failed to resolve pact directory: %w\", err)\n}\nrelPath, err := filepath.Rel(cleanPactDir, cleanTarget)\nif err != nil || len(relPath) > 0 && relPath[0] == '.' && relPath[1] == '.' {\n\treturn fmt.Errorf(\"path must be within pact directory\")\n}\ntargetPath = cleanTarget",
          "startLine": 100,
          "endLine": 100
        }
      },
      {
        "file": "cli/cmd/edit.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract command logic into separate testable functions",
        "description": "The Run function contains all the business logic inline, making it difficult to test individual behaviors. Following Go best practices and the principle of separating concerns, command handlers should be thin wrappers that call well-tested business logic functions. This improves testability, reusability, and maintainability.",
        "suggestion": "Extract the logic for editing config, opening web editor, and editing paths into separate functions. This allows unit testing without involving Cobra infrastructure and makes the code more maintainable.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tif len(args) == 0 {\n\t\tpactDir, err := config.GetPactDir()\n\t\t// ... 15 lines of logic\n\t}\n\tif args[0] == \"web\" {\n\t\t// ... 7 lines of logic\n\t}\n\t// ... 15 more lines\n}",
          "after": "RunE: func(cmd *cobra.Command, args []string) error {\n\tif len(args) == 0 {\n\t\treturn editConfig()\n\t}\n\tif args[0] == \"web\" {\n\t\treturn openWebEditor()\n\t}\n\treturn editPath(args[0])\n}\n\nfunc editConfig() error {\n\tpactDir, err := config.GetPactDir()\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to get pact directory: %w\", err)\n\t}\n\t// ... rest of config editing logic\n}\n\nfunc openWebEditor() error {\n\twebURL := getWebURL()\n\tfmt.Printf(\"Opening %s...\\n\", webURL)\n\tif err := browser.OpenURL(webURL); err != nil {\n\t\tfmt.Printf(\"Please visit %s manually.\\n\", webURL)\n\t\treturn fmt.Errorf(\"failed to open browser: %w\", err)\n\t}\n\treturn nil\n}\n\nfunc editPath(path string) error {\n\t// ... path editing logic with proper validation\n}",
          "startLine": 53,
          "endLine": 118
        }
      },
      {
        "file": "cli/cmd/edit.go",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent error handling and user feedback for browser.OpenURL",
        "description": "When `browser.OpenURL` fails, the code prints an error message and a manual fallback URL but doesn't return an error, treating the failure as a soft error. However, this inconsistency with other error handling in the function could be confusing. It's unclear whether this should be a fatal error or just a warning. If it's acceptable to fail gracefully, this should be explicit in the control flow.",
        "suggestion": "Be explicit about soft error handling. Either return an error consistently, or use a clear pattern (like a warning function) to indicate this is an expected, non-fatal failure mode.",
        "code": {
          "before": "if err := browser.OpenURL(webURL); err != nil {\n\tfmt.Printf(\"Error opening browser: %v\\n\", err)\n\tfmt.Printf(\"Please visit %s manually.\\n\", webURL)\n}\nreturn",
          "after": "if err := browser.OpenURL(webURL); err != nil {\n\t// Soft error: browser opening failed but user can visit manually\n\tfmt.Fprintf(os.Stderr, \"Warning: failed to open browser: %v\\n\", err)\n\tfmt.Printf(\"Please visit %s manually.\\n\", webURL)\n\treturn nil // Not a fatal error\n}\nreturn nil",
          "startLine": 86,
          "endLine": 90
        }
      },
      {
        "file": "cli/cmd/secret.go",
        "category": "bug",
        "severity": "high",
        "title": "Silent error swallowing in password fallback logic",
        "description": "When term.ReadPassword fails, the code falls back to bufio.NewReader but silently ignores the error from reader.ReadString. This could lead to empty passwords being stored when an error occurs during input reading. The fallback error should be checked and handled properly to avoid data integrity issues.",
        "suggestion": "Check the error from reader.ReadString and handle it appropriately. Consider whether a fallback is even appropriate - if term.ReadPassword fails, it may indicate a terminal issue that should be reported rather than silently worked around.",
        "code": {
          "before": "if err != nil {\n\t// Fallback to regular input if term.ReadPassword fails\n\treader := bufio.NewReader(os.Stdin)\n\tinput, _ := reader.ReadString('\\n')\n\tpassword = []byte(strings.TrimSpace(input))\n}",
          "after": "if err != nil {\n\t// Fallback to regular input if term.ReadPassword fails\n\tfmt.Fprintf(os.Stderr, \"Warning: secure input not available, input will be visible\\n\")\n\treader := bufio.NewReader(os.Stdin)\n\tinput, err := reader.ReadString('\\n')\n\tif err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Error reading input: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n\tpassword = []byte(strings.TrimSpace(input))\n}",
          "startLine": 36,
          "endLine": 41
        }
      },
      {
        "file": "cli/cmd/secret.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Replace os.Exit calls with error returns for testability",
        "description": "Direct calls to os.Exit prevent proper testing and make the code less composable. Cobra commands can return errors instead of calling os.Exit, which allows the framework to handle exit codes appropriately and enables unit testing of command logic without terminating the test process.",
        "suggestion": "Return errors from cobra.Command Run functions instead of calling os.Exit. The cobra framework will handle non-zero exit codes automatically, and this pattern makes the code testable.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tname := args[0]\n\t// ... code ...\n\tif value == \"\" {\n\t\tfmt.Println(\"Error: Value cannot be empty\")\n\t\tos.Exit(1)\n\t}\n\tif err := keyring.SetSecret(name, value); err != nil {\n\t\tfmt.Printf(\"Error storing secret: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n}",
          "after": "RunE: func(cmd *cobra.Command, args []string) error {\n\tname := args[0]\n\t// ... code ...\n\tif value == \"\" {\n\t\treturn fmt.Errorf(\"value cannot be empty\")\n\t}\n\tif err := keyring.SetSecret(name, value); err != nil {\n\t\treturn fmt.Errorf(\"storing secret: %w\", err)\n\t}\n\tfmt.Printf(\"✓ Secret '%s' stored in keychain\\n\", name)\n\treturn nil\n}",
          "startLine": 27,
          "endLine": 56
        }
      },
      {
        "file": "cli/cmd/secret.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract password reading logic into a separate function",
        "description": "The password reading logic with fallback handling is complex and violates the single responsibility principle. Extracting it into a dedicated function improves testability, reusability, and makes the command handler clearer. This follows the Go proverb 'Clear is better than clever.'",
        "suggestion": "Create a separate function that handles password reading with proper error handling. This makes the code more modular and easier to test.",
        "code": {
          "before": "fmt.Printf(\"Enter value for %s: \", name)\n\n// Read password without echo\npassword, err := term.ReadPassword(int(syscall.Stdin))\nfmt.Println() // newline after password input\n\nif err != nil {\n\t// Fallback to regular input if term.ReadPassword fails\n\treader := bufio.NewReader(os.Stdin)\n\tinput, _ := reader.ReadString('\\n')\n\tpassword = []byte(strings.TrimSpace(input))\n}\n\nvalue := strings.TrimSpace(string(password))",
          "after": "func readSecretValue(prompt string) (string, error) {\n\tfmt.Print(prompt)\n\tpassword, err := term.ReadPassword(int(syscall.Stdin))\n\tfmt.Println()\n\t\n\tif err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Warning: secure input unavailable\\n\")\n\t\treader := bufio.NewReader(os.Stdin)\n\t\tinput, err := reader.ReadString('\\n')\n\t\tif err != nil {\n\t\t\treturn \"\", fmt.Errorf(\"reading input: %w\", err)\n\t\t}\n\t\treturn strings.TrimSpace(input), nil\n\t}\n\treturn strings.TrimSpace(string(password)), nil\n}\n\n// In command:\nvalue, err := readSecretValue(fmt.Sprintf(\"Enter value for %s: \", name))\nif err != nil {\n\treturn fmt.Errorf(\"reading secret: %w\", err)\n}",
          "startLine": 30,
          "endLine": 43
        }
      },
      {
        "file": "cli/cmd/secret.go",
        "category": "style",
        "severity": "low",
        "title": "Use fmt.Fprintf with os.Stderr for error messages",
        "description": "Error messages are currently written to stdout using fmt.Println and fmt.Printf. Following Unix conventions and Go best practices, error messages should be written to stderr (os.Stderr). This allows proper stream separation and enables users to redirect output and errors independently.",
        "suggestion": "Use fmt.Fprintf(os.Stderr, ...) for all error messages to write to stderr instead of stdout. This is idiomatic for CLI tools.",
        "code": {
          "before": "if err := keyring.SetSecret(name, value); err != nil {\n\tfmt.Printf(\"Error storing secret: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "if err := keyring.SetSecret(name, value); err != nil {\n\tfmt.Fprintf(os.Stderr, \"Error storing secret: %v\\n\", err)\n\tos.Exit(1)\n}",
          "startLine": 50,
          "endLine": 53
        }
      },
      {
        "file": "cli/cmd/secret.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Add context.Context support for cancellation",
        "description": "The commands don't support context cancellation, which means operations cannot be interrupted gracefully (e.g., Ctrl+C during password input). Cobra supports context through cmd.Context(), and keyring operations should accept context for proper cancellation handling. This is especially important for interactive operations like password input.",
        "suggestion": "Use cmd.Context() and pass it to long-running or interactive operations. This enables proper cancellation and follows Go concurrency patterns.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tname := args[0]\n\t// ... password reading ...\n\tif err := keyring.SetSecret(name, value); err != nil {\n\t\tfmt.Printf(\"Error storing secret: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n}",
          "after": "RunE: func(cmd *cobra.Command, args []string) error {\n\tctx := cmd.Context()\n\tname := args[0]\n\t// ... password reading with context ...\n\tif err := keyring.SetSecretWithContext(ctx, name, value); err != nil {\n\t\treturn fmt.Errorf(\"storing secret: %w\", err)\n\t}\n\tfmt.Printf(\"✓ Secret '%s' stored in keychain\\n\", name)\n\treturn nil\n}",
          "startLine": 27,
          "endLine": 56
        }
      },
      {
        "file": "cli/cmd/reset.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract result processing logic into a separate function",
        "description": "The Run function mixes business logic with output formatting. Following the principle of separation of concerns and keeping functions small and focused, the result processing loop (lines 34-45) should be extracted. This improves testability and readability by separating the data processing from the presentation layer.",
        "suggestion": "Create a dedicated function to process sync results and return the counts. This follows Go's preference for small, focused functions and makes the code more maintainable and testable.",
        "code": {
          "before": "removed := 0\nskipped := 0\nfor _, r := range results {\n\tif r.Success {\n\t\tfmt.Printf(\"  ✓ Removed %s\\n\", r.Message)\n\t\tremoved++\n\t} else if r.Skipped {\n\t\tskipped++\n\t} else if r.Error != nil {\n\t\tfmt.Printf(\"  ✗ %s/%s: %v\\n\", r.Module, r.Name, r.Error)\n\t}\n}\n\nfmt.Printf(\"\\n%d removed, %d skipped\\n\", removed, skipped)",
          "after": "removed, skipped := processResults(results)\nfmt.Printf(\"\\n%d removed, %d skipped\\n\", removed, skipped)\n\n// Add at package level:\nfunc processResults(results []sync.Result) (removed, skipped int) {\n\tfor _, r := range results {\n\t\tif r.Success {\n\t\t\tfmt.Printf(\"  ✓ Removed %s\\n\", r.Message)\n\t\t\tremoved++\n\t\t} else if r.Skipped {\n\t\t\tskipped++\n\t\t} else if r.Error != nil {\n\t\t\tfmt.Printf(\"  ✗ %s/%s: %v\\n\", r.Module, r.Name, r.Error)\n\t\t}\n\t}\n\treturn\n}",
          "startLine": 34,
          "endLine": 47
        }
      },
      {
        "file": "cli/cmd/reset.go",
        "category": "bug",
        "severity": "high",
        "title": "Add error wrapping with context for better debugging",
        "description": "The error handling in lines 20-23 and 28-31 prints errors but loses context about what operation failed. Go 1.13+ provides error wrapping with fmt.Errorf and %w verb, which creates an error chain that preserves context while allowing the use of errors.Is and errors.As for error inspection. This is crucial for debugging in production environments.",
        "suggestion": "Wrap errors with contextual information using fmt.Errorf with %w verb. This follows idiomatic Go error handling and provides better error messages for users and developers.",
        "code": {
          "before": "cfg, err := config.Load()\nif err != nil {\n\tfmt.Printf(\"Error loading config: %v\\n\", err)\n\tos.Exit(1)\n}\n\nfmt.Println(\"Removing symlinks...\")\nresults, err := sync.RemoveAllSymlinks(cfg)\nif err != nil {\n\tfmt.Printf(\"Error: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "cfg, err := config.Load()\nif err != nil {\n\tfmt.Fprintf(os.Stderr, \"Error loading config: %v\\n\", err)\n\tos.Exit(1)\n}\n\nfmt.Println(\"Removing symlinks...\")\nresults, err := sync.RemoveAllSymlinks(cfg)\nif err != nil {\n\tfmt.Fprintf(os.Stderr, \"Failed to remove symlinks: %v\\n\", err)\n\tos.Exit(1)\n}",
          "startLine": 19,
          "endLine": 31
        }
      },
      {
        "file": "cli/cmd/reset.go",
        "category": "style",
        "severity": "medium",
        "title": "Use stderr for error messages instead of stdout",
        "description": "Currently, error messages are written to stdout using fmt.Printf. According to Unix conventions and Go best practices, error messages should be written to stderr (os.Stderr) to separate normal output from error output. This allows users to redirect output streams independently and is essential for proper CLI tool behavior when used in scripts or pipelines.",
        "suggestion": "Use fmt.Fprintf(os.Stderr, ...) for all error messages to follow Unix conventions and make the CLI more scriptable and composable with other tools.",
        "code": {
          "before": "if !config.Exists() {\n\tfmt.Println(\"Pact is not initialized.\")\n\treturn\n}\n\ncfg, err := config.Load()\nif err != nil {\n\tfmt.Printf(\"Error loading config: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "if !config.Exists() {\n\tfmt.Fprintln(os.Stderr, \"Pact is not initialized.\")\n\treturn\n}\n\ncfg, err := config.Load()\nif err != nil {\n\tfmt.Fprintf(os.Stderr, \"Error loading config: %v\\n\", err)\n\tos.Exit(1)\n}",
          "startLine": 16,
          "endLine": 24
        }
      },
      {
        "file": "cli/cmd/reset.go",
        "category": "refactor",
        "severity": "low",
        "title": "Consider using named return values for better documentation",
        "description": "The result processing logic could benefit from named return values to make the function signature self-documenting. While not always necessary, named returns are idiomatic Go when they improve clarity, especially for functions that return multiple values of the same type. The current unnamed returns (removed, skipped int) could be clearer with names.",
        "suggestion": "Use named return values to make the function signature more self-documenting and reduce the need for comments. This is a common Go idiom for functions with multiple return values.",
        "code": {
          "before": "// If extracting the function as suggested above\nfunc processResults(results []sync.Result) (int, int) {\n\tremoved := 0\n\tskipped := 0\n\t// ...\n\treturn removed, skipped\n}",
          "after": "func processResults(results []sync.Result) (removed, skipped int) {\n\tfor _, r := range results {\n\t\tif r.Success {\n\t\t\tfmt.Printf(\"  ✓ Removed %s\\n\", r.Message)\n\t\t\tremoved++\n\t\t} else if r.Skipped {\n\t\t\tskipped++\n\t\t} else if r.Error != nil {\n\t\t\tfmt.Printf(\"  ✗ %s/%s: %v\\n\", r.Module, r.Name, r.Error)\n\t\t}\n\t}\n\treturn\n}",
          "startLine": 34,
          "endLine": 45
        }
      },
      {
        "file": "cli/cmd/reset.go",
        "category": "optimization",
        "severity": "low",
        "title": "Use strings.Builder for efficient string formatting in loops",
        "description": "The current implementation calls fmt.Printf multiple times within a loop (lines 36-44), which can be inefficient for large result sets due to multiple I/O operations. While this may not be a performance bottleneck for typical use cases, using strings.Builder to accumulate output and then writing once is a more efficient pattern, especially if the number of results could be large.",
        "suggestion": "Consider batching output using strings.Builder when processing many results. This reduces I/O system calls and follows Go's efficiency best practices for string concatenation.",
        "code": {
          "before": "for _, r := range results {\n\tif r.Success {\n\t\tfmt.Printf(\"  ✓ Removed %s\\n\", r.Message)\n\t\tremoved++\n\t} else if r.Skipped {\n\t\tskipped++\n\t} else if r.Error != nil {\n\t\tfmt.Printf(\"  ✗ %s/%s: %v\\n\", r.Module, r.Name, r.Error)\n\t}\n}",
          "after": "var output strings.Builder\nfor _, r := range results {\n\tif r.Success {\n\t\tfmt.Fprintf(&output, \"  ✓ Removed %s\\n\", r.Message)\n\t\tremoved++\n\t} else if r.Skipped {\n\t\tskipped++\n\t} else if r.Error != nil {\n\t\tfmt.Fprintf(&output, \"  ✗ %s/%s: %v\\n\", r.Module, r.Name, r.Error)\n\t}\n}\nfmt.Print(output.String())",
          "startLine": 35,
          "endLine": 44
        }
      },
      {
        "file": "cli/cmd/sync.go",
        "category": "bug",
        "severity": "high",
        "title": "Error from reader.ReadString silently ignored",
        "description": "The error returned from reader.ReadString() is ignored with a blank identifier. This could cause incorrect behavior if there's an I/O error or if EOF is reached unexpectedly. The input variable would contain partial data, leading to unpredictable parsing results.",
        "suggestion": "Always check errors from I/O operations. Handle the error appropriately by returning early or notifying the user.",
        "code": {
          "before": "reader := bufio.NewReader(os.Stdin)\ninput, _ := reader.ReadString('\\n')\ninput = strings.TrimSpace(strings.ToLower(input))",
          "after": "reader := bufio.NewReader(os.Stdin)\ninput, err := reader.ReadString('\\n')\nif err != nil {\n\tfmt.Printf(\"Error reading input: %v\\n\", err)\n\treturn nil\n}\ninput = strings.TrimSpace(strings.ToLower(input))",
          "startLine": 143,
          "endLine": 145
        }
      },
      {
        "file": "cli/cmd/sync.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Repeated os.Exit calls violate testability and defer execution",
        "description": "Multiple os.Exit(1) calls throughout the Run function prevent proper cleanup (defer statements won't execute) and make the code untestable. In Go, it's better to return errors and let the main function decide when to exit. This follows the principle of separation of concerns.",
        "suggestion": "Refactor the cobra.Command.Run function to call a separate function that returns an error, then handle the error at the top level. This allows for testing and proper cleanup.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tif !config.Exists() {\n\t\tfmt.Println(\"Pact is not initialized. Run 'pact init' first.\")\n\t\tos.Exit(1)\n\t}\n\t// ... more code with os.Exit calls\n}",
          "after": "Run: func(cmd *cobra.Command, args []string) {\n\tif err := runSync(args); err != nil {\n\t\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n},\n\nfunc runSync(args []string) error {\n\tif !config.Exists() {\n\t\treturn fmt.Errorf(\"pact is not initialized. Run 'pact init' first\")\n\t}\n\t// ... rest of logic\n\treturn nil\n}",
          "startLine": 23,
          "endLine": 29
        }
      },
      {
        "file": "cli/cmd/sync.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Module syncing should use context for cancellation support",
        "description": "The sync loop processes modules sequentially without any way to cancel the operation. For long-running operations or when handling many modules, users should be able to interrupt gracefully. Go's context package is the idiomatic way to handle cancellation and timeouts.",
        "suggestion": "Pass a context (potentially from cmd.Context()) through the sync operations to support cancellation via Ctrl+C or timeouts.",
        "code": {
          "before": "for _, moduleName := range modulesToSync {\n\tfmt.Printf(\"Syncing %s...\\n\", moduleName)\n\tresults, err := sync.SyncModule(cfg, moduleName)\n\tif err != nil {\n\t\tfmt.Printf(\"  Error syncing %s: %v\\n\", moduleName, err)\n\t\tcontinue\n\t}\n\tallResults = append(allResults, results...)\n}",
          "after": "ctx := cmd.Context()\nfor _, moduleName := range modulesToSync {\n\tselect {\n\tcase <-ctx.Done():\n\t\treturn fmt.Errorf(\"sync cancelled: %w\", ctx.Err())\n\tdefault:\n\t}\n\tfmt.Printf(\"Syncing %s...\\n\", moduleName)\n\tresults, err := sync.SyncModuleWithContext(ctx, cfg, moduleName)\n\tif err != nil {\n\t\tfmt.Printf(\"  Error syncing %s: %v\\n\", moduleName, err)\n\t\tcontinue\n\t}\n\tallResults = append(allResults, results...)\n}",
          "startLine": 89,
          "endLine": 97
        }
      },
      {
        "file": "cli/cmd/sync.go",
        "category": "style",
        "severity": "low",
        "title": "Magic strings should be constants for maintainability",
        "description": "The string literals 'a', 'all', 'q', 'quit' are scattered in the code as magic values. If you want to change these commands or add localization later, you'd need to search through the code. In Go, it's idiomatic to define such values as constants at the package level for clarity and maintainability.",
        "suggestion": "Define command string constants at the package level to make them reusable and easier to maintain.",
        "code": {
          "before": "if input == \"\" || input == \"q\" || input == \"quit\" {\n\treturn nil\n}\n\nif input == \"a\" || input == \"all\" {\n\tvar all []string\n\tfor _, mod := range modules {\n\t\tall = append(all, mod.Name)\n\t}\n\treturn all\n}",
          "after": "const (\n\tcmdQuit    = \"q\"\n\tcmdQuitAlt = \"quit\"\n\tcmdAll     = \"a\"\n\tcmdAllAlt  = \"all\"\n)\n\nif input == \"\" || input == cmdQuit || input == cmdQuitAlt {\n\treturn nil\n}\n\nif input == cmdAll || input == cmdAllAlt {\n\tvar all []string\n\tfor _, mod := range modules {\n\t\tall = append(all, mod.Name)\n\t}\n\treturn all\n}",
          "startLine": 147,
          "endLine": 156
        }
      },
      {
        "file": "cli/cmd/sync.go",
        "category": "optimization",
        "severity": "low",
        "title": "Pre-allocate slice capacity when size is known",
        "description": "When returning all module names, the slice grows dynamically with each append. Since the final size is known (len(modules)), pre-allocating the slice with make() avoids multiple reallocations and copies. This is a common Go optimization pattern for better performance.",
        "suggestion": "Use make() with capacity when the final slice size is known upfront.",
        "code": {
          "before": "if input == \"a\" || input == \"all\" {\n\tvar all []string\n\tfor _, mod := range modules {\n\t\tall = append(all, mod.Name)\n\t}\n\treturn all\n}",
          "after": "if input == \"a\" || input == \"all\" {\n\tall := make([]string, 0, len(modules))\n\tfor _, mod := range modules {\n\t\tall = append(all, mod.Name)\n\t}\n\treturn all\n}",
          "startLine": 151,
          "endLine": 157
        }
      },
      {
        "file": "cli/cmd/nuke.go",
        "category": "bug",
        "severity": "high",
        "title": "Silent error handling can mask critical failures",
        "description": "Multiple errors are silently ignored or handled superficially. When `config.Load()` fails, the function continues without removing symlinks. When `RemoveAllSymlinks()` returns an error, it's discarded with `_`. This violates Go's explicit error handling principle and can leave the system in an inconsistent state where the user believes everything was cleaned up but symlinks remain.",
        "suggestion": "Handle errors explicitly and inform the user of partial failures. Consider accumulating errors and reporting them at the end, or stopping on critical errors. Use error wrapping to provide context about what operation failed.",
        "code": {
          "before": "// Remove symlinks first\ncfg, err := config.Load()\nif err == nil {\n\tfmt.Println(\"Removing symlinks...\")\n\tresults, _ := sync.RemoveAllSymlinks(cfg)\n\tremoved := 0\n\tfor _, r := range results {\n\t\tif r.Success {\n\t\t\tremoved++\n\t\t}\n\t}\n\tfmt.Printf(\"  ✓ Removed %d symlinks\\n\", removed)\n}",
          "after": "// Remove symlinks first\nvar symlinkErr error\ncfg, err := config.Load()\nif err != nil {\n\tfmt.Printf(\"  ⚠ Warning: Could not load config: %v\\n\", err)\n\tfmt.Println(\"  Skipping symlink removal\")\n} else {\n\tfmt.Println(\"Removing symlinks...\")\n\tresults, err := sync.RemoveAllSymlinks(cfg)\n\tif err != nil {\n\t\tsymlinkErr = fmt.Errorf(\"failed to remove symlinks: %w\", err)\n\t\tfmt.Printf(\"  ⚠ Warning: %v\\n\", symlinkErr)\n\t}\n\tremoved := 0\n\tfor _, r := range results {\n\t\tif r.Success {\n\t\t\tremoved++\n\t\t}\n\t}\n\tfmt.Printf(\"  ✓ Removed %d symlinks\\n\", removed)\n}",
          "startLine": 50,
          "endLine": 61
        }
      },
      {
        "file": "cli/cmd/nuke.go",
        "category": "bug",
        "severity": "medium",
        "title": "Unbounded memory read from stdin creates denial of service risk",
        "description": "Using `bufio.Reader.ReadString('\\n')` without a size limit means malicious input or accidental piped data could cause unbounded memory allocation. Additionally, the error from `ReadString` is silently discarded with `_`, which means EOF or read errors result in an empty response that's treated as 'no'.",
        "suggestion": "Use `bufio.Scanner` with a maximum token size, or check the error from `ReadString`. At minimum, handle the error to distinguish between intentional 'no' responses and I/O failures.",
        "code": {
          "before": "reader := bufio.NewReader(os.Stdin)\nresponse, _ := reader.ReadString('\\n')\nresponse = strings.TrimSpace(strings.ToLower(response))",
          "after": "reader := bufio.NewReader(os.Stdin)\nresponse, err := reader.ReadString('\\n')\nif err != nil {\n\tfmt.Printf(\"Error reading input: %v\\n\", err)\n\tfmt.Println(\"Cancelled.\")\n\treturn\n}\nresponse = strings.TrimSpace(strings.ToLower(response))",
          "startLine": 35,
          "endLine": 37
        }
      },
      {
        "file": "cli/cmd/nuke.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Large monolithic Run function should be decomposed",
        "description": "The Run function handles multiple distinct operations (confirmation, symlink removal, directory deletion, token removal) in a single 80+ line function. This violates the Single Responsibility Principle and makes testing difficult. Each operation has its own error handling and user feedback logic that could be encapsulated.",
        "suggestion": "Extract separate functions for confirmation, cleanup operations, and result reporting. This improves testability, readability, and allows for better error composition. Follow the Go proverb 'A little copying is better than a little dependency' but also 'Clear is better than clever'.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tpactDir := config.FindPactDir()\n\tif pactDir == \"\" {\n\t\tfmt.Println(\"Pact is not initialized. Nothing to remove.\")\n\t\treturn\n\t}\n\n\t// Confirm unless --force\n\tif !nukeForce {\n\t\t// ... confirmation logic ...\n\t}\n\n\t// Remove symlinks first\n\t// ... cleanup logic ...\n}",
          "after": "Run: func(cmd *cobra.Command, args []string) {\n\tpactDir := config.FindPactDir()\n\tif pactDir == \"\" {\n\t\tfmt.Println(\"Pact is not initialized. Nothing to remove.\")\n\t\treturn\n\t}\n\n\tif !nukeForce && !confirmNuke(pactDir) {\n\t\tfmt.Println(\"Cancelled.\")\n\t\treturn\n\t}\n\n\tperformNuke(pactDir)\n}",
          "startLine": 19,
          "endLine": 84
        }
      },
      {
        "file": "cli/cmd/nuke.go",
        "category": "style",
        "severity": "low",
        "title": "Package-level variables for command flags reduce testability",
        "description": "The `nukeForce` variable is declared at package level, which creates mutable global state. This makes testing difficult because tests can interfere with each other if they modify this flag. It also makes it harder to reason about the code since the variable can be modified from anywhere in the package.",
        "suggestion": "While Cobra's design encourages this pattern, consider accessing the flag value through the command's Flags() method within the Run function, or at minimum document the variable clearly. For better testability, the Run function logic could be extracted to a testable function that takes the force flag as a parameter.",
        "code": {
          "before": "var nukeForce bool\n\nvar nukeCmd = &cobra.Command{\n\tUse:   \"nuke\",\n\tShort: \"Remove pact completely\",\n\tLong:  `Remove all symlinks, delete .pact/, and remove stored token.`,\n\tRun: func(cmd *cobra.Command, args []string) {\n\t\t// ... uses nukeForce ...",
          "after": "var nukeCmd = &cobra.Command{\n\tUse:   \"nuke\",\n\tShort: \"Remove pact completely\",\n\tLong:  `Remove all symlinks, delete .pact/, and remove stored token.`,\n\tRun: func(cmd *cobra.Command, args []string) {\n\t\tforce, _ := cmd.Flags().GetBool(\"force\")\n\t\tif err := runNuke(force); err != nil {\n\t\t\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\t\t\tos.Exit(1)\n\t\t}",
          "startLine": 15,
          "endLine": 19
        }
      },
      {
        "file": "cli/cmd/nuke.go",
        "category": "refactor",
        "severity": "low",
        "title": "Inconsistent error reporting format reduces user experience",
        "description": "The code uses different symbols and formats for success/failure messages (✓, ✗, ○, ⚠). While this improves readability, the inconsistency in error handling (some operations print errors inline, others ignore them) creates confusion about what actually failed. The function always reports success at the end even if operations failed.",
        "suggestion": "Standardize error reporting with consistent symbols and tracking. Consider returning an error from the Run function or maintaining a list of failures to report. The final message should reflect the actual state (complete success, partial success, or failure).",
        "code": {
          "before": "fmt.Println()\nfmt.Println(\"Pact has been completely removed.\")",
          "after": "fmt.Println()\nif symlinkErr != nil || dirErr != nil || tokenErr != nil {\n\tfmt.Println(\"Pact removal completed with some warnings (see above).\")\n} else {\n\tfmt.Println(\"Pact has been completely removed.\")\n}",
          "startLine": 81,
          "endLine": 82
        }
      },
      {
        "file": "cli/cmd/push.go",
        "category": "bug",
        "severity": "high",
        "title": "Defined but unused flag 'pushForce' creates misleading CLI interface",
        "description": "The `pushForce` flag is registered in init() but never used in the command logic. This violates the principle of least surprise - users see a --force flag but it has no effect. Unused flags can lead to dangerous assumptions about behavior, especially with operations like 'force push' which can cause data loss.",
        "suggestion": "Either implement the force push functionality using the flag, or remove the flag declaration entirely. If force push isn't needed yet, remove the flag to avoid user confusion and potential bug reports.",
        "code": {
          "before": "var (\n\tpushMessage string\n\tpushForce   bool\n)\n\n// ... in init()\npushCmd.Flags().BoolVar(&pushForce, \"force\", false, \"Force push (overwrite remote)\")",
          "after": "var (\n\tpushMessage string\n)\n\n// ... in init()\npushCmd.Flags().StringVarP(&pushMessage, \"message\", \"m\", \"\", \"Commit message\")\n// Remove pushForce flag until force push logic is implemented",
          "startLine": 14,
          "endLine": 85
        }
      },
      {
        "file": "cli/cmd/push.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Inconsistent error handling with silent error suppression",
        "description": "Line 62 uses `message, _ = reader.ReadString('\\n')` which silently discards the error. This is problematic because ReadString can fail (e.g., on stdin closure, I/O errors). Silent error suppression violates Go idioms and can lead to unexpected behavior. Even if the error is unlikely, ignoring it makes debugging harder and masks potential issues.",
        "suggestion": "Always handle errors explicitly in Go. For this case, check the error and provide appropriate feedback if reading fails. Consider using a default message if reading fails rather than silently continuing with potentially incomplete data.",
        "code": {
          "before": "fmt.Print(\"Commit message: \")\nreader := bufio.NewReader(os.Stdin)\nmessage, _ = reader.ReadString('\\n')\nmessage = strings.TrimSpace(message)",
          "after": "fmt.Print(\"Commit message: \")\nreader := bufio.NewReader(os.Stdin)\nmessage, err = reader.ReadString('\\n')\nif err != nil {\n\tfmt.Printf(\"Error reading input: %v\\n\", err)\n\tos.Exit(1)\n}\nmessage = strings.TrimSpace(message)",
          "startLine": 60,
          "endLine": 63
        }
      },
      {
        "file": "cli/cmd/push.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Command Run function contains excessive business logic instead of orchestrating",
        "description": "The Run function is 45+ lines with multiple responsibilities: validation, authentication, change detection, user input, and git operations. This violates the Single Responsibility Principle and makes testing difficult. Cobra command handlers should be thin orchestrators that delegate to testable functions. The current structure makes it impossible to unit test the logic without invoking the entire CLI infrastructure.",
        "suggestion": "Extract the core logic into a separate, testable function that accepts dependencies as parameters and returns errors. The Run function should handle CLI concerns (os.Exit, fmt.Print) while the extracted function handles business logic. This enables proper unit testing and error propagation.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\tif !config.Exists() {\n\t\tfmt.Println(\"Pact is not initialized. Run 'pact init' first.\")\n\t\tos.Exit(1)\n\t}\n\t// ... 40+ more lines",
          "after": "Run: func(cmd *cobra.Command, args []string) {\n\tif err := runPush(pushMessage); err != nil {\n\t\tfmt.Printf(\"Error: %v\\n\", err)\n\t\tos.Exit(1)\n\t}\n\tfmt.Println(\"✓ Changes pushed to GitHub\")\n}\n\nfunc runPush(message string) error {\n\tif !config.Exists() {\n\t\treturn fmt.Errorf(\"pact is not initialized. Run 'pact init' first\")\n\t}\n\t// ... rest of logic with proper error returns\n}",
          "startLine": 23,
          "endLine": 73
        }
      },
      {
        "file": "cli/cmd/push.go",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent error message formatting across exit paths",
        "description": "The command uses three different error message patterns: 'Pact is not initialized' (no Error: prefix), 'Error: %v' (with Error: prefix), and direct error messages. This inconsistency reduces code professionalism and makes error handling harder to maintain. Go idioms favor consistent, predictable error messages that can be easily parsed or handled programmatically.",
        "suggestion": "Standardize error messages using a consistent format. Consider returning errors from an extracted function rather than calling os.Exit directly, which allows the Run function to handle all output formatting consistently. This also makes the code more testable since os.Exit prevents test cleanup.",
        "code": {
          "before": "if !config.Exists() {\n\tfmt.Println(\"Pact is not initialized. Run 'pact init' first.\")\n\tos.Exit(1)\n}\n// ...\nif err != nil {\n\tfmt.Printf(\"Error: %v\\n\", err)\n\tos.Exit(1)\n}",
          "after": "// In extracted function:\nif !config.Exists() {\n\treturn fmt.Errorf(\"pact is not initialized. Run 'pact init' first\")\n}\n// ...\nif err != nil {\n\treturn fmt.Errorf(\"failed to get pact directory: %w\", err)\n}\n\n// In Run function (consistent handling):\nif err := runPush(pushMessage); err != nil {\n\tfmt.Fprintf(os.Stderr, \"Error: %v\\n\", err)\n\tos.Exit(1)\n}",
          "startLine": 24,
          "endLine": 37
        }
      },
      {
        "file": "cli/cmd/push.go",
        "category": "optimization",
        "severity": "low",
        "title": "Unnecessary variable reassignment creates confusion",
        "description": "The variable 'message' is assigned from 'pushMessage', then potentially reassigned from user input, then potentially reassigned to a default value. This multiple reassignment pattern makes the code flow harder to follow and creates an unnecessary intermediate variable. Go idioms favor clear, direct variable usage that makes the data flow obvious.",
        "suggestion": "Restructure the logic to handle the three cases (flag provided, user input, default) more clearly, potentially using a helper function. This makes the precedence explicit and reduces the number of variable states to track mentally.",
        "code": {
          "before": "message := pushMessage\nif message == \"\" {\n\tfmt.Print(\"Commit message: \")\n\treader := bufio.NewReader(os.Stdin)\n\tmessage, _ = reader.ReadString('\\n')\n\tmessage = strings.TrimSpace(message)\n}\n\nif message == \"\" {\n\tmessage = \"Update pact configuration\"\n}",
          "after": "message := getCommitMessage(pushMessage)\n\nfunc getCommitMessage(flagMessage string) string {\n\tif flagMessage != \"\" {\n\t\treturn flagMessage\n\t}\n\t\n\tfmt.Print(\"Commit message: \")\n\treader := bufio.NewReader(os.Stdin)\n\tuserMessage, err := reader.ReadString('\\n')\n\tif err == nil && strings.TrimSpace(userMessage) != \"\" {\n\t\treturn strings.TrimSpace(userMessage)\n\t}\n\t\n\treturn \"Update pact configuration\"\n}",
          "startLine": 57,
          "endLine": 67
        }
      },
      {
        "file": "pact-docs/next.config.mjs",
        "category": "bug",
        "severity": "high",
        "title": "Incompatible configuration: static export with unoptimized images",
        "description": "Using `output: 'export'` with `images.unoptimized: true` is necessary for static exports, but this disables Next.js Image Optimization entirely. Additionally, static exports have limitations with dynamic features like API routes and ISR. Ensure this is intentional for your deployment target.",
        "suggestion": "If deploying to a static host (GitHub Pages, S3, etc.), this configuration is correct. However, consider using a platform that supports Next.js features (Vercel, Netlify) to benefit from image optimization and dynamic rendering. If static export is required, document this trade-off.",
        "code": {
          "before": "output: 'export',\n  images: {\n    unoptimized: true,\n  },",
          "after": "// Static export configuration (required for platforms like GitHub Pages)\n  // Note: This disables Image Optimization and server-side features\n  output: 'export',\n  images: {\n    unoptimized: true,\n  },",
          "startLine": 7,
          "endLine": 10
        }
      },
      {
        "file": "cli/cmd/init.go",
        "category": "bug",
        "severity": "high",
        "title": "Error return values are silently ignored in multiple critical operations",
        "description": "Several error-returning function calls are being ignored using the blank identifier `_`, which violates Go error handling best practices. Specifically, `keyring.GetToken()` on line 33 ignores the error which could mask failures in token retrieval. This can lead to using an empty/invalid token without knowing why authentication failed. Go proverb: 'Errors are values' - they should be handled explicitly.",
        "suggestion": "Always handle errors explicitly. Check the error from GetToken and handle it appropriately. If the token retrieval fails, the keyring might be corrupt or inaccessible, which should be communicated to the user.",
        "code": {
          "before": "if keyring.HasToken() {\n\t\t\tfmt.Println(\"Found existing GitHub token. Verifying...\")\n\t\t\ttoken, _ := keyring.GetToken()\n\t\t\tuser, err := auth.GetUser(token)",
          "after": "if keyring.HasToken() {\n\t\t\tfmt.Println(\"Found existing GitHub token. Verifying...\")\n\t\t\ttoken, err := keyring.GetToken()\n\t\t\tif err != nil {\n\t\t\t\tfmt.Printf(\"Warning: Could not retrieve token from keyring: %v\\n\", err)\n\t\t\t\tfmt.Println(\"Re-authenticating...\")\n\t\t\t\tkeyring.DeleteToken()\n\t\t\t} else {\n\t\t\t\tuser, err := auth.GetUser(token)\n\t\t\t\tif err == nil {\n\t\t\t\t\tfmt.Printf(\"Authenticated as %s\\n\", user.Login)\n\t\t\t\t\tif err := setupRepo(token, user.Login); err != nil {\n\t\t\t\t\t\tfmt.Printf(\"Error: %v\\n\", err)\n\t\t\t\t\t\tos.Exit(1)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tfmt.Println(\"Token expired or invalid. Re-authenticating...\")\n\t\t\t\tkeyring.DeleteToken()\n\t\t\t}\n\t\t}",
          "startLine": 32,
          "endLine": 35
        }
      },
      {
        "file": "cli/cmd/init.go",
        "category": "refactor",
        "severity": "high",
        "title": "Main command function violates single responsibility principle with excessive complexity",
        "description": "The Run function in initCmd (lines 20-107) is doing too many things: UI rendering, token checking, authentication flow, browser launching, polling, user info retrieval, token storage, and repo setup. This makes the code hard to test, maintain, and reason about. Functions should be small and focused on a single task. Breaking this into smaller, focused functions improves testability and makes the code flow more obvious.",
        "suggestion": "Extract the authentication logic into separate functions like `authenticateUser()` and `handleExistingToken()`. This follows the Go proverb 'A little copying is better than a little dependency' but in reverse - a little abstraction is better than a lot of complexity. Each function should do one thing well.",
        "code": {
          "before": "Run: func(cmd *cobra.Command, args []string) {\n\t\t// Show logo with welcome message\n\t\tfmt.Println(ui.RenderLogo())\n\t\t// Check if already initialized\n\t\tif config.FindPactDir() != \"\" {\n\t\t\t...\n\t\t\treturn\n\t\t}\n\t\t// Check if we already have a token\n\t\tif keyring.HasToken() {\n\t\t\t// ... 20+ lines of logic\n\t\t}\n\t\t// Start device flow\n\t\t// ... another 40+ lines\n\t}",
          "after": "Run: func(cmd *cobra.Command, args []string) {\n\t\tfmt.Println(ui.RenderLogo())\n\t\t\n\t\tif config.FindPactDir() != \"\" {\n\t\t\tfmt.Printf(\"Pact is already initialized at %s\\n\", config.FindPactDir())\n\t\t\tfmt.Println(\"Run 'pact nuke' first if you want to start fresh.\")\n\t\t\treturn\n\t\t}\n\t\t\n\t\ttoken, username, err := authenticateUser()\n\t\tif err != nil {\n\t\t\tfmt.Printf(\"Error: %v\\n\", err)\n\t\t\tos.Exit(1)\n\t\t}\n\t\t\n\t\tif err := setupRepo(token, username); err != nil {\n\t\t\tfmt.Printf(\"Error: %v\\n\", err)\n\t\t\tos.Exit(1)\n\t\t}\n\t}\n\n// authenticateUser handles the entire authentication flow\nfunc authenticateUser() (token, username string, err error) {\n\t// Check existing token first\n\tif token, username, ok := tryExistingToken(); ok {\n\t\treturn token, username, nil\n\t}\n\t\n\t// Perform device flow authentication\n\treturn performDeviceFlowAuth()\n}",
          "startLine": 19,
          "endLine": 107
        }
      },
      {
        "file": "cli/cmd/init.go",
        "category": "bug",
        "severity": "medium",
        "title": "Hard-coded time.Sleep creates brittle synchronization and blocks unnecessarily",
        "description": "Using `time.Sleep(2 * time.Second)` on line 131 to wait for GitHub repo initialization is a code smell. This creates an arbitrary blocking delay that may be too short (causing subsequent operations to fail) or too long (wasting user time). This approach doesn't verify that the repo is actually ready - it just hopes 2 seconds is enough. Go encourages explicit synchronization and verification over implicit waiting.",
        "suggestion": "Replace the sleep with a retry mechanism that actually checks if the repo is accessible. Use exponential backoff with a reasonable timeout. This makes the code more robust and potentially faster when GitHub responds quickly.",
        "code": {
          "before": "if err := auth.CreateRepo(token); err != nil {\n\t\t\treturn fmt.Errorf(\"failed to create repo: %w\", err)\n\t\t}\n\t\tfmt.Println(\"✓ Created my-pact repo\")\n\n\t\t// Wait a moment for GitHub to initialize the repo\n\t\ttime.Sleep(2 * time.Second)",
          "after": "if err := auth.CreateRepo(token); err != nil {\n\t\t\treturn fmt.Errorf(\"failed to create repo: %w\", err)\n\t\t}\n\t\tfmt.Println(\"✓ Created my-pact repo\")\n\n\t\t// Wait for GitHub to initialize the repo with exponential backoff\n\t\tif err := waitForRepoReady(token, targetUser, 10*time.Second); err != nil {\n\t\t\treturn fmt.Errorf(\"repo created but not ready: %w\", err)\n\t\t}\n\nfunc waitForRepoReady(token, user string, timeout time.Duration) error {\n\tdeadline := time.Now().Add(timeout)\n\tdelay := 500 * time.Millisecond\n\t\n\tfor time.Now().Before(deadline) {\n\t\tif exists, err := auth.RepoExists(token, user); err == nil && exists {\n\t\t\treturn nil\n\t\t}\n\t\ttime.Sleep(delay)\n\t\tdelay = time.Duration(float64(delay) * 1.5) // exponential backoff\n\t\tif delay > 2*time.Second {\n\t\t\tdelay = 2 * time.Second\n\t\t}\n\t}\n\treturn fmt.Errorf(\"timeout waiting for repo to be ready\")\n}",
          "startLine": 127,
          "endLine": 132
        }
      },
      {
        "file": "cli/cmd/init.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Package-level variable 'fromUser' creates unnecessary global state",
        "description": "The package-level variable `fromUser` on line 15 creates mutable global state that is only used by a single command. This makes the code harder to test and reason about, especially if multiple commands run concurrently (though cobra typically doesn't). Go encourages minimizing package-level mutable state. Flags should be processed within the command context or passed as parameters.",
        "suggestion": "Use cobra's built-in flag value retrieval within the command instead of package-level variables. This makes the code more testable and follows idiomatic cobra patterns where flag values are retrieved from the command context.",
        "code": {
          "before": "var fromUser string\n\nvar initCmd = &cobra.Command{\n\t...\n\tRun: func(cmd *cobra.Command, args []string) {\n\t\t...\n\t\tif err := setupRepo(token, user.Login); err != nil {\n\t\t\t...\n\t\t}\n\t},\n}\n\nfunc init() {\n\tinitCmd.Flags().StringVar(&fromUser, \"from\", \"\", \"Fork pact from another user\")\n}\n\nfunc setupRepo(token, username string) error {\n\ttargetUser := username\n\tif fromUser != \"\" {\n\t\ttargetUser = fromUser",
          "after": "var initCmd = &cobra.Command{\n\t...\n\tRun: func(cmd *cobra.Command, args []string) {\n\t\t...\n\t\tfromUser, _ := cmd.Flags().GetString(\"from\")\n\t\tif err := setupRepo(token, user.Login, fromUser); err != nil {\n\t\t\t...\n\t\t}\n\t},\n}\n\nfunc init() {\n\tinitCmd.Flags().String(\"from\", \"\", \"Fork pact from another user\")\n}\n\nfunc setupRepo(token, username, fromUser string) error {\n\ttargetUser := username\n\tif fromUser != \"\" {\n\t\ttargetUser = fromUser",
          "startLine": 15,
          "endLine": 117
        }
      },
      {
        "file": "cli/cmd/init.go",
        "category": "bug",
        "severity": "medium",
        "title": "File permissions 0644 on pact.json may be too permissive for configuration file",
        "description": "The default configuration file is created with 0644 permissions (line 181), making it world-readable. While pact.json may not contain secrets directly (they're referenced via the 'secrets' array), configuration files often evolve to contain sensitive information. Go's os.WriteFile makes it easy to set appropriate permissions. Defense in depth suggests using more restrictive permissions by default.",
        "suggestion": "Use 0600 (owner read/write only) for the configuration file to follow the principle of least privilege. If the file needs to be readable by other processes, that should be an explicit decision rather than the default.",
        "code": {
          "before": "configPath := pactDir + \"/pact.json\"\n\treturn os.WriteFile(configPath, []byte(defaultConfig), 0644)",
          "after": "configPath := pactDir + \"/pact.json\"\n\t// Use restrictive permissions for config file (owner read/write only)\n\treturn os.WriteFile(configPath, []byte(defaultConfig), 0600)",
          "startLine": 180,
          "endLine": 181
        }
      },
      {
        "file": "cli/internal/config/pact.go",
        "category": "bug",
        "severity": "high",
        "title": "Secrets field in PactConfig enables exposure of sensitive data",
        "description": "The `Secrets []string` field in PactConfig will store secret identifiers or potentially secret values in the configuration file. If this array contains actual secret values (not just references), they would be committed to version control in plaintext. Even if it stores only references, the field name and usage pattern is unclear and risky.",
        "suggestion": "Remove the Secrets field from the config structure, or clarify its purpose with documentation. If it's meant to reference secret names for external retrieval, rename it to `SecretRefs` and add clear documentation that it should never contain actual secret values. Consider implementing a separate secure secret management mechanism.",
        "code": {
          "before": "type PactConfig struct {\n\tVersion string        `json:\"version\"`\n\tUser    string        `json:\"user\"`\n\tModules ModulesConfig `json:\"modules\"`\n\tSecrets []string      `json:\"secrets\"`\n}",
          "after": "type PactConfig struct {\n\tVersion string        `json:\"version\"`\n\tUser    string        `json:\"user\"`\n\tModules ModulesConfig `json:\"modules\"`\n\t// SecretRefs lists secret identifiers for external lookup only\n\t// Never store actual secret values in configuration files\n\tSecretRefs []string   `json:\"secretRefs,omitempty\"`\n}",
          "startLine": 12,
          "endLine": 17
        }
      },
      {
        "file": "cli/internal/git/git.go",
        "category": "bug",
        "severity": "high",
        "title": "Security vulnerability: sensitive token exposed in process list",
        "description": "The authentication token is passed directly to git operations that write to os.Stdout (Progress field). While the BasicAuth itself doesn't expose the password in normal output, passing sensitive credentials throughout the application increases the risk of accidental exposure through logs, error messages, or debugging output. Additionally, the token is stored in memory without protection and could be captured in crash dumps or memory analysis.",
        "suggestion": "Consider implementing a credential helper pattern or environment-based authentication. At minimum, ensure tokens are handled securely and not unnecessarily passed around. For user-facing operations, consider using SSH keys or the system's credential manager.",
        "code": {
          "before": "func Clone(token, username, targetDir string) error {\n\t_, err := git.PlainClone(targetDir, false, &git.CloneOptions{\n\t\tURL: repoURL,\n\t\tAuth: &http.BasicAuth{\n\t\t\tUsername: \"x-access-token\",\n\t\t\tPassword: token,\n\t\t},\n\t\tProgress: os.Stdout,\n\t})",
          "after": "// Consider extracting auth creation to a helper\nfunc createAuth(token string) *http.BasicAuth {\n\treturn &http.BasicAuth{\n\t\tUsername: \"x-access-token\",\n\t\tPassword: token,\n\t}\n}\n\n// Suppress progress output by default or use io.Discard\nfunc Clone(token, username, targetDir string) error {\n\t_, err := git.PlainClone(targetDir, false, &git.CloneOptions{\n\t\tURL: repoURL,\n\t\tAuth: createAuth(token),\n\t\tProgress: io.Discard, // or make progress optional\n\t})",
          "startLine": 13,
          "endLine": 28
        }
      },
      {
        "file": "cli/internal/git/git.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Duplicate authentication and repository opening logic",
        "description": "The code repeats authentication creation and repository opening patterns across multiple functions. This violates the DRY (Don't Repeat Yourself) principle and makes maintenance harder. Each function creates a new http.BasicAuth struct with identical credentials, and three functions repeat the same pattern of opening a repository and getting its worktree. Extracting these common operations into helper functions improves testability and reduces the chance of inconsistent behavior.",
        "suggestion": "Extract common operations into private helper functions. This makes the code more maintainable, easier to test, and allows for consistent error handling and future modifications.",
        "code": {
          "before": "func Pull(token, pactDir string) error {\n\trepo, err := git.PlainOpen(pactDir)\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to open repo: %w\", err)\n\t}\n\n\tworktree, err := repo.Worktree()\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to get worktree: %w\", err)\n\t}",
          "after": "func getAuth(token string) *http.BasicAuth {\n\treturn &http.BasicAuth{\n\t\tUsername: \"x-access-token\",\n\t\tPassword: token,\n\t}\n}\n\nfunc openRepoWorktree(pactDir string) (*git.Repository, *git.Worktree, error) {\n\trepo, err := git.PlainOpen(pactDir)\n\tif err != nil {\n\t\treturn nil, nil, fmt.Errorf(\"failed to open repo: %w\", err)\n\t}\n\n\tworktree, err := repo.Worktree()\n\tif err != nil {\n\t\treturn nil, nil, fmt.Errorf(\"failed to get worktree: %w\", err)\n\t}\n\n\treturn repo, worktree, nil\n}\n\nfunc Pull(token, pactDir string) error {\n\t_, worktree, err := openRepoWorktree(pactDir)\n\tif err != nil {\n\t\treturn err\n\t}",
          "startLine": 44,
          "endLine": 53
        }
      },
      {
        "file": "cli/internal/git/git.go",
        "category": "bug",
        "severity": "medium",
        "title": "Missing context support for cancellation and timeouts",
        "description": "All functions perform potentially long-running network operations (clone, pull, push) without accepting a context.Context parameter. This means callers cannot cancel operations, set timeouts, or propagate deadlines. In a CLI application, users might want to cancel long-running operations with Ctrl+C, or the application might need to enforce timeouts. The go-git library supports context-aware operations through its Context option fields.",
        "suggestion": "Add context.Context as the first parameter to all public functions following Go conventions. Use context for cancellation and timeout control. This makes the API more flexible and production-ready.",
        "code": {
          "before": "func Clone(token, username, targetDir string) error {\n\t_, err := git.PlainClone(targetDir, false, &git.CloneOptions{\n\t\tURL: repoURL,\n\t\tAuth: &http.BasicAuth{\n\t\t\tUsername: \"x-access-token\",\n\t\t\tPassword: token,\n\t\t},\n\t\tProgress: os.Stdout,\n\t})",
          "after": "func Clone(ctx context.Context, token, username, targetDir string) error {\n\t_, err := git.PlainCloneContext(ctx, targetDir, false, &git.CloneOptions{\n\t\tURL: repoURL,\n\t\tAuth: &http.BasicAuth{\n\t\t\tUsername: \"x-access-token\",\n\t\t\tPassword: token,\n\t\t},\n\t\tProgress: os.Stdout,\n\t})\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to clone repo: %w\", err)\n\t}\n\treturn nil\n}",
          "startLine": 13,
          "endLine": 32
        }
      },
      {
        "file": "cli/internal/git/git.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Inconsistent error handling in HasChanges function",
        "description": "The HasChanges function returns unwrapped errors unlike all other functions in the package, which use fmt.Errorf with %w for error wrapping. This inconsistency makes it harder to understand error sources when debugging. Additionally, returning false with an error is semantically confusing - when an error occurs, the boolean return value is meaningless but callers might accidentally use it.",
        "suggestion": "Wrap errors consistently with context about what operation failed. Consider whether a simple error return would be clearer than bool+error, or document clearly that the bool should be ignored when error is non-nil.",
        "code": {
          "before": "func HasChanges(pactDir string) (bool, error) {\n\trepo, err := git.PlainOpen(pactDir)\n\tif err != nil {\n\t\treturn false, err\n\t}\n\n\tworktree, err := repo.Worktree()\n\tif err != nil {\n\t\treturn false, err\n\t}\n\n\tstatus, err := worktree.Status()\n\tif err != nil {\n\t\treturn false, err\n\t}\n\n\treturn !status.IsClean(), nil\n}",
          "after": "func HasChanges(pactDir string) (bool, error) {\n\trepo, err := git.PlainOpen(pactDir)\n\tif err != nil {\n\t\treturn false, fmt.Errorf(\"failed to open repo: %w\", err)\n\t}\n\n\tworktree, err := repo.Worktree()\n\tif err != nil {\n\t\treturn false, fmt.Errorf(\"failed to get worktree: %w\", err)\n\t}\n\n\tstatus, err := worktree.Status()\n\tif err != nil {\n\t\treturn false, fmt.Errorf(\"failed to get status: %w\", err)\n\t}\n\n\treturn !status.IsClean(), nil\n}",
          "startLine": 143,
          "endLine": 160
        }
      },
      {
        "file": "cli/internal/git/git.go",
        "category": "bug",
        "severity": "low",
        "title": "Potential race condition when removing existing directory",
        "description": "In the Clone function, there's a TOCTOU (Time-Of-Check-Time-Of-Use) issue where the directory is checked with os.Stat and then removed with os.RemoveAll. Between these operations, another process could create or modify the directory. While os.RemoveAll will fail safely if the directory doesn't exist or is being modified, the error handling doesn't account for concurrent operations. Additionally, os.RemoveAll already handles non-existent directories gracefully, making the os.Stat check redundant.",
        "suggestion": "Remove the os.Stat check and directly call os.RemoveAll, which is idempotent and handles non-existent paths. This simplifies the code and eliminates the TOCTOU issue.",
        "code": {
          "before": "// Remove existing directory if it exists\nif _, err := os.Stat(targetDir); err == nil {\n\tif err := os.RemoveAll(targetDir); err != nil {\n\t\treturn fmt.Errorf(\"failed to remove existing .pact directory: %w\", err)\n\t}\n}",
          "after": "// Remove existing directory if it exists (RemoveAll is idempotent)\nif err := os.RemoveAll(targetDir); err != nil {\n\treturn fmt.Errorf(\"failed to remove existing directory: %w\", err)\n}",
          "startLine": 15,
          "endLine": 20
        }
      },
      {
        "file": "cli/internal/ui/branding.go",
        "category": "style",
        "severity": "low",
        "title": "Use constants for styles to improve performance and clarity",
        "description": "The logoStyle and taglineStyle variables are package-level variables that initialize lipgloss.Style objects. Since these styles are immutable and reused across multiple function calls, they should be constants or initialized once. However, lipgloss.Style cannot be a const. The current approach is acceptable, but making it explicit that these are intended as package-level immutable values would improve clarity. Consider adding comments to indicate these should not be modified.",
        "suggestion": "Add documentation comments to indicate these style variables are package-level constants that should not be modified after initialization. This follows Go conventions for documenting package-level variables that act as constants.",
        "code": {
          "before": "// Brand color style for the logo\nvar logoStyle = lipgloss.NewStyle().\n\tForeground(emerald)\n\n// Tagline style (muted)\nvar taglineStyle = lipgloss.NewStyle().\n\tForeground(zinc500)",
          "after": "// logoStyle is the brand color style for the logo.\n// This is a package-level style that should not be modified.\nvar logoStyle = lipgloss.NewStyle().\n\tForeground(emerald)\n\n// taglineStyle is the muted style for the tagline.\n// This is a package-level style that should not be modified.\nvar taglineStyle = lipgloss.NewStyle().\n\tForeground(zinc500)",
          "startLine": 15,
          "endLine": 20
        }
      },
      {
        "file": "cli/internal/ui/branding.go",
        "category": "bug",
        "severity": "medium",
        "title": "Undefined color constants may cause compilation errors",
        "description": "The code references 'emerald' and 'zinc500' color constants that are not defined or imported in this file. This will cause a compilation error unless these are defined elsewhere in the package. In Go, all identifiers must be declared before use. This violates the principle of explicit dependencies and makes the code fragile.",
        "suggestion": "Define the color constants in this file or ensure they are properly imported/defined in the package scope. Consider using explicit color values from the lipgloss.Color type or defining them as package constants for better maintainability and to make dependencies explicit.",
        "code": {
          "before": "var logoStyle = lipgloss.NewStyle().\n\tForeground(emerald)\n\n// Tagline style (muted)\nvar taglineStyle = lipgloss.NewStyle().\n\tForeground(zinc500)",
          "after": "// Define colors explicitly for clarity and maintainability\nconst (\n\temerald = lipgloss.Color(\"#10b981\")\n\tzinc500 = lipgloss.Color(\"#71717a\")\n)\n\nvar logoStyle = lipgloss.NewStyle().\n\tForeground(emerald)\n\n// Tagline style (muted)\nvar taglineStyle = lipgloss.NewStyle().\n\tForeground(zinc500)",
          "startLine": 15,
          "endLine": 20
        }
      },
      {
        "file": "cli/internal/ui/branding.go",
        "category": "refactor",
        "severity": "low",
        "title": "Extract common rendering logic to reduce duplication",
        "description": "The RenderLogo and RenderLogoWithVersion functions contain duplicated logic for rendering the logo and tagline. This violates the DRY (Don't Repeat Yourself) principle. The functions differ only in whether they append version information. By extracting common logic, the code becomes more maintainable and reduces the chance of inconsistencies.",
        "suggestion": "Refactor to use a single internal function or make RenderLogoWithVersion call RenderLogo as a base. This follows Go's preference for composition and code reuse while maintaining clear, simple functions.",
        "code": {
          "before": "// RenderLogo returns the styled logo with tagline\nfunc RenderLogo() string {\n\treturn logoStyle.Render(Logo) + \"\\n\\n\" + taglineStyle.Render(Tagline) + \"\\n\"\n}\n\n// RenderLogoWithVersion returns the styled logo with version\nfunc RenderLogoWithVersion() string {\n\tversionText := taglineStyle.Render(\"v\" + Version)\n\treturn logoStyle.Render(Logo) + \"\\n\\n\" + taglineStyle.Render(Tagline) + \"  \" + versionText + \"\\n\"\n}",
          "after": "// RenderLogo returns the styled logo with tagline\nfunc RenderLogo() string {\n\treturn renderLogoWithOptionalVersion(\"\")\n}\n\n// RenderLogoWithVersion returns the styled logo with version\nfunc RenderLogoWithVersion() string {\n\treturn renderLogoWithOptionalVersion(\"v\" + Version)\n}\n\n// renderLogoWithOptionalVersion is a helper that renders the logo with optional version text\nfunc renderLogoWithOptionalVersion(version string) string {\n\tbase := logoStyle.Render(Logo) + \"\\n\\n\" + taglineStyle.Render(Tagline)\n\tif version != \"\" {\n\t\tbase += \"  \" + taglineStyle.Render(version)\n\t}\n\treturn base + \"\\n\"\n}",
          "startLine": 23,
          "endLine": 31
        }
      },
      {
        "file": "cli/internal/ui/branding.go",
        "category": "style",
        "severity": "low",
        "title": "Consider using strings.Builder for string concatenation",
        "description": "The RenderLogo and RenderLogoWithVersion functions use string concatenation with the + operator. While this is acceptable for a small number of concatenations, using strings.Builder is more idiomatic and efficient for building strings, especially if this pattern expands in the future. This follows Go best practices for string manipulation as recommended in the standard library documentation.",
        "suggestion": "Use strings.Builder for constructing the output string. This is more efficient and follows Go idioms for string construction, making the code more maintainable if more components are added to the output.",
        "code": {
          "before": "func RenderLogoWithVersion() string {\n\tversionText := taglineStyle.Render(\"v\" + Version)\n\treturn logoStyle.Render(Logo) + \"\\n\\n\" + taglineStyle.Render(Tagline) + \"  \" + versionText + \"\\n\"\n}",
          "after": "func RenderLogoWithVersion() string {\n\tvar b strings.Builder\n\tb.WriteString(logoStyle.Render(Logo))\n\tb.WriteString(\"\\n\\n\")\n\tb.WriteString(taglineStyle.Render(Tagline))\n\tb.WriteString(\"  \")\n\tb.WriteString(taglineStyle.Render(\"v\" + Version))\n\tb.WriteString(\"\\n\")\n\treturn b.String()\n}",
          "startLine": 28,
          "endLine": 31
        }
      },
      {
        "file": "cli/internal/ui/branding.go",
        "category": "documentation",
        "severity": "low",
        "title": "Add package documentation to explain the branding module's purpose",
        "description": "The package lacks a package-level documentation comment. In Go, package comments are important for godoc and help users understand the purpose of the package. This is especially important for internal packages to help team members understand the intended use and scope of the module.",
        "suggestion": "Add a package comment at the top of the file following Go documentation conventions. This should explain the package's purpose and how it fits into the larger application architecture.",
        "code": {
          "before": "package ui\n\nimport \"github.com/charmbracelet/lipgloss\"",
          "after": "// Package ui provides branding and styling elements for the Pact CLI,\n// including ASCII art logo, taglines, and version information rendering.\n// This package uses lipgloss for terminal styling and color management.\npackage ui\n\nimport \"github.com/charmbracelet/lipgloss\"",
          "startLine": 1,
          "endLine": 3
        }
      },
      {
        "file": "pact-docs/package.json",
        "category": "bug",
        "severity": "medium",
        "title": "Invalid package name",
        "description": "The package name is set to '.' which is invalid. While npm allows this for private packages, it can cause issues with tooling, scripts, and package identification. This is likely a placeholder that was never updated.",
        "suggestion": "Replace the '.' with a descriptive package name (e.g., 'pact-docs'). Since the package is marked as private, any valid name is acceptable.",
        "code": {
          "before": "\"name\": \".\",",
          "after": "\"name\": \"pact-docs\",",
          "startLine": 2,
          "endLine": 2
        }
      },
      {
        "file": "cli/internal/auth/oauth.go",
        "category": "bug",
        "severity": "high",
        "title": "Missing context cancellation in PollForToken infinite loop",
        "description": "The PollForToken function uses an infinite for loop without any context-based cancellation mechanism. This makes it impossible for callers to cancel the operation, can lead to goroutine leaks if called asynchronously, and provides no timeout protection beyond individual HTTP request timeouts. The function could potentially poll indefinitely if the user never completes authorization.",
        "suggestion": "Accept a context.Context parameter to enable proper cancellation and timeout control. Use context.WithTimeout or context.WithCancel at the call site to bound the operation. Check ctx.Done() in the polling loop to enable early exit.",
        "code": {
          "before": "func PollForToken(deviceCode string, interval int) (string, error) {\n\tdata := url.Values{}\n\tdata.Set(\"client_id\", GetClientID())\n\tdata.Set(\"device_code\", deviceCode)\n\tdata.Set(\"grant_type\", \"urn:ietf:params:oauth:grant-type:device_code\")\n\n\tclient := &http.Client{Timeout: 30 * time.Second}\n\tpollInterval := time.Duration(interval) * time.Second\n\n\tfor {\n\t\treq, err := http.NewRequest(\"POST\", tokenURL, bytes.NewBufferString(data.Encode()))\n\t\t// ...\n\t\ttime.Sleep(pollInterval)\n\t\tcontinue",
          "after": "func PollForToken(ctx context.Context, deviceCode string, interval int) (string, error) {\n\tdata := url.Values{}\n\tdata.Set(\"client_id\", GetClientID())\n\tdata.Set(\"device_code\", deviceCode)\n\tdata.Set(\"grant_type\", \"urn:ietf:params:oauth:grant-type:device_code\")\n\n\tclient := &http.Client{Timeout: 30 * time.Second}\n\tpollInterval := time.Duration(interval) * time.Second\n\n\tfor {\n\t\tselect {\n\t\tcase <-ctx.Done():\n\t\t\treturn \"\", ctx.Err()\n\t\tdefault:\n\t\t}\n\n\t\treq, err := http.NewRequest(\"POST\", tokenURL, bytes.NewBufferString(data.Encode()))\n\t\tif err != nil {\n\t\t\treturn \"\", err\n\t\t}\n\t\treq = req.WithContext(ctx)\n\t\t// ...\n\t\tselect {\n\t\tcase <-time.After(pollInterval):\n\t\tcase <-ctx.Done():\n\t\t\treturn \"\", ctx.Err()\n\t\t}",
          "startLine": 86,
          "endLine": 127
        }
      },
      {
        "file": "cli/internal/auth/oauth.go",
        "category": "refactor",
        "severity": "high",
        "title": "Extract HTTP client creation and reuse single client instance",
        "description": "Every function creates a new http.Client with identical configuration (30 second timeout). Creating multiple HTTP clients is wasteful as http.Client is designed to be reused and maintains connection pooling. The current approach creates unnecessary overhead and prevents connection reuse, reducing performance. Additionally, HTTP clients are safe for concurrent use by multiple goroutines.",
        "suggestion": "Create a package-level http.Client variable or use http.DefaultClient with configured timeout. This enables connection pooling, reduces allocations, and is more idiomatic Go. For better testability, consider making the client injectable.",
        "code": {
          "before": "func RequestDeviceCode() (*DeviceCodeResponse, error) {\n\t// ...\n\tclient := &http.Client{Timeout: 30 * time.Second}\n\tresp, err := client.Do(req)\n}\n\nfunc PollForToken(deviceCode string, interval int) (string, error) {\n\t// ...\n\tclient := &http.Client{Timeout: 30 * time.Second}\n\t// ...\n}",
          "after": "var httpClient = &http.Client{\n\tTimeout: 30 * time.Second,\n}\n\nfunc RequestDeviceCode() (*DeviceCodeResponse, error) {\n\t// ...\n\tresp, err := httpClient.Do(req)\n\t// ...\n}\n\nfunc PollForToken(ctx context.Context, deviceCode string, interval int) (string, error) {\n\t// ...\n\tresp, err := httpClient.Do(req)\n\t// ...\n}",
          "startLine": 64,
          "endLine": 92
        }
      },
      {
        "file": "cli/internal/auth/oauth.go",
        "category": "bug",
        "severity": "medium",
        "title": "Inconsistent error handling for io.ReadAll failures",
        "description": "In the PollForToken function, when io.ReadAll fails after resp.Body.Close(), the error is returned immediately without considering that the response body might contain useful error information from the server. In other functions like GetUser and CreateRepo, similar patterns exist where HTTP errors might not be fully captured. Additionally, errors from io.ReadAll in CreateRepo line 228 are silently ignored using the blank identifier.",
        "suggestion": "Always check and handle errors from io.ReadAll. For non-successful HTTP status codes, read the body before checking for read errors to capture server error messages. Avoid silently ignoring errors that could indicate problems. Use io.LimitReader to prevent potential DoS from large response bodies.",
        "code": {
          "before": "body, err := io.ReadAll(resp.Body)\nresp.Body.Close()\nif err != nil {\n\treturn \"\", err\n}\n\n// In CreateRepo:\nif resp.StatusCode != 201 {\n\tbody, _ := io.ReadAll(resp.Body)\n\treturn fmt.Errorf(\"failed to create repo: status %d, body: %s\", resp.StatusCode, string(body))\n}",
          "after": "body, err := io.ReadAll(io.LimitReader(resp.Body, 1<<20)) // 1MB limit\nresp.Body.Close()\nif err != nil {\n\treturn \"\", fmt.Errorf(\"failed to read response: %w\", err)\n}\n\n// In CreateRepo:\nif resp.StatusCode != 201 {\n\tbody, err := io.ReadAll(io.LimitReader(resp.Body, 1<<20))\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to create repo: status %d (couldn't read error: %w)\", resp.StatusCode, err)\n\t}\n\treturn fmt.Errorf(\"failed to create repo: status %d, body: %s\", resp.StatusCode, string(body))\n}",
          "startLine": 107,
          "endLine": 228
        }
      },
      {
        "file": "cli/internal/auth/oauth.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Consolidate repetitive HTTP request creation and execution logic",
        "description": "The code contains significant duplication in how HTTP requests are created and executed. Each function manually sets headers (Authorization, Accept, Content-Type), creates requests, executes them, and handles responses. This violates the DRY principle and makes the code harder to maintain. Changes to header handling or error processing must be repeated across multiple functions.",
        "suggestion": "Extract common HTTP request logic into helper functions. Create a doGitHubRequest or similar function that handles common patterns like setting headers, executing requests, and initial error handling. This improves maintainability and makes the authentication flow more testable.",
        "code": {
          "before": "req, err := http.NewRequest(\"GET\", \"https://api.github.com/user\", nil)\nif err != nil {\n\treturn nil, err\n}\nreq.Header.Set(\"Authorization\", \"Bearer \"+token)\nreq.Header.Set(\"Accept\", \"application/vnd.github+json\")\n\nclient := &http.Client{Timeout: 30 * time.Second}\nresp, err := client.Do(req)",
          "after": "type githubRequest struct {\n\tmethod      string\n\turl         string\n\tbody        io.Reader\n\ttoken       string\n\tcontentType string\n}\n\nfunc doGitHubRequest(ctx context.Context, gr githubRequest) (*http.Response, error) {\n\treq, err := http.NewRequestWithContext(ctx, gr.method, gr.url, gr.body)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tif gr.token != \"\" {\n\t\treq.Header.Set(\"Authorization\", \"Bearer \"+gr.token)\n\t}\n\treq.Header.Set(\"Accept\", \"application/vnd.github+json\")\n\tif gr.contentType != \"\" {\n\t\treq.Header.Set(\"Content-Type\", gr.contentType)\n\t}\n\treturn httpClient.Do(req)\n}\n\nfunc GetUser(ctx context.Context, token string) (*GitHubUser, error) {\n\tresp, err := doGitHubRequest(ctx, githubRequest{\n\t\tmethod: \"GET\",\n\t\turl:    \"https://api.github.com/user\",\n\t\ttoken:  token,\n\t})\n\t// ...",
          "startLine": 143,
          "endLine": 158
        }
      },
      {
        "file": "cli/internal/auth/oauth.go",
        "category": "refactor",
        "severity": "low",
        "title": "Add validation for interval parameter and device code",
        "description": "The PollForToken function accepts an interval parameter from the GitHub API response but doesn't validate it. A zero or negative interval would cause issues with time.Duration conversion. Similarly, deviceCode is not validated for emptiness. The function should fail fast with clear errors for invalid inputs rather than potentially causing panics or unexpected behavior.",
        "suggestion": "Add input validation at the beginning of functions. Check that interval is positive and deviceCode is non-empty. This follows the principle of making invalid states unrepresentable and provides better error messages to callers.",
        "code": {
          "before": "func PollForToken(deviceCode string, interval int) (string, error) {\n\tdata := url.Values{}\n\tdata.Set(\"client_id\", GetClientID())\n\tdata.Set(\"device_code\", deviceCode)\n\tdata.Set(\"grant_type\", \"urn:ietf:params:oauth:grant-type:device_code\")\n\n\tclient := &http.Client{Timeout: 30 * time.Second}\n\tpollInterval := time.Duration(interval) * time.Second",
          "after": "func PollForToken(ctx context.Context, deviceCode string, interval int) (string, error) {\n\tif deviceCode == \"\" {\n\t\treturn \"\", fmt.Errorf(\"device code cannot be empty\")\n\t}\n\tif interval <= 0 {\n\t\treturn \"\", fmt.Errorf(\"interval must be positive, got %d\", interval)\n\t}\n\n\tdata := url.Values{}\n\tdata.Set(\"client_id\", GetClientID())\n\tdata.Set(\"device_code\", deviceCode)\n\tdata.Set(\"grant_type\", \"urn:ietf:params:oauth:grant-type:device_code\")\n\n\tpollInterval := time.Duration(interval) * time.Second",
          "startLine": 86,
          "endLine": 93
        }
      },
      {
        "file": "cli/internal/keyring/keyring.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Add error wrapping with context for better error diagnostics",
        "description": "The current implementation returns raw errors from the underlying keyring library without additional context. When debugging issues in production, it's difficult to determine which operation failed. Go 1.13+ introduced error wrapping with %w verb in fmt.Errorf, allowing you to add context while preserving the original error for unwrapping and error type checking. This follows the idiomatic Go pattern of adding context as errors propagate up the call stack.",
        "suggestion": "Wrap errors with context using fmt.Errorf with %w to provide operation-specific information while maintaining error chain integrity for errors.Is() and errors.As() checks",
        "code": {
          "before": "// SetToken stores the GitHub token in the OS keychain\nfunc SetToken(token string) error {\n\treturn keyring.Set(serviceName, tokenKey, token)\n}\n\n// GetToken retrieves the GitHub token from the OS keychain\nfunc GetToken() (string, error) {\n\treturn keyring.Get(serviceName, tokenKey)\n}\n\n// DeleteToken removes the GitHub token from the OS keychain\nfunc DeleteToken() error {\n\treturn keyring.Delete(serviceName, tokenKey)\n}",
          "after": "import (\n\t\"fmt\"\n\t\"github.com/zalando/go-keyring\"\n)\n\n// SetToken stores the GitHub token in the OS keychain\nfunc SetToken(token string) error {\n\tif err := keyring.Set(serviceName, tokenKey, token); err != nil {\n\t\treturn fmt.Errorf(\"failed to set GitHub token in keychain: %w\", err)\n\t}\n\treturn nil\n}\n\n// GetToken retrieves the GitHub token from the OS keychain\nfunc GetToken() (string, error) {\n\ttoken, err := keyring.Get(serviceName, tokenKey)\n\tif err != nil {\n\t\treturn \"\", fmt.Errorf(\"failed to get GitHub token from keychain: %w\", err)\n\t}\n\treturn token, nil\n}\n\n// DeleteToken removes the GitHub token from the OS keychain\nfunc DeleteToken() error {\n\tif err := keyring.Delete(serviceName, tokenKey); err != nil {\n\t\treturn fmt.Errorf(\"failed to delete GitHub token from keychain: %w\", err)\n\t}\n\treturn nil\n}",
          "startLine": 12,
          "endLine": 24
        }
      },
      {
        "file": "cli/internal/keyring/keyring.go",
        "category": "bug",
        "severity": "medium",
        "title": "Handle ErrNotFound explicitly in existence check functions",
        "description": "HasToken() and HasSecret() currently return false for any error, including system errors, network issues, or permission problems. This makes it impossible to distinguish between 'key does not exist' and 'keychain access failed'. The keyring library likely defines a specific error type for 'not found' scenarios. By checking for this specific error, you can properly handle the existence check while still surfacing real errors to callers. This follows the Go idiom of explicit error handling rather than hiding errors.",
        "suggestion": "Return a boolean and error, checking specifically for ErrNotFound. This allows callers to distinguish between 'not exists' (false, nil) and 'error checking' (false, err), enabling proper error handling upstream",
        "code": {
          "before": "// HasToken checks if a token exists in the keychain\nfunc HasToken() bool {\n\t_, err := GetToken()\n\treturn err == nil\n}\n\n// HasSecret checks if a secret exists in the keychain\nfunc HasSecret(name string) bool {\n\t_, err := GetSecret(name)\n\treturn err == nil\n}",
          "after": "// HasToken checks if a token exists in the keychain.\n// Returns (true, nil) if token exists, (false, nil) if not found,\n// or (false, err) if an error occurred while checking.\nfunc HasToken() (bool, error) {\n\t_, err := GetToken()\n\tif err == nil {\n\t\treturn true, nil\n\t}\n\tif errors.Is(err, keyring.ErrNotFound) {\n\t\treturn false, nil\n\t}\n\treturn false, fmt.Errorf(\"failed to check token existence: %w\", err)\n}\n\n// HasSecret checks if a secret exists in the keychain.\n// Returns (true, nil) if secret exists, (false, nil) if not found,\n// or (false, err) if an error occurred while checking.\nfunc HasSecret(name string) (bool, error) {\n\t_, err := GetSecret(name)\n\tif err == nil {\n\t\treturn true, nil\n\t}\n\tif errors.Is(err, keyring.ErrNotFound) {\n\t\treturn false, nil\n\t}\n\treturn false, fmt.Errorf(\"failed to check secret %q existence: %w\", name, err)\n}",
          "startLine": 27,
          "endLine": 36
        }
      },
      {
        "file": "cli/internal/keyring/keyring.go",
        "category": "refactor",
        "severity": "low",
        "title": "Add input validation for empty or invalid parameters",
        "description": "The functions accept strings without validation. Setting an empty token or secret name could lead to unexpected behavior or security issues. Validating inputs at the API boundary is an idiomatic Go practice that prevents invalid states and provides clear error messages. This is especially important for security-sensitive operations like credential management. Following the 'fail fast' principle makes debugging easier and prevents silent failures.",
        "suggestion": "Add parameter validation to ensure tokens and secret names are non-empty, returning a descriptive error for invalid inputs. Consider using a custom error type or sentinel error for validation failures",
        "code": {
          "before": "// SetToken stores the GitHub token in the OS keychain\nfunc SetToken(token string) error {\n\treturn keyring.Set(serviceName, tokenKey, token)\n}\n\n// SetSecret stores a secret in the OS keychain\nfunc SetSecret(name, value string) error {\n\treturn keyring.Set(serviceName, name, value)\n}",
          "after": "import (\n\t\"errors\"\n\t\"fmt\"\n\t\"strings\"\n)\n\nvar (\n\tErrEmptyToken = errors.New(\"token cannot be empty\")\n\tErrEmptySecretName = errors.New(\"secret name cannot be empty\")\n\tErrEmptySecretValue = errors.New(\"secret value cannot be empty\")\n)\n\n// SetToken stores the GitHub token in the OS keychain\nfunc SetToken(token string) error {\n\tif strings.TrimSpace(token) == \"\" {\n\t\treturn ErrEmptyToken\n\t}\n\tif err := keyring.Set(serviceName, tokenKey, token); err != nil {\n\t\treturn fmt.Errorf(\"failed to set GitHub token: %w\", err)\n\t}\n\treturn nil\n}\n\n// SetSecret stores a secret in the OS keychain\nfunc SetSecret(name, value string) error {\n\tif strings.TrimSpace(name) == \"\" {\n\t\treturn ErrEmptySecretName\n\t}\n\tif strings.TrimSpace(value) == \"\" {\n\t\treturn ErrEmptySecretValue\n\t}\n\tif err := keyring.Set(serviceName, name, value); err != nil {\n\t\treturn fmt.Errorf(\"failed to set secret %q: %w\", name, err)\n\t}\n\treturn nil\n}",
          "startLine": 12,
          "endLine": 19
        }
      },
      {
        "file": "cli/internal/keyring/keyring.go",
        "category": "documentation",
        "severity": "low",
        "title": "Enhance documentation with error behavior and thread-safety guarantees",
        "description": "The current comments describe what each function does but don't explain error conditions, return values for edge cases, or concurrency guarantees. Good Go documentation should describe the complete contract of a function, including error scenarios and thread-safety. This is especially important for a package that wraps external dependencies, as users need to know what errors to expect and whether they can safely call these functions from multiple goroutines.",
        "suggestion": "Expand godoc comments to include information about possible errors (wrapping errors.Is checks), edge case behavior, and thread-safety guarantees of the underlying keyring library",
        "code": {
          "before": "// GetToken retrieves the GitHub token from the OS keychain\nfunc GetToken() (string, error) {\n\treturn keyring.Get(serviceName, tokenKey)\n}\n\n// DeleteSecret removes a secret from the OS keychain\nfunc DeleteSecret(name string) error {\n\treturn keyring.Delete(serviceName, name)\n}",
          "after": "// GetToken retrieves the GitHub token from the OS keychain.\n// Returns an error if the token doesn't exist (check with errors.Is(err, keyring.ErrNotFound)),\n// if the keychain is locked, or if there are permission issues.\n// This function is safe for concurrent use.\nfunc GetToken() (string, error) {\n\treturn keyring.Get(serviceName, tokenKey)\n}\n\n// DeleteSecret removes a secret from the OS keychain.\n// Returns an error if the secret doesn't exist or if deletion fails due to\n// keychain access issues. Deleting a non-existent secret returns an error.\n// This function is safe for concurrent use.\nfunc DeleteSecret(name string) error {\n\treturn keyring.Delete(serviceName, name)\n}",
          "startLine": 17,
          "endLine": 24
        }
      },
      {
        "file": "cli/internal/keyring/keyring.go",
        "category": "refactor",
        "severity": "low",
        "title": "Consider defining an interface for testability and dependency injection",
        "description": "The current package exposes only concrete functions that directly call the keyring library. This makes testing code that uses this package difficult, as you cannot easily mock or substitute the keyring operations. Defining a small interface is an idiomatic Go pattern that enables dependency injection and makes code more testable without requiring external dependencies in tests. Small interfaces (with one or two methods) are preferred in Go. This follows the Go proverb 'Accept interfaces, return structs'.",
        "suggestion": "Define a Store interface and provide a default implementation. This allows consumers to mock the keyring for testing while keeping the simple API for production use",
        "code": {
          "before": "package keyring\n\nimport (\n\t\"github.com/zalando/go-keyring\"\n)\n\nconst (\n\tserviceName = \"pact\"\n\ttokenKey    = \"github_token\"\n)",
          "after": "package keyring\n\nimport (\n\t\"github.com/zalando/go-keyring\"\n)\n\nconst (\n\tserviceName = \"pact\"\n\ttokenKey    = \"github_token\"\n)\n\n// Store defines the interface for secure credential storage.\ntype Store interface {\n\tSetToken(token string) error\n\tGetToken() (string, error)\n\tDeleteToken() error\n\tSetSecret(name, value string) error\n\tGetSecret(name string) (string, error)\n\tDeleteSecret(name string) error\n}\n\n// OSKeyring implements Store using the operating system's keychain.\ntype OSKeyring struct{}\n\n// NewStore returns a Store implementation using the OS keychain.\nfunc NewStore() Store {\n\treturn &OSKeyring{}\n}\n\n// SetToken stores the GitHub token in the OS keychain\nfunc (k *OSKeyring) SetToken(token string) error {\n\treturn keyring.Set(serviceName, tokenKey, token)\n}\n\n// Package-level convenience functions for backward compatibility\nfunc SetToken(token string) error {\n\treturn NewStore().SetToken(token)\n}",
          "startLine": 1,
          "endLine": 10
        }
      },
      {
        "file": "cli/go.mod",
        "category": "bug",
        "severity": "high",
        "title": "Update vulnerable and outdated dependencies",
        "description": "Several dependencies have known security vulnerabilities or are significantly outdated. Notably, golang.org/x/crypto v0.21.0 has known vulnerabilities (CVE-2024-45337 and others fixed in v0.31.0+), golang.org/x/net v0.22.0 has HTTP/2 rapid reset vulnerabilities fixed in later versions, and github.com/ProtonMail/go-crypto v1.0.0 may have security issues fixed in v1.1.0+. Using outdated dependencies exposes the application to known security risks.",
        "suggestion": "Run 'go get -u' to update all dependencies to their latest compatible versions, then run 'go mod tidy'. Pay special attention to security-critical packages like crypto, net, and sys. Test thoroughly after updates.",
        "code": {
          "before": "golang.org/x/crypto v0.21.0 // indirect\ngolang.org/x/net v0.22.0 // indirect\ngolang.org/x/sys v0.21.0 // indirect\ngolang.org/x/term v0.21.0",
          "after": "golang.org/x/crypto v0.31.0 // indirect\ngolang.org/x/net v0.33.0 // indirect\ngolang.org/x/sys v0.28.0 // indirect\ngolang.org/x/term v0.27.0",
          "startLine": 36,
          "endLine": 40
        }
      },
      {
        "file": "cli/go.mod",
        "category": "optimization",
        "severity": "medium",
        "title": "Update to Go 1.23 or later for improved performance and features",
        "description": "The project uses Go 1.22, but Go 1.23 (released August 2024) and 1.24 are available with significant improvements including better PGO (Profile-Guided Optimization), improved iterator support, enhanced crypto/rand performance, and better generic type inference. Staying current with Go versions ensures access to performance improvements, security patches, and language features.",
        "suggestion": "Update the Go version to 1.23 or the latest stable release. This provides access to performance optimizations and security improvements without breaking changes for most codebases.",
        "code": {
          "before": "go 1.22",
          "after": "go 1.23",
          "startLine": 3,
          "endLine": 3
        }
      },
      {
        "file": "cli/go.mod",
        "category": "refactor",
        "severity": "medium",
        "title": "Consolidate and update charmbracelet dependencies",
        "description": "The project uses multiple charmbracelet packages (bubbles v0.18.0, bubbletea v0.26.4, lipgloss v0.11.0, and several charmbracelet/x/* packages). These versions are not the latest available, and having multiple sub-packages from the charmbracelet/x namespace suggests potential for consolidation. Newer versions may have bug fixes, performance improvements, and better compatibility.",
        "suggestion": "Update all charmbracelet dependencies to their latest versions and verify compatibility. Check if any charmbracelet/x packages can be replaced with functionality in the main packages.",
        "code": {
          "before": "github.com/charmbracelet/bubbles v0.18.0\ngithub.com/charmbracelet/bubbletea v0.26.4\ngithub.com/charmbracelet/lipgloss v0.11.0",
          "after": "github.com/charmbracelet/bubbles v0.20.0\ngithub.com/charmbracelet/bubbletea v1.2.0\ngithub.com/charmbracelet/lipgloss v1.0.0",
          "startLine": 6,
          "endLine": 8
        }
      },
      {
        "file": "cli/go.mod",
        "category": "optimization",
        "severity": "medium",
        "title": "Update go-git to latest version for bug fixes and performance",
        "description": "The project uses github.com/go-git/go-git/v5 v5.12.0, but newer versions (v5.13.0+) are available with important bug fixes, performance improvements, and better Git compatibility. Using an older version may result in Git operation failures or degraded performance.",
        "suggestion": "Update go-git to the latest v5.x version to benefit from bug fixes and performance improvements. Review the changelog for any breaking changes.",
        "code": {
          "before": "github.com/go-git/go-git/v5 v5.12.0",
          "after": "github.com/go-git/go-git/v5 v5.13.1",
          "startLine": 9,
          "endLine": 9
        }
      },
      {
        "file": "cli/go.mod",
        "category": "refactor",
        "severity": "low",
        "title": "Run 'go mod tidy' to clean up unused dependencies",
        "description": "The go.mod file contains many indirect dependencies that may not all be necessary. Some indirect dependencies might be outdated or replaced by newer versions required by direct dependencies. Running 'go mod tidy' ensures the dependency tree is optimized and removes any unnecessary entries.",
        "suggestion": "Execute 'go mod tidy' after updating dependencies to clean up the dependency tree, ensure all versions are properly resolved, and remove any unused dependencies. This improves build times and reduces the attack surface.",
        "code": {
          "before": "# Current go.mod with potentially redundant indirect dependencies",
          "after": "# After running: go mod tidy\n# Optimized go.mod with only necessary dependencies at correct versions",
          "startLine": 1,
          "endLine": 44
        }
      },
      {
        "file": "CHANGELOG.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add version number to Unreleased section header",
        "description": "The [Unreleased] section should include a comparison link and ideally indicate what the next version will be (or have a placeholder). Following Keep a Changelog conventions, unreleased sections should link to a comparison view showing changes since the last release.",
        "suggestion": "Add a comparison link to the Unreleased header and consider adding a placeholder for the upcoming version number. This helps maintainers track what will be in the next release.",
        "code": {
          "before": "## [Unreleased]",
          "after": "## [Unreleased]\n\n> Upcoming version: v0.2.0 (or TBD)\n\nComparison: [v0.1.0...HEAD](https://github.com/your-org/your-repo/compare/v0.1.0...HEAD)",
          "startLine": 5,
          "endLine": 5
        }
      },
      {
        "file": "CHANGELOG.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add past release sections with dates",
        "description": "A changelog should include historical releases with version numbers, release dates, and their changes. Currently, only the unreleased section exists, which makes it unclear what versions have been published and when. The Keep a Changelog format recommends using ISO 8601 date format (YYYY-MM-DD).",
        "suggestion": "Add at least one released version section below [Unreleased] with the release date. This provides context and shows the changelog structure that should be followed for future releases.",
        "code": {
          "before": "### Changed\n- Version variable moved to `internal/ui` package for centralized branding",
          "after": "### Changed\n- Version variable moved to `internal/ui` package for centralized branding\n\n## [0.1.0] - 2024-01-15\n\n### Added\n- Initial release\n- Basic CLI functionality\n\n### Fixed\n- Initial bug fixes\n\n[Unreleased]: https://github.com/your-org/your-repo/compare/v0.1.0...HEAD\n[0.1.0]: https://github.com/your-org/your-repo/releases/tag/v0.1.0",
          "startLine": 16,
          "endLine": 17
        }
      },
      {
        "file": "CHANGELOG.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add missing changelog subsections for completeness",
        "description": "The Keep a Changelog format recommends using standardized subsections: Added, Changed, Deprecated, Removed, Fixed, and Security. Currently only 'Added' and 'Changed' are present. Even if empty, having placeholders or comments for other sections helps maintainers remember to categorize changes appropriately.",
        "suggestion": "Consider adding comment placeholders for other standard sections (Deprecated, Removed, Fixed, Security) to guide future changelog entries. This ensures comprehensive change tracking.",
        "code": {
          "before": "### Added\n- ASCII logo branding for CLI with colored output using lipgloss\n- `--version` / `-v` flag to display logo and version\n- Logo displayed on `pact init` welcome message\n- Logo displayed on `pact --help` output\n- Logo displayed when running `pact` without initialization\n- Scoop package manager support for Windows users\n- Automated Scoop bucket updates via GoReleaser on release\n\n### Changed\n- Version variable moved to `internal/ui` package for centralized branding",
          "after": "### Added\n- ASCII logo branding for CLI with colored output using lipgloss\n- `--version` / `-v` flag to display logo and version\n- Logo displayed on `pact init` welcome message\n- Logo displayed on `pact --help` output\n- Logo displayed when running `pact` without initialization\n- Scoop package manager support for Windows users\n- Automated Scoop bucket updates via GoReleaser on release\n\n### Changed\n- Version variable moved to `internal/ui` package for centralized branding\n\n### Fixed\n<!-- Bug fixes go here -->\n\n### Security\n<!-- Security updates go here -->",
          "startLine": 7,
          "endLine": 17
        }
      },
      {
        "file": "CHANGELOG.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add link references section and guiding principles",
        "description": "Following Keep a Changelog best practices, include a links section at the bottom for version comparisons and optionally add a brief description of the changelog's guiding principles. This improves navigation and sets expectations for contributors.",
        "suggestion": "Add a links section at the end of the file for version references, and consider adding a brief header description explaining the changelog format being followed.",
        "code": {
          "before": "# Changelog\n\nAll notable changes to this project will be documented in this file.",
          "after": "# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).",
          "startLine": 1,
          "endLine": 3
        }
      },
      {
        "file": "CHANGELOG.md",
        "category": "style",
        "severity": "low",
        "title": "Group related logo changes for better readability",
        "description": "The 'Added' section contains four separate entries about logo display in different contexts. These could be grouped into a single entry with sub-bullets to reduce redundancy and improve scannability. This makes it easier for readers to understand that a comprehensive logo feature was added rather than four separate logo implementations.",
        "suggestion": "Consolidate the four logo-related entries into a single entry with sub-items, making the changelog more concise while maintaining all information.",
        "code": {
          "before": "### Added\n- ASCII logo branding for CLI with colored output using lipgloss\n- `--version` / `-v` flag to display logo and version\n- Logo displayed on `pact init` welcome message\n- Logo displayed on `pact --help` output\n- Logo displayed when running `pact` without initialization",
          "after": "### Added\n- ASCII logo branding for CLI with colored output using lipgloss\n  - Logo displayed on `pact init` welcome message\n  - Logo displayed on `pact --help` output\n  - Logo displayed when running `pact` without initialization\n  - Logo displayed with `--version` / `-v` flag\n- `--version` / `-v` flag to display logo and version information",
          "startLine": 7,
          "endLine": 11
        }
      },
      {
        "file": "pact-docs/README.md",
        "category": "documentation",
        "severity": "high",
        "title": "Replace placeholder title with meaningful project name",
        "description": "The document title is currently just a period '.' which provides no context about the project. This makes the README unhelpful for new users, search engines, and documentation systems. A descriptive title should clearly indicate this is the Pact documentation site.",
        "suggestion": "Replace the placeholder title with a descriptive project name that reflects the purpose of this documentation site.",
        "code": {
          "before": "# .",
          "after": "# Pact Documentation Site",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add project overview and purpose section",
        "description": "The README immediately dives into technical details without explaining what this project is for or its relationship to Pact. Users need context about why this documentation site exists and what it documents before learning how to run it.",
        "suggestion": "Add an overview section after the title that explains this is the documentation website for Pact, what Pact is, and the purpose of this Next.js application.",
        "code": {
          "before": "# .\n\nThis is a Next.js application generated with\n[Create Fumadocs](https://github.com/fuma-nama/fumadocs).",
          "after": "# Pact Documentation Site\n\n## Overview\n\nThis repository contains the official documentation website for [Pact](https://pact.io), a contract testing framework. The site provides comprehensive guides, API references, and examples for implementing consumer-driven contract testing.\n\nThis is a Next.js application generated with\n[Create Fumadocs](https://github.com/fuma-nama/fumadocs).",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add prerequisites and setup requirements",
        "description": "The README lacks information about required software versions, dependencies, and initial setup steps. Users need to know if they have Node.js installed, which version is required, and whether they need to run npm install before npm run dev.",
        "suggestion": "Add a Prerequisites section and expand the development instructions to include installation steps.",
        "code": {
          "before": "Run development server:\n\n```bash\nnpm run dev\n# or\npnpm dev\n# or\nyarn dev\n```",
          "after": "## Prerequisites\n\n- Node.js 18.x or higher\n- npm, pnpm, or yarn package manager\n\n## Getting Started\n\nFirst, install dependencies:\n\n```bash\nnpm install\n# or\npnpm install\n# or\nyarn install\n```\n\nThen, run the development server:\n\n```bash\nnpm run dev\n# or\npnpm dev\n# or\nyarn dev\n```",
          "startLine": 6,
          "endLine": 13
        }
      },
      {
        "file": "pact-docs/README.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add contributing guidelines and contact information",
        "description": "The README should include information about how to contribute to the documentation, report issues, or get help. This is especially important for documentation projects where community contributions improve content quality.",
        "suggestion": "Add a Contributing section with links to contribution guidelines and communication channels.",
        "code": {
          "before": "- [Fumadocs](https://fumadocs.dev) - learn about Fumadocs",
          "after": "- [Fumadocs](https://fumadocs.dev) - learn about Fumadocs\n\n## Contributing\n\nWe welcome contributions to improve the Pact documentation! Please see our [Contributing Guide](CONTRIBUTING.md) for details on:\n\n- How to submit documentation improvements\n- Code style and formatting guidelines\n- How to report issues or suggest enhancements\n\nFor questions or discussions, join us on:\n- [Pact Slack](https://slack.pact.io)\n- [GitHub Discussions](https://github.com/pact-foundation/pact-docs/discussions)\n\n## License\n\nThis project is licensed under [LICENSE_TYPE] - see the [LICENSE](LICENSE) file for details.",
          "startLine": 45,
          "endLine": 45
        }
      },
      {
        "file": "pact-docs/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Enhance project structure explanation with context",
        "description": "The Explore section lists files and routes but doesn't explain why they matter or when developers would need to modify them. Adding context about use cases helps developers understand when to interact with each component.",
        "suggestion": "Expand the Explore section descriptions to include when and why developers would modify these files.",
        "code": {
          "before": "- `lib/source.ts`: Code for content source adapter, [`loader()`](https://fumadocs.dev/docs/headless/source-api) provides the interface to access your content.\n- `lib/layout.shared.tsx`: Shared options for layouts, optional but preferred to keep.",
          "after": "- `lib/source.ts`: Code for content source adapter. Modify this file when adding new documentation sources or changing how content is loaded. The [`loader()`](https://fumadocs.dev/docs/headless/source-api) function provides the interface to access your content.\n- `lib/layout.shared.tsx`: Shared options for layouts including navigation, footer, and sidebar configuration. Edit this file to customize the documentation site's appearance and structure.",
          "startLine": 22,
          "endLine": 23
        }
      },
      {
        "file": "pact-docs/content/docs/index.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better SEO and navigation",
        "description": "The MDX frontmatter is minimal. Adding additional metadata fields like 'sidebar_position', 'keywords', and 'slug' would improve documentation navigation, SEO, and content organization. This is especially important for an index/introduction page that serves as the entry point.",
        "suggestion": "Expand frontmatter with navigation metadata, keywords for search, and explicit slug definition to ensure consistent URL structure across documentation builds.",
        "code": {
          "before": "---\ntitle: Introduction\ndescription: Your portable dev identity. Shell, editor, AI prefs, themes — one kit, any machine.\n---",
          "after": "---\ntitle: Introduction\ndescription: Your portable dev identity. Shell, editor, AI prefs, themes — one kit, any machine.\nslug: /\nsidebar_position: 1\nkeywords:\n  - pact\n  - dotfiles\n  - development environment\n  - configuration management\n  - github\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/index.mdx",
        "category": "style",
        "severity": "low",
        "title": "Use consistent heading hierarchy for better accessibility",
        "description": "The document jumps from H1 ('Welcome to Pact') to H2 ('The Problem') without establishing a clear content structure. While technically valid, using H2 for major sections and H3 for subsections within those creates better semantic structure for screen readers and improves document outline navigation.",
        "suggestion": "Restructure the content to use consistent heading levels. Consider making 'The Problem' and 'The Solution' H3 under an implicit 'Overview' section, or restructure to maintain H2 for major conceptual sections.",
        "code": {
          "before": "# Welcome to Pact\n\n**Pact** stores your entire development environment configuration in a single GitHub repo. Edit locally or in the browser, sync from terminal, apply anywhere.\n\n## The Problem\n\nSetting up a new machine sucks. Dotfiles repos are messy, unstructured, and hard to share. Your AI prompts, editor configs, and shell setup live in different places.\n\n## The Solution",
          "after": "# Welcome to Pact\n\n**Pact** stores your entire development environment configuration in a single GitHub repo. Edit locally or in the browser, sync from terminal, apply anywhere.\n\n## Overview\n\n### The Problem\n\nSetting up a new machine sucks. Dotfiles repos are messy, unstructured, and hard to share. Your AI prompts, editor configs, and shell setup live in different places.\n\n### The Solution",
          "startLine": 6,
          "endLine": 15
        }
      },
      {
        "file": "pact-docs/content/docs/index.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add explicit language hints and copy buttons to code blocks",
        "description": "The bash code blocks lack explicit language identifiers in some places, and there's no indication of copy functionality. While the bash identifier is present, adding meta properties for enabling copy buttons and showing shell prompts improves user experience in modern documentation frameworks.",
        "suggestion": "Add explicit code block metadata to enable copy-to-clipboard functionality and improve syntax highlighting consistency. Use meta strings that common MDX processors like Docusaurus or Nextra can parse.",
        "code": {
          "before": "```bash\n# macOS/Linux (Homebrew)\nbrew install cloudboy-jh/tap/pact\n\n# Or download from GitHub Releases\n# https://github.com/cloudboy-jh/pact/releases\n```",
          "after": "```bash showLineNumbers title=\"Install via Homebrew\"\n# macOS/Linux (Homebrew)\nbrew install cloudboy-jh/tap/pact\n\n# Or download from GitHub Releases\n# https://github.com/cloudboy-jh/pact/releases\n```",
          "startLine": 20,
          "endLine": 26
        }
      },
      {
        "file": "pact-docs/content/docs/index.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add error handling guidance and troubleshooting links",
        "description": "The Quick Start section provides commands but no guidance on what to do when things fail. Real users will encounter authentication errors, network issues, or permission problems. Adding callout boxes or admonitions with common error scenarios would significantly improve user experience.",
        "suggestion": "Add MDX admonition components (like :::note or :::warning) after critical commands to highlight common issues and link to troubleshooting documentation. This prevents user frustration and reduces support requests.",
        "code": {
          "before": "### 2. Initialize Pact\n\n```bash\ncd my-project\npact init\n```\n\nThis authenticates with GitHub, creates your `my-pact` repo, and clones it to `./.pact/`.",
          "after": "### 2. Initialize Pact\n\n```bash\ncd my-project\npact init\n```\n\nThis authenticates with GitHub, creates your `my-pact` repo, and clones it to `./.pact/`.\n\n:::tip Authentication\nPact will open a browser window for GitHub OAuth. If running on a remote server, use `pact init --token` with a personal access token.\n:::\n\n:::warning Common Issues\n- **Permission denied**: Ensure you have GitHub repo creation permissions\n- **Network errors**: Check your internet connection and GitHub status\n- See [Troubleshooting](/docs/troubleshooting) for more help\n:::",
          "startLine": 28,
          "endLine": 35
        }
      },
      {
        "file": "pact-docs/content/docs/index.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Convert file tree to interactive component or add annotations",
        "description": "The 'What's in a Pact' directory structure is presented as plain text, which is not easily scannable. Modern documentation often uses either collapsible file tree components or adds emoji/icons for visual categorization. Additionally, some items have comments while others don't, creating inconsistency.",
        "suggestion": "Add consistent inline descriptions for all directories, and consider using a File Tree MDX component if available. At minimum, ensure all entries have brief explanations for consistency and improved scannability.",
        "code": {
          "before": "```\nusername/my-pact/\n├── pact.json              # Manifest\n├── shell/                 # .zshrc, .bashrc, profile.ps1\n├── editor/                # nvim, vscode, cursor configs\n├── terminal/              # Ghostty, Kitty, Alacritty\n├── git/                   # .gitconfig, .gitignore_global\n├── prompts/               # AI prompts (default.md, code-review.md)\n├── skills/                # Custom AI skills\n├── agents/                # CLAUDE.md, .cursorrules\n├── tools/                 # lazygit, ripgrep, fzf configs\n├── keybindings/           # Editor keybindings\n├── snippets/              # Code snippets\n├── fonts/                 # Font preferences\n└── theme/                 # Colors, wallpapers, icons\n```",
          "after": "```plaintext title=\"Pact Repository Structure\"\nusername/my-pact/\n├── pact.json              # 📋 Central manifest defining all modules\n├── shell/                 # 🐚 Shell configs (.zshrc, .bashrc, profile.ps1)\n├── editor/                # ✏️  Editor configs (nvim, vscode, cursor)\n├── terminal/              # 💻 Terminal emulator configs (Ghostty, Kitty, Alacritty)\n├── git/                   # 🔀 Git configuration (.gitconfig, .gitignore_global)\n├── prompts/               # 🤖 AI prompt templates (default.md, code-review.md)\n├── skills/                # 🎯 Custom AI skills and workflows\n├── agents/                # 🧠 AI agent instructions (CLAUDE.md, .cursorrules)\n├── tools/                 # 🛠️  CLI tool configs (lazygit, ripgrep, fzf)\n├── keybindings/           # ⌨️  Custom keyboard shortcuts for editors\n├── snippets/              # 📝 Reusable code snippets\n├── fonts/                 # 🔤 Font preferences and configurations\n└── theme/                 # 🎨 Visual theming (colors, wallpapers, icons)\n```",
          "startLine": 43,
          "endLine": 58
        }
      },
      {
        "file": "cli/internal/ui/status.go",
        "category": "bug",
        "severity": "medium",
        "title": "Unchecked error from os.Hostname() silently ignored",
        "description": "In RenderStatus, os.Hostname() returns an error that is silently discarded using the blank identifier. If hostname retrieval fails, an empty string is used without indication. This violates Go's explicit error handling philosophy and could confuse users when the hostname doesn't appear in the UI.",
        "suggestion": "Handle the error explicitly by providing a fallback value with clear indication when hostname cannot be determined. This makes the behavior observable and predictable.",
        "code": {
          "before": "hostname, _ := os.Hostname()\nheader := fmt.Sprintf(\"%s%s%s\",\n\ttitleStyle.Render(\"pact\"),\n\tstrings.Repeat(\" \", 30),\n\tsubtitleStyle.Render(hostname),\n)",
          "after": "hostname, err := os.Hostname()\nif err != nil {\n\thostname = \"unknown\"\n}\nheader := fmt.Sprintf(\"%s%s%s\",\n\ttitleStyle.Render(\"pact\"),\n\tstrings.Repeat(\" \", 30),\n\tsubtitleStyle.Render(hostname),\n)",
          "startLine": 140,
          "endLine": 145
        }
      },
      {
        "file": "cli/internal/ui/status.go",
        "category": "refactor",
        "severity": "high",
        "title": "Large switch statement violates DRY principle and type safety",
        "description": "The GetModuleStatuses function contains a massive switch statement with repetitive logic for each module. This approach is error-prone, difficult to maintain, and violates the DRY principle. Adding new modules requires duplicating similar code patterns. The hardcoded module list at the top becomes out of sync easily with the switch cases.",
        "suggestion": "Use a table-driven approach with a slice of module definitions and a unified checking function. This is more idiomatic Go, easier to test, and allows for extension without modifying the core logic.",
        "code": {
          "before": "modules := []string{\"shell\", \"editor\", \"terminal\", \"git\", \"ai\", \"tools\", \"keybindings\", \"snippets\", \"fonts\", \"theme\"}\nvar statuses []ModuleStatus\n\nfor _, module := range modules {\n\tstatus := ModuleStatus{\n\t\tName:      module,\n\t\tFileCount: cfg.CountModuleFiles(module),\n\t}\n\n\t// Check if module is configured\n\tswitch module {\n\tcase \"shell\":\n\t\tif len(cfg.Modules.Shell) == 0 {\n\t\t\tstatus.Status = \"not_configured\"\n\t\t} else if _, ok := cfg.Modules.Shell[config.GetCurrentOS()]; !ok {\n\t\t\tstatus.Status = \"not_configured\"\n\t\t} else {\n\t\t\tstatus.Status = \"synced\"\n\t\t}\n\t// ... more cases\n\t}",
          "after": "type moduleChecker func(*config.PactConfig) string\n\ntype moduleDef struct {\n\tname    string\n\tchecker moduleChecker\n}\n\nmodules := []moduleDef{\n\t{\"shell\", checkShellModule},\n\t{\"editor\", checkEditorModule},\n\t// ... other modules\n}\n\nvar statuses []ModuleStatus\nfor _, mod := range modules {\n\tstatuses = append(statuses, ModuleStatus{\n\t\tName:      mod.name,\n\t\tStatus:    mod.checker(cfg),\n\t\tFileCount: cfg.CountModuleFiles(mod.name),\n\t})\n}\n\nfunc checkShellModule(cfg *config.PactConfig) string {\n\tif len(cfg.Modules.Shell) == 0 {\n\t\treturn \"not_configured\"\n\t}\n\tif _, ok := cfg.Modules.Shell[config.GetCurrentOS()]; !ok {\n\t\treturn \"not_configured\"\n\t}\n\treturn \"synced\"\n}",
          "startLine": 73,
          "endLine": 133
        }
      },
      {
        "file": "cli/internal/ui/status.go",
        "category": "optimization",
        "severity": "medium",
        "title": "Inefficient string concatenation with WriteString in loops",
        "description": "RenderSyncResults uses strings.Builder.WriteString in a loop but also uses fmt.Sprintf for each line, which allocates intermediate strings. While strings.Builder is good, the pattern could be more efficient by writing directly to the builder or pre-allocating capacity.",
        "suggestion": "Pre-allocate the builder capacity based on expected output size, or use fmt.Fprintf to write directly to the builder which implements io.Writer. This reduces allocations in potentially high-frequency rendering.",
        "code": {
          "before": "var sb strings.Builder\n\n// ... loop logic\nfor _, result := range results {\n\t// ...\n\tname := fmt.Sprintf(\"%s/%s\", result.Module, result.Name)\n\tsb.WriteString(fmt.Sprintf(\"  %s %s %s\\n\", icon, moduleNameStyle.Render(name), status))\n\n\tif result.Error != nil {\n\t\tsb.WriteString(fmt.Sprintf(\"    %s\\n\", dimStyle.Render(result.Error.Error())))\n\t}\n}",
          "after": "var sb strings.Builder\nsb.Grow(len(results) * 100) // Pre-allocate approximate size\n\n// ... loop logic\nfor _, result := range results {\n\t// ...\n\tname := fmt.Sprintf(\"%s/%s\", result.Module, result.Name)\n\tfmt.Fprintf(&sb, \"  %s %s %s\\n\", icon, moduleNameStyle.Render(name), status)\n\n\tif result.Error != nil {\n\t\tfmt.Fprintf(&sb, \"    %s\\n\", dimStyle.Render(result.Error.Error()))\n\t}\n}",
          "startLine": 227,
          "endLine": 248
        }
      },
      {
        "file": "cli/internal/ui/status.go",
        "category": "style",
        "severity": "low",
        "title": "Magic numbers and strings reduce maintainability",
        "description": "The code contains several magic numbers (14, 20, 30, 2) and repeated strings (\"synced\", \"not_configured\") scattered throughout. These reduce readability and make changes error-prone. The width values 14 and 20 for styling, and the spacing value 30 in the header are unclear without context.",
        "suggestion": "Define package-level constants with descriptive names for these values. Consider using string constants or a simple enum-like pattern for status values to prevent typos and enable exhaustive checking.",
        "code": {
          "before": "moduleNameStyle = lipgloss.NewStyle().\n\t\tForeground(lipgloss.Color(\"#ffffff\")).\n\t\tWidth(14)\n\nstatusTextStyle = lipgloss.NewStyle().\n\t\tWidth(20)\n\n// Later:\nheader := fmt.Sprintf(\"%s%s%s\",\n\ttitleStyle.Render(\"pact\"),\n\tstrings.Repeat(\" \", 30),\n\tsubtitleStyle.Render(hostname),\n)\n\nstatus.Status = \"not_configured\"",
          "after": "const (\n\tmoduleNameWidth  = 14\n\tstatusTextWidth  = 20\n\theaderSpacing    = 30\n\tdashesPadding    = 2\n)\n\nconst (\n\tStatusSynced        = \"synced\"\n\tStatusPending       = \"pending\"\n\tStatusError         = \"error\"\n\tStatusNotConfigured = \"not_configured\"\n)\n\nmoduleNameStyle = lipgloss.NewStyle().\n\t\tForeground(lipgloss.Color(\"#ffffff\")).\n\t\tWidth(moduleNameWidth)\n\nstatusTextStyle = lipgloss.NewStyle().\n\t\tWidth(statusTextWidth)\n\nheader := fmt.Sprintf(\"%s%s%s\",\n\ttitleStyle.Render(\"pact\"),\n\tstrings.Repeat(\" \", headerSpacing),\n\tsubtitleStyle.Render(hostname),\n)\n\nstatus.Status = StatusNotConfigured",
          "startLine": 41,
          "endLine": 90
        }
      },
      {
        "file": "cli/internal/ui/status.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Module rendering logic scattered across multiple functions",
        "description": "The module status logic is split between GetModuleStatuses (which determines status) and renderModuleLine (which formats it). The ModuleStatus struct is used as a data transfer object but doesn't encapsulate any behavior. This violates the principle of cohesion and makes the code harder to understand and test.",
        "suggestion": "Consider adding a method to ModuleStatus to render itself, or create a dedicated type that combines status checking and rendering. This follows Go's preference for small, focused interfaces and improves testability by isolating rendering logic.",
        "code": {
          "before": "type ModuleStatus struct {\n\tName      string\n\tStatus    string\n\tFileCount int\n\tError     error\n}\n\n// Later in different function:\nfunc renderModuleLine(status ModuleStatus) string {\n\tname := moduleNameStyle.Render(status.Name)\n\t// ... rendering logic\n}",
          "after": "type ModuleStatus struct {\n\tName      string\n\tStatus    string\n\tFileCount int\n\tError     error\n}\n\n// Render returns the formatted module status line\nfunc (m ModuleStatus) Render() string {\n\tname := moduleNameStyle.Render(m.Name)\n\tdashes := dimStyle.Render(strings.Repeat(\"─\", dashesPadding))\n\n\tvar statusIcon, statusText string\n\tswitch m.Status {\n\tcase StatusSynced:\n\t\tstatusIcon = successStyle.Render(\"✓\")\n\t\tstatusText = successStyle.Render(StatusSynced)\n\t// ... other cases\n\t}\n\n\tstatusPart := statusTextStyle.Render(fmt.Sprintf(\"%s %s\", statusIcon, statusText))\n\n\tvar filesPart string\n\tif m.FileCount > 0 {\n\t\tunit := \"file\"\n\t\tif m.FileCount != 1 {\n\t\t\tunit = \"files\"\n\t\t}\n\t\tfilesPart = fileCountStyle.Render(fmt.Sprintf(\"%d %s\", m.FileCount, unit))\n\t}\n\n\treturn fmt.Sprintf(\"%s %s %s  %s\", name, dashes, statusPart, filesPart)\n}",
          "startLine": 66,
          "endLine": 196
        }
      },
      {
        "file": "README.md",
        "category": "documentation",
        "severity": "high",
        "title": "Add table of contents for improved navigation",
        "description": "The README is comprehensive but lacks a table of contents, making it difficult for users to quickly navigate to specific sections. With 400+ lines, users need quick links to jump to relevant sections like installation, commands, or development setup.",
        "suggestion": "Add a table of contents after the intro section and before 'What is Pact?' to improve document navigation. This is especially important for long README files.",
        "code": {
          "before": "### What's in a Pact\n\n```\nusername/my-pact/",
          "after": "## Table of Contents\n\n- [What is Pact?](#what-is-pact)\n- [User Guide](#user-guide)\n  - [Install](#install)\n  - [Getting Started](#getting-started)\n  - [Commands](#commands)\n  - [Editing Your Pact](#editing-your-pact)\n  - [Syncing Across Machines](#syncing-across-machines)\n  - [Secrets](#secrets)\n- [Development](#development)\n- [Design Principles](#design-principles)\n- [Releases](#releases)\n- [License](#license)\n\n---\n\n### What's in a Pact\n\n```\nusername/my-pact/",
          "startLine": 26,
          "endLine": 28
        }
      },
      {
        "file": "README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add troubleshooting section for common issues",
        "description": "The README lacks a troubleshooting or FAQ section. Users will inevitably encounter issues like authentication failures, permission errors with symlinks, or OS-specific problems. Having common solutions documented reduces support burden and improves user experience.",
        "suggestion": "Add a 'Troubleshooting' section before 'Development' with common issues and solutions. Include problems like: GitHub authentication failures, symlink permission errors, Windows PowerShell execution policies, and conflicts with existing dotfiles.",
        "code": {
          "before": "---\n\n## Development",
          "after": "---\n\n## Troubleshooting\n\n### GitHub Authentication Fails\n\n**Problem**: `pact init` fails with authentication error.\n\n**Solution**:\n```bash\n# Check if token exists\npact secret list | grep GITHUB_TOKEN\n\n# Remove and re-authenticate\npact secret remove GITHUB_TOKEN\npact init\n```\n\n### Symlink Permission Denied (Windows)\n\n**Problem**: `pact sync` fails with \"permission denied\" on Windows.\n\n**Solution**: Enable Developer Mode (Windows 10+) or run terminal as Administrator.\n\n### Command Not Found After Install\n\n**Problem**: `pact: command not found` after installation.\n\n**Solution**:\n```bash\n# macOS/Linux - ensure /usr/local/bin is in PATH\necho $PATH\n\n# Reload shell\nsource ~/.zshrc  # or ~/.bashrc\n```\n\n### Conflicts with Existing Dotfiles\n\n**Problem**: `pact sync` reports file conflicts.\n\n**Solution**:\n```bash\n# Backup existing configs\nmv ~/.zshrc ~/.zshrc.backup\nmv ~/.gitconfig ~/.gitconfig.backup\n\n# Then retry sync\npact sync\n```\n\n---\n\n## Development",
          "startLine": 304,
          "endLine": 306
        }
      },
      {
        "file": "README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Enhance installation instructions with verification steps",
        "description": "The installation section shows how to install Pact but doesn't include verification steps to confirm successful installation. Users should be able to verify the installation immediately after running the install command.",
        "suggestion": "Add verification commands after each installation method to confirm Pact is correctly installed and accessible. This helps users catch installation issues early.",
        "code": {
          "before": "**macOS/Linux (Homebrew)**\n```bash\nbrew install cloudboy-jh/tap/pact\n```\n\n**From GitHub Releases**\n```bash\n# Download from https://github.com/cloudboy-jh/pact/releases\n```\n\n**From Source**\n```bash\ncd cli\ngo build -o pact .\nsudo mv pact /usr/local/bin/\n```",
          "after": "**macOS/Linux (Homebrew)**\n```bash\nbrew install cloudboy-jh/tap/pact\n\n# Verify installation\npact --version\n# Expected output: pact version 0.1.x\n```\n\n**From GitHub Releases**\n```bash\n# Download from https://github.com/cloudboy-jh/pact/releases\n# Extract and move to PATH\ntar -xzf pact_*_darwin_amd64.tar.gz\nsudo mv pact /usr/local/bin/\n\n# Verify installation\npact --version\n```\n\n**From Source**\n```bash\ncd cli\ngo build -o pact .\nsudo mv pact /usr/local/bin/\n\n# Verify installation\npact --version\nwhich pact\n# Expected: /usr/local/bin/pact\n```",
          "startLine": 51,
          "endLine": 64
        }
      },
      {
        "file": "README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add security and privacy considerations section",
        "description": "The README mentions storing secrets in OS keychain and syncing configs via GitHub, but doesn't explicitly address security implications. Users should understand what data is stored where, what's synced to GitHub, and potential security risks with symlinks or config files containing sensitive paths.",
        "suggestion": "Add a 'Security & Privacy' section explaining the security model, what's safe to commit, and best practices for handling sensitive configurations.",
        "code": {
          "before": "## Design Principles",
          "after": "## Security & Privacy\n\n### What Gets Synced to GitHub\n\n✅ **Safe to commit**:\n- Shell configurations (aliases, functions, PATH)\n- Editor settings (theme, keybindings, extensions)\n- Git config (username, email, aliases)\n- AI prompts and agent configurations\n\n❌ **Never committed** (stored in OS keychain):\n- API keys (ANTHROPIC_API_KEY, OPENAI_API_KEY)\n- GitHub tokens\n- Database passwords\n- SSH private keys\n\n### Best Practices\n\n1. **Review before committing**: Always check `git diff` before `pact push`\n2. **Use secrets management**: Store sensitive values with `pact secret set`\n3. **Private repos**: Keep your pact repo private if it contains company-specific configs\n4. **Avoid hardcoded paths**: Use `~` instead of absolute paths like `/Users/yourname`\n\n### Symlink Security\n\nSymlinks point from your home directory to `.pact/` files. If `.pact/` is in a project directory:\n- Ensure project directory has appropriate permissions\n- Don't share `.pact/` folder directly (it contains your GitHub token location reference)\n- Use `pact nuke` when removing Pact completely\n\n---\n\n## Design Principles",
          "startLine": 394,
          "endLine": 394
        }
      },
      {
        "file": "README.md",
        "category": "style",
        "severity": "low",
        "title": "Standardize code block language identifiers",
        "description": "The README inconsistently uses code block language identifiers. Some blocks use 'bash', some are unmarked, and JSON examples are properly marked. Consistent language identifiers enable proper syntax highlighting and improve readability across different Markdown renderers.",
        "suggestion": "Ensure all code blocks have appropriate language identifiers. Use 'bash' for shell commands, 'json' for JSON examples, 'go' for Go code, and 'typescript' for TypeScript code.",
        "code": {
          "before": "```\nusername/my-pact/\n├── pact.json              # Manifest\n├── shell/                 # .zshrc, .bashrc, profile.ps1",
          "after": "```plaintext\nusername/my-pact/\n├── pact.json              # Manifest\n├── shell/                 # .zshrc, .bashrc, profile.ps1",
          "startLine": 28,
          "endLine": 30
        }
      },
      {
        "file": "web/static/robots.txt",
        "category": "documentation",
        "severity": "medium",
        "title": "Add descriptive header comment with purpose and maintenance information",
        "description": "The robots.txt file lacks context about its purpose, when it was last updated, and contact information. A comprehensive header helps future maintainers understand the configuration strategy and provides accountability.",
        "suggestion": "Add a header comment block that includes the file's purpose, organization name, last update date, and contact information for the web administrator. This is especially important for SEO and crawler management documentation.",
        "code": {
          "before": "# allow crawling everything by default\nUser-agent: *\nDisallow:",
          "after": "# Robots.txt for [Organization Name]\n# Purpose: Control web crawler access to site resources\n# Last Updated: YYYY-MM-DD\n# Contact: webmaster@example.com\n# Policy: Allow all crawlers to index all content by default\n\nUser-agent: *\nDisallow:",
          "startLine": 1,
          "endLine": 3
        }
      },
      {
        "file": "web/static/robots.txt",
        "category": "style",
        "severity": "low",
        "title": "Add Crawl-delay directive for considerate crawler behavior",
        "description": "While allowing all crawlers is intentional, specifying a crawl-delay can prevent aggressive crawlers from overloading the server. This is a defensive measure that respects server resources while maintaining openness.",
        "suggestion": "Consider adding a Crawl-delay directive to manage server load from aggressive bots. Note that Google and Bing don't respect this, but many other crawlers do. Set to a reasonable value like 1-10 seconds based on server capacity.",
        "code": {
          "before": "User-agent: *\nDisallow:",
          "after": "User-agent: *\nDisallow:\nCrawl-delay: 5",
          "startLine": 2,
          "endLine": 3
        }
      },
      {
        "file": "web/static/robots.txt",
        "category": "documentation",
        "severity": "medium",
        "title": "Add Sitemap directive to improve crawler efficiency",
        "description": "The robots.txt file should include a Sitemap directive pointing to the XML sitemap. This helps search engines discover and index content more efficiently, improving SEO performance without additional crawler requests.",
        "suggestion": "Add a Sitemap directive at the end of the robots.txt file to point crawlers to your XML sitemap. This is a best practice recommended by Google and other search engines for better indexing.",
        "code": {
          "before": "# allow crawling everything by default\nUser-agent: *\nDisallow:",
          "after": "# allow crawling everything by default\nUser-agent: *\nDisallow:\n\n# Sitemap location for better indexing\nSitemap: https://example.com/sitemap.xml",
          "startLine": 1,
          "endLine": 3
        }
      },
      {
        "file": "web/static/robots.txt",
        "category": "style",
        "severity": "low",
        "title": "Add blank line separation for better readability",
        "description": "The current format has all directives compressed together. Following robots.txt conventions, adding blank lines between logical sections improves readability, especially as the file grows with more specific rules.",
        "suggestion": "Add blank lines to separate the comment from the directives and between different user-agent blocks if more are added in the future. This follows common formatting conventions for robots.txt files.",
        "code": {
          "before": "# allow crawling everything by default\nUser-agent: *\nDisallow:",
          "after": "# allow crawling everything by default\n\nUser-agent: *\nDisallow:",
          "startLine": 1,
          "endLine": 3
        }
      },
      {
        "file": "web/static/robots.txt",
        "category": "documentation",
        "severity": "low",
        "title": "Add explicit Allow directive for clarity and future-proofing",
        "description": "While an empty Disallow implies allowing everything, explicitly stating 'Allow: /' makes the intention clearer and provides a template for future modifications. This improves maintainability when rules need to be updated.",
        "suggestion": "Add an explicit 'Allow: /' directive to make the permissive policy clear. This also serves as documentation and makes it easier to add specific Disallow rules later without confusion about the default behavior.",
        "code": {
          "before": "User-agent: *\nDisallow:",
          "after": "User-agent: *\nAllow: /\nDisallow:",
          "startLine": 2,
          "endLine": 3
        }
      },
      {
        "file": "docs/ROADMAP.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add success criteria and completion dates for completed phases",
        "description": "Completed phases (1-3) lack metadata about when they were completed and what constitutes 'done'. This makes it difficult to track velocity, estimate future work, and understand the project timeline. Adding completion dates and brief success metrics would improve project transparency and help with future planning.",
        "suggestion": "Add completion dates and success criteria to each completed phase. Use a consistent format like '(Completed: YYYY-MM-DD)' and consider adding a brief outcome note.",
        "code": {
          "before": "### Phase 1 - Core CLI\n- [x] Set up Go CLI project structure and dependencies\n- [x] Implement pact.json config parsing\n- [x] Implement GitHub Device Flow OAuth",
          "after": "### Phase 1 - Core CLI _(Completed: 2024-01-15)_\n**Outcome**: Functional CLI with config management and OAuth authentication\n\n- [x] Set up Go CLI project structure and dependencies\n- [x] Implement pact.json config parsing\n- [x] Implement GitHub Device Flow OAuth",
          "startLine": 5,
          "endLine": 9
        }
      },
      {
        "file": "docs/ROADMAP.md",
        "category": "style",
        "severity": "medium",
        "title": "Standardize task granularity and add acceptance criteria",
        "description": "Tasks vary significantly in scope and specificity. Some are very granular ('Add loading spinners/states'), while others are broad ('Improve error handling'). This inconsistency makes it difficult to estimate effort, track progress, and determine when a task is complete. Tasks without clear acceptance criteria can lead to scope creep.",
        "suggestion": "Break down broad tasks into specific, measurable sub-tasks with clear acceptance criteria. Use consistent formatting like 'Action - Component: Expected Result' or add acceptance criteria as sub-bullets.",
        "code": {
          "before": "### UX Improvements\n- [ ] Add loading spinners/states in web UI\n- [ ] Add success/error toast notifications\n- [ ] Improve TUI with progress indicators during sync/push",
          "after": "### UX Improvements\n- [ ] Add loading spinners/states in web UI\n  - Dashboard load state\n  - Module editor save state\n  - OAuth flow state\n- [ ] Add toast notification system\n  - Success toasts for sync/push/edit operations\n  - Error toasts with actionable error messages\n  - Auto-dismiss after 5 seconds with manual close option\n- [ ] Add TUI progress indicators\n  - File-by-file progress during sync operations\n  - Upload progress during push operations\n  - Percentage completion display",
          "startLine": 42,
          "endLine": 45
        }
      },
      {
        "file": "docs/ROADMAP.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add priority labels and dependencies between tasks",
        "description": "The roadmap lacks prioritization within phases and doesn't indicate dependencies between tasks. This makes it unclear which tasks should be tackled first and which tasks are blockers for others. For example, 'Backup before sync' might be a prerequisite for 'Conflict detection' to be safe.",
        "suggestion": "Add priority labels (P0/P1/P2 or High/Medium/Low) and note dependencies using task references. This helps contributors understand what to work on first and prevents starting dependent tasks prematurely.",
        "code": {
          "before": "### Code Quality\n- [ ] Add the `/editor/[module]` route if missing\n- [ ] End-to-end testing - Test full flow: init → sync → edit in web → push\n- [ ] Improve error handling with better messages in CLI/Web\n- [ ] Add unit tests for core CLI functions\n- [ ] Add integration tests for GitHub API interactions",
          "after": "### Code Quality\n- [ ] **[P0]** Add the `/editor/[module]` route if missing\n- [ ] **[P0]** Add unit tests for core CLI functions\n  - _Dependency: Required before integration tests_\n- [ ] **[P1]** Add integration tests for GitHub API interactions\n  - _Depends on: Unit tests_\n- [ ] **[P1]** Improve error handling with better messages in CLI/Web\n- [ ] **[P2]** End-to-end testing - Test full flow: init → sync → edit in web → push\n  - _Depends on: Unit tests, Integration tests_",
          "startLine": 37,
          "endLine": 42
        }
      },
      {
        "file": "docs/ROADMAP.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add estimated effort and technical notes for complex tasks",
        "description": "Complex technical tasks lack implementation notes, estimated effort, or technical considerations. This makes it difficult for contributors to understand the scope and approach these tasks effectively. For instance, 'Encrypted secrets in repo (age/sops)' is mentioned but without guidance on which tool to use or why.",
        "suggestion": "Add effort estimates (S/M/L or hours) and technical notes for complex tasks. Include tool decisions, architectural considerations, or links to relevant documentation.",
        "code": {
          "before": "### Advanced Features\n- [ ] Multi-repo support - Manage multiple pact repos\n- [ ] Import/export configurations\n- [ ] Backup before sync (local snapshots)\n- [ ] Encrypted secrets in repo (age/sops)",
          "after": "### Advanced Features\n- [ ] **[Large]** Multi-repo support - Manage multiple pact repos\n  - _Technical note: Extend pact.json schema to support repo array; update sync logic for parallel operations_\n  - _Estimated effort: 3-5 days_\n- [ ] **[Medium]** Import/export configurations\n  - _Technical note: JSON/YAML export format; consider .tar.gz for full backup_\n  - _Estimated effort: 1-2 days_\n- [ ] **[Medium]** Backup before sync (local snapshots)\n  - _Technical note: Store in ~/.pact/backups with timestamp; implement rollback command_\n  - _Estimated effort: 2-3 days_\n- [ ] **[Large]** Encrypted secrets in repo\n  - _Technical note: Use age (preferred) or sops; research: age is simpler, sops has better cloud integration_\n  - _Estimated effort: 4-6 days_",
          "startLine": 67,
          "endLine": 71
        }
      },
      {
        "file": "docs/ROADMAP.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add links to related issues/PRs and mark phase ownership",
        "description": "The roadmap doesn't link to GitHub issues, PRs, or discussions, making it disconnected from active development. It also doesn't indicate who owns or is working on each phase, which can lead to duplicate effort or unclear responsibility.",
        "suggestion": "Add links to tracking issues for each phase and mark items with assignees or team ownership when known. This creates better integration between planning and execution.",
        "code": {
          "before": "## Phase 4 - Polish & Testing\n\n### Code Quality\n- [ ] Add the `/editor/[module]` route if missing\n- [ ] End-to-end testing - Test full flow: init → sync → edit in web → push",
          "after": "## Phase 4 - Polish & Testing\n_Tracking: [Issue #42](https://github.com/user/pact/issues/42) | Owner: @backend-team_\n\n### Code Quality\n- [ ] Add the `/editor/[module]` route if missing [#45](https://github.com/user/pact/issues/45)\n- [ ] End-to-end testing - Test full flow: init → sync → edit in web → push [#46](https://github.com/user/pact/issues/46)\n  - _Assignee: @qa-lead_",
          "startLine": 33,
          "endLine": 37
        }
      },
      {
        "file": "web/src/app.html",
        "category": "documentation",
        "severity": "medium",
        "title": "Add comprehensive meta tags for SEO and social sharing",
        "description": "The HTML file lacks essential meta tags for search engine optimization, social media sharing (Open Graph, Twitter Cards), and application description. This negatively impacts discoverability and user engagement when links are shared.",
        "suggestion": "Add meta description, Open Graph tags, and Twitter Card tags to improve SEO and social media presentation. These should be placed in the head section.",
        "code": {
          "before": "\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<link rel=\"icon\" type=\"image/png\" href=\"/black-bg-pact-logo.png\" />\n\t\t<title>Pact</title>\n\t\t%sveltekit.head%\n\t</head>",
          "after": "\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<meta name=\"description\" content=\"Pact - Your application description here\" />\n\t\t<meta name=\"theme-color\" content=\"#000000\" />\n\t\t\n\t\t<!-- Open Graph / Facebook -->\n\t\t<meta property=\"og:type\" content=\"website\" />\n\t\t<meta property=\"og:title\" content=\"Pact\" />\n\t\t<meta property=\"og:description\" content=\"Pact - Your application description here\" />\n\t\t<meta property=\"og:image\" content=\"/black-bg-pact-logo.png\" />\n\t\t\n\t\t<!-- Twitter -->\n\t\t<meta name=\"twitter:card\" content=\"summary\" />\n\t\t<meta name=\"twitter:title\" content=\"Pact\" />\n\t\t<meta name=\"twitter:description\" content=\"Pact - Your application description here\" />\n\t\t\n\t\t<link rel=\"icon\" type=\"image/png\" href=\"/black-bg-pact-logo.png\" />\n\t\t<title>Pact</title>\n\t\t%sveltekit.head%\n\t</head>",
          "startLine": 3,
          "endLine": 9
        }
      },
      {
        "file": "web/src/app.html",
        "category": "optimization",
        "severity": "medium",
        "title": "Add multiple favicon sizes for better cross-platform support",
        "description": "The application only provides a single PNG favicon. Modern web applications should include multiple favicon formats and sizes to ensure optimal display across different devices, operating systems, and contexts (browser tabs, bookmarks, mobile home screens).",
        "suggestion": "Add apple-touch-icon for iOS devices, multiple sizes for different contexts, and consider adding a manifest.json reference for PWA support.",
        "code": {
          "before": "\t\t<link rel=\"icon\" type=\"image/png\" href=\"/black-bg-pact-logo.png\" />",
          "after": "\t\t<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\" />\n\t\t<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/favicon-16x16.png\" />\n\t\t<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\" />\n\t\t<link rel=\"manifest\" href=\"/manifest.json\" />",
          "startLine": 6,
          "endLine": 6
        }
      },
      {
        "file": "web/src/app.html",
        "category": "style",
        "severity": "low",
        "title": "Replace inline style with semantic CSS class",
        "description": "The body contains a div with inline style 'display: contents'. While this may be required for SvelteKit's rendering, using inline styles reduces maintainability and makes it harder to manage styling consistently. If this is a standard SvelteKit pattern, it's acceptable, but consider if a class would be more maintainable.",
        "suggestion": "If this styling is truly necessary and not automatically handled by SvelteKit, extract it to a CSS class for better separation of concerns and maintainability.",
        "code": {
          "before": "\t<body data-sveltekit-preload-data=\"hover\">\n\t\t<div style=\"display: contents\">%sveltekit.body%</div>\n\t</body>",
          "after": "\t<body data-sveltekit-preload-data=\"hover\">\n\t\t<div class=\"sveltekit-body-wrapper\">%sveltekit.body%</div>\n\t</body>\n\n\t<!-- In your global CSS: -->\n\t<!-- .sveltekit-body-wrapper { display: contents; } -->",
          "startLine": 10,
          "endLine": 12
        }
      },
      {
        "file": "web/src/app.html",
        "category": "optimization",
        "severity": "low",
        "title": "Add resource hints for performance optimization",
        "description": "The HTML file doesn't include any resource hints (preconnect, dns-prefetch, preload) that could improve loading performance. If the application connects to external domains or has critical resources, adding these hints can reduce latency.",
        "suggestion": "Add dns-prefetch or preconnect for any external domains, and consider preloading critical resources if applicable.",
        "code": {
          "before": "\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />",
          "after": "\t<head>\n\t\t<meta charset=\"utf-8\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\t\t<!-- Add preconnect for external domains if needed -->\n\t\t<!-- <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"> -->\n\t\t<!-- <link rel=\"dns-prefetch\" href=\"https://api.example.com\"> -->",
          "startLine": 3,
          "endLine": 5
        }
      },
      {
        "file": "web/src/app.html",
        "category": "documentation",
        "severity": "medium",
        "title": "Add language direction and ensure accessibility attributes",
        "description": "While the lang attribute is set to 'en', there are no additional accessibility considerations such as a skip-to-content link or ARIA landmarks. For better accessibility and internationalization support, consider these enhancements.",
        "suggestion": "Ensure the HTML structure supports accessibility best practices, particularly for screen readers and keyboard navigation users.",
        "code": {
          "before": "<html lang=\"en\">\n\t<head>",
          "after": "<html lang=\"en\" dir=\"ltr\">\n\t<head>\n\t\t<!-- Consider adding skip link in body for accessibility -->\n\t\t<!-- <a href=\"#main-content\" class=\"skip-link\">Skip to main content</a> -->",
          "startLine": 2,
          "endLine": 3
        }
      },
      {
        "file": "web/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add project-specific context and title",
        "description": "The README uses the generic 'sv' title and boilerplate content from the Svelte CLI template. This provides no context about what this specific project does. The 'web' directory suggests this is part of a larger monorepo, but the README doesn't explain its purpose or relationship to the Pact project shown in the logo.",
        "suggestion": "Replace the generic title with a descriptive project name and add an overview section explaining what this web application does and how it relates to the Pact ecosystem. Include prerequisites and any project-specific setup requirements.",
        "code": {
          "before": "![Pact Logo](../cropped-pact-logo-black.png)\n\n# sv\n\nEverything you need to build a Svelte project, powered by [`sv`](https://github.com/sveltejs/cli).",
          "after": "![Pact Logo](../cropped-pact-logo-black.png)\n\n# Pact Web Application\n\nThe web frontend for [Project Name], built with SvelteKit. This application provides [brief description of what the app does].\n\n## Overview\n\nThis is the web interface for Pact, enabling users to [key functionality]. It communicates with [backend/API details] and provides [main features].\n\n## Prerequisites\n\n- Node.js 18+ and npm 9+\n- [Any other project-specific requirements]\n\nPowered by [`sv`](https://github.com/sveltejs/cli) - the official Svelte CLI.",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "web/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add environment configuration section",
        "description": "Most Svelte/SvelteKit applications require environment variables for API endpoints, feature flags, or configuration. The README lacks any guidance on setting up .env files or configuring the application for different environments (development, staging, production).",
        "suggestion": "Add a dedicated 'Configuration' section after 'Creating a project' that documents required and optional environment variables, how to set them up, and provides an example .env file structure.",
        "code": {
          "before": "```\n\n## Developing\n\nOnce you've created a project and installed dependencies with `npm install`",
          "after": "```\n\n## Configuration\n\nCreate a `.env` file in the root directory with the following variables:\n\n```sh\n# Required\nPUBLIC_API_URL=http://localhost:3000\n\n# Optional\nPUBLIC_ENABLE_ANALYTICS=false\n```\n\nSee `.env.example` for a complete list of configuration options.\n\n## Developing\n\nOnce you've created a project and installed dependencies with `npm install`",
          "startLine": 22,
          "endLine": 24
        }
      },
      {
        "file": "web/README.md",
        "category": "documentation",
        "severity": "low",
        "title": "Enhance deployment section with concrete examples",
        "description": "The deployment section only mentions that an adapter might be needed but provides no actionable guidance. This leaves developers without clear next steps for common deployment targets like Vercel, Netlify, or Docker.",
        "suggestion": "Expand the deployment section to include specific examples for popular deployment platforms and link to relevant adapter documentation. Include common deployment commands and considerations.",
        "code": {
          "before": "> To deploy your app, you may need to install an [adapter](https://svelte.dev/docs/kit/adapters) for your target environment.",
          "after": "## Deployment\n\nThis app requires a SvelteKit [adapter](https://svelte.dev/docs/kit/adapters) for your target environment.\n\n### Popular deployment options:\n\n**Vercel/Netlify (auto-detected):**\n```sh\nnpm run build\n# Push to GitHub - automatic deployment\n```\n\n**Node.js server:**\n```sh\nnpm i -D @sveltejs/adapter-node\nnpm run build\nnode build\n```\n\n**Static hosting:**\n```sh\nnpm i -D @sveltejs/adapter-static\nnpm run build\n# Deploy the 'build' directory\n```\n\n**Docker:**\n```sh\ndocker build -t pact-web .\ndocker run -p 3000:3000 pact-web\n```\n\nSee [deployment docs](https://svelte.dev/docs/kit/adapters) for more options.",
          "startLine": 40,
          "endLine": 40
        }
      },
      {
        "file": "web/README.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add testing and code quality sections",
        "description": "The README lacks information about running tests, linting, or formatting code. These are essential for maintaining code quality in a team environment and should be documented for new contributors.",
        "suggestion": "Add sections covering testing, linting, and code formatting with corresponding npm scripts. This helps establish development workflows and quality standards.",
        "code": {
          "before": "You can preview the production build with `npm run preview`.\n\n> To deploy your app",
          "after": "You can preview the production build with `npm run preview`.\n\n## Testing\n\nRun the test suite:\n\n```sh\n# Run all tests\nnpm test\n\n# Run tests in watch mode\nnpm test -- --watch\n\n# Run tests with coverage\nnpm run test:coverage\n```\n\n## Code Quality\n\n```sh\n# Lint code\nnpm run lint\n\n# Format code with Prettier\nnpm run format\n\n# Type check\nnpm run check\n```\n\n> To deploy your app",
          "startLine": 38,
          "endLine": 40
        }
      },
      {
        "file": "web/README.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add project structure overview",
        "description": "New developers would benefit from understanding the project's directory structure and where to find key files. This is especially important for SvelteKit projects which have specific conventions for routes, components, and utilities.",
        "suggestion": "Add a 'Project Structure' section that outlines the main directories and their purposes, helping developers navigate the codebase quickly.",
        "code": {
          "before": "## Creating a project\n\nIf you're seeing this, you've probably already done this step. Congrats!",
          "after": "## Project Structure\n\n```\nweb/\n├── src/\n│   ├── routes/          # SvelteKit file-based routing\n│   ├── lib/             # Shared components and utilities\n│   │   ├── components/  # Reusable UI components\n│   │   ├── stores/      # Svelte stores for state management\n│   │   └── utils/       # Helper functions\n│   ├── app.html         # HTML template\n│   └── app.css          # Global styles\n├── static/              # Static assets (images, fonts, etc.)\n└── tests/               # Test files\n```\n\n## Creating a project\n\nIf you're seeing this, you've probably already done this step. Congrats!",
          "startLine": 7,
          "endLine": 9
        }
      },
      {
        "file": "web/src/app.css",
        "category": "style",
        "severity": "medium",
        "title": "Use CSS custom properties for color tokens to improve maintainability",
        "description": "Hard-coded HSL color values are repeated and make the theme difficult to maintain or extend. Using CSS custom properties (CSS variables) allows for better theme management, easier dark/light mode switching, and improved maintainability. This is especially important in Tailwind-based projects where color tokens should be centralized.",
        "suggestion": "Define color values as CSS custom properties in the :root selector, then reference them throughout the stylesheet. This makes it easier to update the color scheme globally and enables better integration with Tailwind's theme configuration.",
        "code": {
          "before": "@layer base {\n  * {\n    border-color: hsl(0 0% 14.9%);\n  }\n\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "after": "@layer base {\n  :root {\n    --color-border: 0 0% 14.9%;\n    --color-background: 0 0% 3.9%;\n    --color-foreground: 0 0% 98%;\n  }\n\n  * {\n    border-color: hsl(var(--color-border));\n  }\n\n  body {\n    background-color: hsl(var(--color-background));\n    color: hsl(var(--color-foreground));\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "startLine": 5,
          "endLine": 13
        }
      },
      {
        "file": "web/src/app.css",
        "category": "optimization",
        "severity": "low",
        "title": "Remove unnecessary universal selector rule to improve CSS performance",
        "description": "The universal selector (*) applies the border-color to every element on the page, which can impact rendering performance. Most elements don't need explicit border colors unless they actually have borders. Consider using a more targeted approach or letting Tailwind's utilities handle border colors.",
        "suggestion": "Remove the universal selector rule and either rely on Tailwind's default border color configuration or apply border colors only to elements that actually use borders through utility classes or more specific selectors.",
        "code": {
          "before": "@layer base {\n  * {\n    border-color: hsl(0 0% 14.9%);\n  }\n\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "after": "@layer base {\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n\n  /* Apply border color only to elements with borders */\n  [class*=\"border\"] {\n    border-color: hsl(0 0% 14.9%);\n  }\n}",
          "startLine": 5,
          "endLine": 13
        }
      },
      {
        "file": "web/src/app.css",
        "category": "style",
        "severity": "low",
        "title": "Add box-sizing reset for consistent layout behavior",
        "description": "Including a box-sizing reset is a CSS best practice that ensures consistent box model behavior across all elements. While Tailwind includes this in its preflight styles by default, explicitly showing it in the base layer or ensuring it's not disabled improves code clarity and prevents layout issues if preflight is customized.",
        "suggestion": "Add an explicit box-sizing rule to ensure all elements use border-box sizing model, which makes width and padding calculations more predictable.",
        "code": {
          "before": "@layer base {\n  * {\n    border-color: hsl(0 0% 14.9%);\n  }\n\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "after": "@layer base {\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n    border-color: hsl(0 0% 14.9%);\n  }\n\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "startLine": 5,
          "endLine": 13
        }
      },
      {
        "file": "web/src/app.css",
        "category": "documentation",
        "severity": "low",
        "title": "Add comments explaining font-feature-settings purpose",
        "description": "The font-feature-settings property uses OpenType feature tags that may not be immediately clear to all developers. 'rlig' enables required ligatures and 'calt' enables contextual alternates. Adding a comment explains the intent and helps team members understand typography decisions.",
        "suggestion": "Add an inline comment explaining what these font features do and why they're enabled, improving code maintainability for developers unfamiliar with OpenType features.",
        "code": {
          "before": "  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }",
          "after": "  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    /* Enable required ligatures and contextual alternates for better typography */\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }",
          "startLine": 9,
          "endLine": 13
        }
      },
      {
        "file": "web/src/app.css",
        "category": "refactor",
        "severity": "medium",
        "title": "Consider moving theme colors to tailwind.config.js for better integration",
        "description": "While base styles in CSS are valid, Tailwind's recommended approach is to define custom colors in tailwind.config.js. This allows the colors to be used throughout your project with utility classes (e.g., bg-background, text-foreground, border-border) and ensures consistency between CSS and utility classes.",
        "suggestion": "Move color definitions to your Tailwind configuration file and remove or simplify the base layer CSS. This follows Tailwind conventions and makes your color system more accessible throughout the application.",
        "code": {
          "before": "@layer base {\n  * {\n    border-color: hsl(0 0% 14.9%);\n  }\n\n  body {\n    background-color: hsl(0 0% 3.9%);\n    color: hsl(0 0% 98%);\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "after": "/* In tailwind.config.js:\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        border: 'hsl(0 0% 14.9%)',\n        background: 'hsl(0 0% 3.9%)',\n        foreground: 'hsl(0 0% 98%)'\n      }\n    }\n  }\n} */\n\n@layer base {\n  body {\n    /* Apply using Tailwind utilities: bg-background text-foreground */\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }\n}",
          "startLine": 5,
          "endLine": 13
        }
      },
      {
        "file": "web/src/routes/+layout.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Optimize font loading strategy for better performance",
        "description": "Currently using standard font loading which blocks rendering. The font is loaded synchronously from Google Fonts, which can impact First Contentful Paint (FCP) and Largest Contentful Paint (LCP) metrics. Adding font-display: swap and using preload strategy would improve perceived performance.",
        "suggestion": "Add font-display parameter to the Google Fonts URL and use preload link with proper attributes for critical font resources. Consider self-hosting fonts for better control and performance.",
        "code": {
          "before": "<link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap\" rel=\"stylesheet\" />",
          "after": "<link rel=\"preload\" href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap\" as=\"style\" onload=\"this.onload=null;this.rel='stylesheet'\" />\n\t<noscript><link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap\" rel=\"stylesheet\" /></noscript>",
          "startLine": 9,
          "endLine": 9
        }
      },
      {
        "file": "web/src/routes/+layout.svelte",
        "category": "refactor",
        "severity": "low",
        "title": "Make page metadata configurable per route",
        "description": "The title is hardcoded in the root layout, which means all pages will share the same title. This is poor for SEO and user experience. SvelteKit allows child routes to override metadata, but it's better to make this explicit and provide a default.",
        "suggestion": "Use a reactive variable or store for the title to allow child routes to customize it. Alternatively, document that child routes should use their own <svelte:head> blocks to override.",
        "code": {
          "before": "<svelte:head>\n\t<title>Pact - Your portable dev identity</title>",
          "after": "<script lang=\"ts\">\n\timport '../app.css';\n\timport { page } from '$app/stores';\n\t\n\t$: pageTitle = $page.data.title || 'Pact - Your portable dev identity';\n</script>\n\n<svelte:head>\n\t<title>{pageTitle}</title>",
          "startLine": 1,
          "endLine": 6
        }
      },
      {
        "file": "web/src/routes/+layout.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Add resource hints for DNS prefetch and preconnect",
        "description": "While preconnect is used for fonts.googleapis.com and fonts.gstatic.com, the connections could be further optimized. The crossorigin attribute on the gstatic preconnect link is redundant (crossorigin='anonymous' is default for fonts), and dns-prefetch could be added as a fallback for browsers that don't support preconnect.",
        "suggestion": "Remove redundant crossorigin attribute and add dns-prefetch fallback for better browser compatibility. This ensures older browsers still benefit from DNS resolution optimization.",
        "code": {
          "before": "<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n\t<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin=\"anonymous\" />",
          "after": "<link rel=\"dns-prefetch\" href=\"https://fonts.googleapis.com\" />\n\t<link rel=\"dns-prefetch\" href=\"https://fonts.gstatic.com\" />\n\t<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n\t<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin />",
          "startLine": 7,
          "endLine": 8
        }
      },
      {
        "file": "web/src/routes/+layout.svelte",
        "category": "style",
        "severity": "low",
        "title": "Add meta description and viewport for better SEO and mobile support",
        "description": "The layout is missing essential meta tags for SEO and mobile responsiveness. A meta description helps search engines understand the page content, and viewport meta tag is crucial for responsive design on mobile devices.",
        "suggestion": "Add meta description, viewport, and other essential SEO/social sharing meta tags to improve discoverability and mobile user experience.",
        "code": {
          "before": "<svelte:head>\n\t<title>Pact - Your portable dev identity</title>\n\t<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />",
          "after": "<svelte:head>\n\t<title>Pact - Your portable dev identity</title>\n\t<meta name=\"description\" content=\"Pact provides your portable developer identity across platforms and services.\" />\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\t<link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />",
          "startLine": 6,
          "endLine": 8
        }
      },
      {
        "file": "web/src/routes/+layout.svelte",
        "category": "optimization",
        "severity": "low",
        "title": "Reduce font weight variants to minimize bundle size",
        "description": "Loading four font weights (400, 500, 600, 700) increases the total download size and may impact performance. Unless all weights are actively used throughout the application, consider loading only the essential weights and using CSS font-synthesis for intermediate weights if needed.",
        "suggestion": "Audit font usage across the application and load only necessary weights. Typically, regular (400) and bold (700) are sufficient for most applications. If 500 and 600 are not used, remove them to reduce HTTP requests and bandwidth.",
        "code": {
          "before": "<link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap\" rel=\"stylesheet\" />",
          "after": "<!-- Load only commonly used weights -->\n\t<link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap\" rel=\"stylesheet\" />",
          "startLine": 9,
          "endLine": 9
        }
      },
      {
        "file": "pact-docs/src/app/global.css",
        "category": "style",
        "severity": "medium",
        "title": "Add light mode scrollbar styling for consistency",
        "description": "The CSS only includes custom scrollbar styling for dark mode, but light mode uses default browser scrollbars. This creates an inconsistent user experience across themes. Users switching between light and dark modes will notice different scrollbar appearances.",
        "suggestion": "Add corresponding scrollbar styles for light mode to maintain visual consistency across both themes. Use lighter colors that complement the light mode color scheme.",
        "code": {
          "before": "/* Custom scrollbar for dark mode */\n.dark ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}",
          "after": "/* Custom scrollbar styling */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: hsl(0 0% 96.1%);\n}\n\n::-webkit-scrollbar-thumb {\n  background: hsl(0 0% 75%);\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: hsl(0 0% 65%);\n}\n\n.dark ::-webkit-scrollbar-track {\n  background: hsl(0 0% 9%);\n}\n\n.dark ::-webkit-scrollbar-thumb {\n  background: hsl(0 0% 25%);\n}\n\n.dark ::-webkit-scrollbar-thumb:hover {\n  background: hsl(0 0% 35%);\n}",
          "startLine": 64,
          "endLine": 69
        }
      },
      {
        "file": "pact-docs/src/app/global.css",
        "category": "style",
        "severity": "medium",
        "title": "Add Firefox scrollbar support for cross-browser compatibility",
        "description": "The scrollbar customization only uses webkit-specific properties (-webkit-scrollbar-*), which means Firefox users will see default scrollbars. Modern Firefox supports scrollbar styling through the 'scrollbar-color' and 'scrollbar-width' properties.",
        "suggestion": "Add Firefox-compatible scrollbar properties alongside the webkit ones to ensure consistent styling across major browsers.",
        "code": {
          "before": "/* Custom scrollbar for dark mode */\n.dark ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}",
          "after": "/* Custom scrollbar for dark mode */\n.dark {\n  scrollbar-width: thin;\n  scrollbar-color: hsl(0 0% 25%) hsl(0 0% 9%);\n}\n\n.dark ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}",
          "startLine": 64,
          "endLine": 67
        }
      },
      {
        "file": "pact-docs/src/app/global.css",
        "category": "documentation",
        "severity": "low",
        "title": "Add CSS custom properties documentation",
        "description": "The CSS defines numerous custom properties (CSS variables) for theming, but lacks inline comments explaining their purpose and usage. This makes it harder for developers to understand which properties to modify for specific UI elements.",
        "suggestion": "Add structured comments grouping related custom properties and explaining their application. This improves maintainability and helps team members understand the theming system.",
        "code": {
          "before": "@layer base {\n  :root {\n    /* Light mode */\n    --background: 0 0% 98%;\n    --foreground: 0 0% 3.9%;\n    --muted: 0 0% 96.1%;",
          "after": "@layer base {\n  :root {\n    /* Light mode */\n    \n    /* Base colors - Applied to main page elements */\n    --background: 0 0% 98%;      /* Main page background */\n    --foreground: 0 0% 3.9%;     /* Primary text color */\n    \n    /* Muted elements - Used for secondary/disabled content */\n    --muted: 0 0% 96.1%;         /* Muted background */\n    --muted-foreground: 0 0% 45.1%; /* Muted text */",
          "startLine": 8,
          "endLine": 13
        }
      },
      {
        "file": "pact-docs/src/app/global.css",
        "category": "refactor",
        "severity": "low",
        "title": "Extract repeated color values into CSS custom properties",
        "description": "The emerald green color '160 84% 39%' is repeated multiple times for --primary, --accent, and --ring in both light and dark modes. This duplication makes it harder to update the brand color consistently across the theme.",
        "suggestion": "Define a base brand color variable and reference it for related properties. This follows DRY principles and makes theme customization easier.",
        "code": {
          "before": "  :root {\n    /* Light mode */\n    --background: 0 0% 98%;\n    --foreground: 0 0% 3.9%;\n    --muted: 0 0% 96.1%;\n    --muted-foreground: 0 0% 45.1%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 0 0% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 0 0% 3.9%;\n    --border: 0 0% 89.8%;\n    --input: 0 0% 89.8%;\n    --primary: 160 84% 39%;\n    --primary-foreground: 0 0% 98%;\n    --secondary: 0 0% 96.1%;\n    --secondary-foreground: 0 0% 9%;\n    --accent: 160 84% 39%;\n    --accent-foreground: 0 0% 98%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --ring: 160 84% 39%;",
          "after": "  :root {\n    /* Light mode */\n    \n    /* Brand color - Emerald green used throughout the theme */\n    --brand-color: 160 84% 39%;\n    \n    --background: 0 0% 98%;\n    --foreground: 0 0% 3.9%;\n    --muted: 0 0% 96.1%;\n    --muted-foreground: 0 0% 45.1%;\n    --popover: 0 0% 100%;\n    --popover-foreground: 0 0% 3.9%;\n    --card: 0 0% 100%;\n    --card-foreground: 0 0% 3.9%;\n    --border: 0 0% 89.8%;\n    --input: 0 0% 89.8%;\n    --primary: var(--brand-color);\n    --primary-foreground: 0 0% 98%;\n    --secondary: 0 0% 96.1%;\n    --secondary-foreground: 0 0% 9%;\n    --accent: var(--brand-color);\n    --accent-foreground: 0 0% 98%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 0 0% 98%;\n    --ring: var(--brand-color);",
          "startLine": 9,
          "endLine": 29
        }
      },
      {
        "file": "pact-docs/src/app/global.css",
        "category": "style",
        "severity": "low",
        "title": "Move font-feature-settings to appropriate selector",
        "description": "The 'font-feature-settings' property is defined in :root but font features are typically applied to elements where fonts are actually rendered. Additionally, this setting is only defined for light mode but should apply to both themes.",
        "suggestion": "Move font-feature-settings to the body or a more specific selector, or ensure it's defined outside theme-specific blocks so it applies universally. Font features should be consistently applied regardless of theme.",
        "code": {
          "before": "  :root {\n    /* Light mode */\n    --background: 0 0% 98%;\n    /* ... other properties ... */\n    --ring: 160 84% 39%;\n    --radius: 0.75rem;\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }",
          "after": "  :root {\n    /* Light mode */\n    --background: 0 0% 98%;\n    /* ... other properties ... */\n    --ring: 160 84% 39%;\n    --radius: 0.75rem;\n  }\n  \n  /* Typography settings */\n  body {\n    font-feature-settings: \"rlig\" 1, \"calt\" 1;\n  }",
          "startLine": 9,
          "endLine": 31
        }
      },
      {
        "file": "pact-docs/content/docs/configuration/pact-json.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Documentation shows API keys in plain text without warning",
        "description": "The example configuration displays API keys (ANTHROPIC_API_KEY, OPENAI_API_KEY, GITHUB_TOKEN) in the 'secrets' array without clearly explaining that these should NOT be stored in pact.json itself. Users might misunderstand and commit actual secrets to version control.",
        "suggestion": "Add a prominent warning explaining that the 'secrets' array only declares which environment variables are required, and that actual secret values must be stored securely (e.g., in environment variables, .env files, or secret managers) and never committed to the repository.",
        "code": {
          "before": "## Full Schema\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"username\",\n  \"modules\": { ... },\n  \"secrets\": [\n    \"ANTHROPIC_API_KEY\",\n    \"OPENAI_API_KEY\"\n  ]\n}",
          "after": "## Full Schema\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"username\",\n  \"modules\": { ... },\n  \"secrets\": [\n    \"ANTHROPIC_API_KEY\",\n    \"OPENAI_API_KEY\"\n  ]\n}\n```\n\n**⚠️ Security Note**: The `secrets` array declares which environment variables are required. Never store actual secret values in `pact.json`. Store them securely in environment variables or a secret manager.",
          "startLine": 16,
          "endLine": 30
        }
      },
      {
        "file": "pact-docs/content/docs/cli/edit.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better documentation site integration",
        "description": "The MDX frontmatter is minimal and missing important metadata that would improve SEO, navigation, and discoverability. Adding fields like slug, sidebar position, and keywords would enhance the documentation site's functionality.",
        "suggestion": "Expand the frontmatter with additional metadata fields commonly used in documentation sites. This improves searchability, navigation, and provides better context for documentation tooling.",
        "code": {
          "before": "---\ntitle: pact edit\ndescription: Edit pact files locally or in the web editor\n---",
          "after": "---\ntitle: pact edit\ndescription: Edit pact files locally or in the web editor\nslug: /cli/edit\nsidebar_position: 3\nkeywords:\n  - pact\n  - edit\n  - configuration\n  - web editor\n  - cli\ntags: [cli, editor, configuration]\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/cli/edit.mdx",
        "category": "style",
        "severity": "low",
        "title": "Standardize admonition syntax for consistency",
        "description": "The documentation uses a custom tip format with emoji and bold text, but most modern MDX documentation systems support standardized admonition/callout components (e.g., :::tip, :::note). Using standard syntax improves portability and visual consistency across the documentation site.",
        "suggestion": "Convert custom tip formatting to standard MDX admonition syntax. This provides better styling control and makes the content more maintainable.",
        "code": {
          "before": "⚠️ **Tip**\n\nFor VS Code or Cursor, use the `--wait` flag so pact knows when you're done editing.",
          "after": ":::tip\nFor VS Code or Cursor, use the `--wait` flag so pact knows when you're done editing.\n:::",
          "startLine": 61,
          "endLine": 64
        }
      },
      {
        "file": "pact-docs/content/docs/cli/edit.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-references to related commands",
        "description": "The documentation mentions related commands like 'pact push' and 'pact sync' but doesn't link to their documentation. Adding proper cross-references would improve navigation and help users discover related functionality.",
        "suggestion": "Add MDX links to related command documentation. This creates a better documentation flow and helps users understand the full workflow.",
        "code": {
          "before": "# Push changes to GitHub\npact push -m \"Update shell aliases\"\n\n# On another machine, pull the changes\npact sync shell",
          "after": "# Push changes to GitHub\npact push -m \"Update shell aliases\"  # See [pact push](/cli/push)\n\n# On another machine, pull the changes\npact sync shell  # See [pact sync](/cli/sync)",
          "startLine": 97,
          "endLine": 101
        }
      },
      {
        "file": "pact-docs/content/docs/cli/edit.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add section on security considerations for web editor",
        "description": "The documentation promotes using a web editor and pushing changes to GitHub but doesn't mention security implications, authentication requirements, or best practices for sensitive configuration files. This could lead to security issues if users push secrets or credentials.",
        "suggestion": "Add a dedicated security section that warns users about sensitive data in configuration files and provides guidance on what should and shouldn't be stored in pact files.",
        "code": {
          "before": "## Web Editor\n\nThe web editor provides:",
          "after": "## Web Editor\n\n:::warning Security Note\nBe cautious when editing configuration files that may contain sensitive information. Never store passwords, API keys, or tokens in your pact files. Use environment variables or secret management tools for sensitive data. The web editor connects to GitHub, so ensure you have proper authentication configured.\n:::\n\nThe web editor provides:",
          "startLine": 68,
          "endLine": 70
        }
      },
      {
        "file": "pact-docs/content/docs/cli/edit.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add examples showing error scenarios in code blocks",
        "description": "The troubleshooting section describes errors but doesn't show what the actual error messages look like. Including example error output would help users quickly identify their issue and increase confidence that they're following the right solution.",
        "suggestion": "Enhance troubleshooting examples with actual error messages and expected vs. received output. This makes debugging faster and more intuitive.",
        "code": {
          "before": "### \"EDITOR not set\"\n\nSet the `EDITOR` environment variable in your shell config:\n\n```bash\nexport EDITOR=\"nvim\"\n```",
          "after": "### \"EDITOR not set\"\n\nIf you see this error:\n\n```bash\n$ pact edit\nError: EDITOR environment variable not set\n```\n\nSet the `EDITOR` environment variable in your shell config:\n\n```bash\nexport EDITOR=\"nvim\"\n```",
          "startLine": 125,
          "endLine": 131
        }
      },
      {
        "file": "pact-docs/content/docs/cli/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better SEO and navigation",
        "description": "The MDX frontmatter is minimal and missing important metadata that would improve discoverability, SEO, and documentation structure. Adding fields like slug, sidebar position, keywords, and last updated date would enhance the documentation experience.",
        "suggestion": "Expand the frontmatter with additional metadata fields commonly used in documentation systems. This will improve search functionality, navigation hierarchy, and provide users with context about content freshness.",
        "code": {
          "before": "---\ntitle: CLI Overview\ndescription: Complete reference for all Pact CLI commands\n---",
          "after": "---\ntitle: CLI Overview\ndescription: Complete reference for all Pact CLI commands\nslug: /cli/overview\nsidebar_position: 1\nkeywords:\n  - pact cli\n  - command line\n  - configuration management\n  - development environment\nlast_updated: 2024-01-15\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/cli/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add links to detailed command documentation",
        "description": "The command summary table lists all commands but doesn't provide links to detailed documentation pages for each command. Users need to know where to find in-depth information about command options, flags, and usage examples.",
        "suggestion": "Convert command names in the table to links pointing to their detailed documentation pages. This creates a proper navigation structure and helps users discover more information.",
        "code": {
          "before": "| Command | Description |\n|---------|-------------|\n| `pact` | Interactive status with quick actions |\n| `pact init` | Authenticate with GitHub and setup pact repo |\n| `pact edit [path]` | Edit pact files locally or in web editor |",
          "after": "| Command | Description |\n|---------|-------------|\n| [`pact`](/docs/cli/interactive) | Interactive status with quick actions |\n| [`pact init`](/docs/cli/init) | Authenticate with GitHub and setup pact repo |\n| [`pact edit [path]`](/docs/cli/edit) | Edit pact files locally or in web editor |",
          "startLine": 10,
          "endLine": 14
        }
      },
      {
        "file": "pact-docs/content/docs/cli/overview.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Improve code fence syntax highlighting specificity",
        "description": "The interactive mode example uses a generic 'bash' code fence, but the content is actually terminal output with special characters (box drawing). Using 'text' or 'ansi' would be more semantically correct, and the help command examples could benefit from being explicitly marked as bash/shell commands with output.",
        "suggestion": "Update code fence language identifiers to more accurately represent the content type. This improves syntax highlighting accuracy and semantic clarity for screen readers and parsers.",
        "code": {
          "before": "```bash\n$ pact\n\n╭─ Pact Status ─────────────────────────────────────────╮\n│                                                        │\n│  ● Connected    Version: 1.0.0                        │",
          "after": "```text\n$ pact\n\n╭─ Pact Status ─────────────────────────────────────────╮\n│                                                        │\n│  ● Connected    Version: 1.0.0                        │",
          "startLine": 22,
          "endLine": 27
        }
      },
      {
        "file": "pact-docs/content/docs/cli/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add examples section for common workflows",
        "description": "The documentation provides command references but lacks practical usage examples showing common workflows. Users would benefit from seeing how commands are typically used together (e.g., initial setup workflow, making changes workflow).",
        "suggestion": "Add a 'Common Workflows' section before 'Getting Help' that demonstrates typical usage patterns with concrete examples. This bridges the gap between reference documentation and practical application.",
        "code": {
          "before": "## Getting Help\n\nEvery command supports the `--help` flag:\n\n```bash\npact --help",
          "after": "## Common Workflows\n\n### Initial Setup\n\n```bash\n# Authenticate and initialize\npact init\n\n# Check status\npact status\n\n# Sync all modules\npact sync\n```\n\n### Making Changes\n\n```bash\n# Edit configuration\npact edit shell\n\n# Preview changes\npact status\n\n# Push to GitHub\npact push\n```\n\n## Getting Help\n\nEvery command supports the `--help` flag:\n\n```bash\npact --help",
          "startLine": 48,
          "endLine": 51
        }
      },
      {
        "file": "pact-docs/content/docs/cli/overview.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Enhance environment variables table with example values",
        "description": "The environment variables table shows purpose and defaults but doesn't provide concrete example values or usage instructions. Users may not know what valid values look like or how to set these variables.",
        "suggestion": "Add an 'Example' column to the environment variables table and include a brief code snippet showing how to set these variables in different shells.",
        "code": {
          "before": "| Variable | Purpose | Default |\n|----------|---------|---------|",
          "after": "| Variable | Purpose | Default | Example |\n|----------|---------|---------|---------|",
          "startLine": 56,
          "endLine": 57
        }
      },
      {
        "file": "pact-docs/content/docs/cli/reset-nuke.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better SEO and navigation",
        "description": "The frontmatter is minimal and missing important metadata that would improve discoverability, SEO, and documentation site integration. Additional fields like keywords, sidebar labels, and navigation position would enhance the user experience.",
        "suggestion": "Expand frontmatter with additional metadata fields commonly used in documentation systems like Docusaurus, Nextra, or similar MDX-based documentation platforms.",
        "code": {
          "before": "---\ntitle: pact reset & nuke\ndescription: Remove symlinks and clean up Pact installation\n---",
          "after": "---\ntitle: pact reset & nuke\ndescription: Remove symlinks and clean up Pact installation\nkeywords: [pact, reset, nuke, cleanup, uninstall, remove]\nsidebar_label: Reset & Nuke\nsidebar_position: 5\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/cli/reset-nuke.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Convert callout blocks to standardized MDX components",
        "description": "The document uses custom formatting for callout blocks (info and warning) that may not render consistently across different MDX renderers. Using standardized MDX component syntax or common conventions (like GitHub-flavored Markdown alerts) would improve portability and visual consistency.",
        "suggestion": "Replace custom callout formatting with either MDX component syntax or GitHub-flavored Markdown alert syntax for better compatibility and styling.",
        "code": {
          "before": "<Info>\nAfter reset, you can restore everything with `pact sync`.\n</Info>\n\n---\n## pact nuke\n\nComplete removal of Pact from your system.\n\n```bash\npact nuke [flags]\n```\n\n### Flags\n\n| Flag | Type | Description |\n|------|------|-------------|\n| `-f, --force` | bool | Skip confirmation prompt |\n\n### What it Does\n\n1. Removes all symlinks (like `pact reset`)\n2. Deletes the `.pact/` directory\n3. Removes your GitHub token from keychain\n\n### Warning\n\n<Warning>\n`pact nuke` is destructive! It removes:\n- All symlinked configs\n- Your local `.pact/` clone\n- Your GitHub token\n\nYour `my-pact` repo on GitHub is **not** affected.\n</Warning>",
          "after": ":::info\nAfter reset, you can restore everything with `pact sync`.\n:::\n\n---\n## pact nuke\n\nComplete removal of Pact from your system.\n\n```bash\npact nuke [flags]\n```\n\n### Flags\n\n| Flag | Type | Description |\n|------|------|-------------|\n| `-f, --force` | bool | Skip confirmation prompt |\n\n### What it Does\n\n1. Removes all symlinks (like `pact reset`)\n2. Deletes the `.pact/` directory\n3. Removes your GitHub token from keychain\n\n### Warning\n\n:::warning\n`pact nuke` is destructive! It removes:\n- All symlinked configs\n- Your local `.pact/` clone\n- Your GitHub token\n\nYour `my-pact` repo on GitHub is **not** affected.\n:::",
          "startLine": 33,
          "endLine": 59
        }
      },
      {
        "file": "pact-docs/content/docs/cli/reset-nuke.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add cross-references to related commands",
        "description": "The document mentions related commands like 'pact sync' and 'pact init' multiple times without linking to their documentation. Adding explicit links would improve navigation and help users discover related functionality.",
        "suggestion": "Add MDX links to related command documentation pages to create a better interconnected documentation experience.",
        "code": {
          "before": "After reset, you can restore everything with `pact sync`.\n\n---\n## pact nuke",
          "after": "After reset, you can restore everything with [`pact sync`](/docs/cli/sync).\n\n---\n## pact nuke",
          "startLine": 33,
          "endLine": 36
        }
      },
      {
        "file": "pact-docs/content/docs/cli/reset-nuke.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add machine-readable structured data for command reference",
        "description": "The command syntax, flags, and options are presented only in prose and tables. Adding structured metadata (using MDX export or custom components) would enable automatic generation of CLI reference materials, enable better search indexing, and allow for interactive documentation features.",
        "suggestion": "Export command metadata as a structured object that can be consumed by documentation tools, search indices, or used to generate interactive examples.",
        "code": {
          "before": "---\ntitle: pact reset & nuke\ndescription: Remove symlinks and clean up Pact installation\n---\n# pact reset & nuke",
          "after": "---\ntitle: pact reset & nuke\ndescription: Remove symlinks and clean up Pact installation\n---\n\nexport const commands = {\n  reset: {\n    syntax: 'pact reset',\n    flags: [],\n    description: 'Remove all symlinks created by Pact'\n  },\n  nuke: {\n    syntax: 'pact nuke [flags]',\n    flags: [\n      { name: '-f, --force', type: 'bool', description: 'Skip confirmation prompt' }\n    ],\n    description: 'Complete removal of Pact from your system'\n  }\n};\n\n# pact reset & nuke",
          "startLine": 1,
          "endLine": 5
        }
      },
      {
        "file": "pact-docs/content/docs/cli/reset-nuke.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve code block consistency with language hints",
        "description": "Most code blocks correctly specify 'bash' as the language, but the consistency could be improved by ensuring all command-line examples use the same syntax highlighting. Additionally, output examples could be marked with 'console' or 'text' to distinguish them from executable commands.",
        "suggestion": "Differentiate between executable bash commands and console output by using appropriate language identifiers for better syntax highlighting and clarity.",
        "code": {
          "before": "```bash\n$ pact reset\n\nRemoving symlinks...\n  ✓ Removed ~/.zshrc\n  ✓ Removed ~/.config/nvim\n  ✓ Removed ~/.gitconfig\n\n3 symlinks removed\n```",
          "after": "```bash\npact reset\n```\n\n```console\nRemoving symlinks...\n  ✓ Removed ~/.zshrc\n  ✓ Removed ~/.config/nvim\n  ✓ Removed ~/.gitconfig\n\n3 symlinks removed\n```",
          "startLine": 26,
          "endLine": 34
        }
      },
      {
        "file": "pact-docs/content/docs/cli/push.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add interactive prompt flag documentation",
        "description": "The documentation mentions prompting for a commit message when no `-m` flag is provided, but doesn't document a flag to skip this prompt or force non-interactive behavior. This is important for CI/CD environments or scripted usage where user input isn't available.",
        "suggestion": "Add documentation for a `--no-prompt` or `--non-interactive` flag if it exists, or document the behavior when running in non-interactive environments. If the flag doesn't exist, consider adding a note about limitations in automated environments.",
        "code": {
          "before": "| Flag | Type | Description |\n|------|------|-------------|\n| `-m, --message` | string | Commit message |\n| `--force` | bool | Force push (not implemented) |",
          "after": "| Flag | Type | Description |\n|------|------|-------------|\n| `-m, --message` | string | Commit message |\n| `--force` | bool | Force push (not implemented) |\n| `--no-prompt` | bool | Skip interactive prompts (use default message) |",
          "startLine": 16,
          "endLine": 18
        }
      },
      {
        "file": "pact-docs/content/docs/cli/push.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify incomplete feature documentation",
        "description": "The `--force` flag is documented as 'not implemented', which creates confusion. Users reading the documentation may wonder if this is a planned feature, a deprecated feature, or documentation debt. This can lead to support questions and confusion.",
        "suggestion": "Either remove the `--force` flag from documentation if it's truly not implemented, or add a clear note about its status (planned, deprecated, etc.). If keeping it, explain what the flag will do when implemented and add a 'Coming soon' or 'Roadmap' indicator.",
        "code": {
          "before": "| Flag | Type | Description |\n|------|------|-------------|\n| `-m, --message` | string | Commit message |\n| `--force` | bool | Force push (not implemented) |",
          "after": "| Flag | Type | Description |\n|------|------|-------------|\n| `-m, --message` | string | Commit message |\n\n> **Note**: The `--force` flag for force pushing is planned but not yet implemented. See [issue #123](https://github.com/org/repo/issues/123) for progress.",
          "startLine": 16,
          "endLine": 18
        }
      },
      {
        "file": "pact-docs/content/docs/cli/push.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add security warning for force push feature",
        "description": "While the `--force` flag is not implemented, when it is added, force pushing can be destructive and lead to data loss. The documentation should proactively warn users about this to prevent future issues.",
        "suggestion": "Add a warning section or callout about the dangers of force pushing, explaining that it can overwrite remote changes and cause data loss. Include guidance on when force push should and shouldn't be used.",
        "code": {
          "before": "## Troubleshooting\n\n### \"No changes to push\"",
          "after": "## Important Notes\n\n<Callout type=\"warning\">\n**Force Push Warning**: Once implemented, `--force` will overwrite remote history. Only use force push if you understand the implications and are certain you want to overwrite remote changes. Consider using `pact sync` first to pull remote changes.\n</Callout>\n\n## Troubleshooting\n\n### \"No changes to push\"",
          "startLine": 110,
          "endLine": 112
        }
      },
      {
        "file": "pact-docs/content/docs/cli/push.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Improve error recovery workflow documentation",
        "description": "The troubleshooting section suggests using `pact nuke` and `pact init` for authentication failures, which likely deletes local data. This is a destructive operation that should be a last resort. The documentation should provide less destructive alternatives first.",
        "suggestion": "Restructure the authentication troubleshooting to provide progressive steps, starting with token refresh or re-authentication without destroying local state. Reserve `pact nuke` as a last resort and clearly warn about its destructive nature.",
        "code": {
          "before": "### \"Authentication failed\"\n\nYour GitHub token may have expired. Re-authenticate:\n\n```bash\npact nuke\npact init\n```",
          "after": "### \"Authentication failed\"\n\nYour GitHub token may have expired. Try these steps in order:\n\n1. **Refresh token** (if available):\n   ```bash\n   pact auth refresh\n   ```\n\n2. **Re-authenticate** without losing data:\n   ```bash\n   pact auth login\n   ```\n\n3. **Last resort** - Reset pact (⚠️ deletes local changes):\n   ```bash\n   pact nuke\n   pact init\n   ```\n   \n   > **Warning**: `pact nuke` deletes your local pact directory. Make sure changes are pushed from other machines first.",
          "startLine": 125,
          "endLine": 131
        }
      },
      {
        "file": "pact-docs/content/docs/cli/push.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add exit code documentation for scripting",
        "description": "For users who want to script or automate `pact push`, knowing the exit codes is essential. The documentation lacks information about what exit codes are returned for success, no changes, authentication failures, and other error conditions.",
        "suggestion": "Add an 'Exit Codes' section documenting the various exit codes the command returns. This enables proper error handling in scripts and CI/CD pipelines.",
        "code": {
          "before": "## Workflow\n\nA typical workflow for making changes:",
          "after": "## Exit Codes\n\nThe `pact push` command returns the following exit codes:\n\n| Code | Description |\n|------|-------------|\n| `0` | Success - changes pushed |\n| `0` | Success - no changes to push |\n| `1` | Authentication failed |\n| `1` | Push rejected (conflicts) |\n| `2` | Not initialized (run `pact init`) |\n\nExample usage in scripts:\n```bash\nif pact push -m \"Auto-commit\"; then\n  echo \"Push successful\"\nelse\n  echo \"Push failed with code $?\"\n  exit 1\nfi\n```\n\n## Workflow\n\nA typical workflow for making changes:",
          "startLine": 88,
          "endLine": 90
        }
      },
      {
        "file": "pact-docs/content/docs/cli/init.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add security warning about token storage and permissions",
        "description": "The documentation explains where tokens are stored but doesn't address important security considerations. Users should be warned about the security implications of storing GitHub tokens, what permissions the token requires, and what access level is granted. This is especially important since the token is stored globally and reused across projects.",
        "suggestion": "Add a security section explaining token scopes, permissions, and security best practices. Include information about what GitHub permissions are requested and how to revoke access if needed.",
        "code": {
          "before": "## Token Storage\n\nThe GitHub token is stored in your OS keychain:\n\n| OS | Storage |\n|----|---------|",
          "after": "## Token Storage\n\n### Security Considerations\n\n⚠️ **Important**: The GitHub token stored by pact has access to your repositories. Keep these security points in mind:\n\n- **Permissions**: Pact requests `repo` scope access to read and write to your repositories\n- **Global Storage**: The token is stored once per machine and reused across all pact projects\n- **Revocation**: To revoke access, visit GitHub Settings → Applications → Authorized Apps\n\n### Storage Location\n\nThe GitHub token is stored securely in your OS keychain:\n\n| OS | Storage |\n|----|---------|",
          "startLine": 92,
          "endLine": 96
        }
      },
      {
        "file": "pact-docs/content/docs/cli/init.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify hardcoded repository name limitation",
        "description": "The documentation shows that pact creates a repository specifically named 'my-pact' ({username}/my-pact). This appears to be a hardcoded convention that may not be obvious to users. The '--from' flag is mentioned but marked as 'not yet implemented', leaving users without flexibility in repository naming. This should be clearly documented as a current limitation.",
        "suggestion": "Add a 'Repository Naming' section that explicitly states the repository must be named 'my-pact' and explain the reasoning. Also clarify the roadmap for the '--from' flag functionality.",
        "code": {
          "before": "## Flags\n\n| Flag | Type | Description |\n|------|------|-------------|\n| `--from` | string | Fork pact from another user (not yet implemented) |",
          "after": "## Flags\n\n| Flag | Type | Description |\n|------|------|-------------|\n| `--from` | string | Fork pact from another user (not yet implemented) |\n\n## Repository Naming\n\nPact currently uses a fixed repository name convention: `{username}/my-pact`\n\n- **Current behavior**: The repository must be named exactly `my-pact`\n- **Cannot be customized**: Custom repository names are not yet supported\n- **Future enhancement**: The `--from` flag will enable forking from other users' pact repositories\n\nIf you need multiple pact configurations, consider using branches within your `my-pact` repository.",
          "startLine": 13,
          "endLine": 17
        }
      },
      {
        "file": "pact-docs/content/docs/cli/init.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add error recovery guidance for failed initialization states",
        "description": "The documentation shows a happy path example and a 'pact already initialized' troubleshooting entry, but doesn't cover partial initialization failures. What happens if authentication succeeds but cloning fails? What if the repository creation times out? Users could end up in an inconsistent state with a token stored but no local repository, or vice versa.",
        "suggestion": "Expand the Troubleshooting section to cover partial failure scenarios with specific recovery steps for each state. Include guidance on how to check the current state and how to safely resume or rollback.",
        "code": {
          "before": "### Permission denied\n\nMake sure you have write access to the current directory and that the `my-pact` repo exists or you have permission to create it.",
          "after": "### Permission denied\n\nMake sure you have write access to the current directory and that the `my-pact` repo exists or you have permission to create it.\n\n### Partial initialization (interrupted process)\n\nIf `pact init` was interrupted, you may be in a partial state:\n\n**Authenticated but no local repository:**\n```bash\n# Check if authenticated\npact status\n# If authenticated, re-run init to clone\npact init\n```\n\n**Repository created but clone failed:**\n```bash\n# Remove partial .pact directory\nrm -rf .pact\n# Re-run init\npact init\n```\n\n**Token stored but authentication failed:**\n```bash\n# Clear stored credentials\npact logout\n# Start fresh\npact init\n```\n\nTo check your current state: `pact status` or `pact whoami`",
          "startLine": 125,
          "endLine": 127
        }
      },
      {
        "file": "pact-docs/content/docs/cli/init.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve consistency in code block language annotations",
        "description": "The documentation uses inconsistent code fence language annotations: 'bash' for shell commands, 'txt' for output, and 'json' for configuration. However, the example outputs mixing commands and results don't have language annotations, which reduces syntax highlighting consistency and makes it harder for documentation tooling to properly format the content.",
        "suggestion": "Standardize code block language annotations. Use 'bash' for shell commands, 'text' or 'console' for mixed command/output blocks, and maintain 'json' for configuration. Avoid 'txt' in favor of 'text' for better tooling support.",
        "code": {
          "before": "```txt\nOpening browser for GitHub authentication...\nEnter code: ABCD-1234 at https://github.com/login/device\nWaiting for authorization...\n```",
          "after": "```text\nOpening browser for GitHub authentication...\nEnter code: ABCD-1234 at https://github.com/login/device\nWaiting for authorization...\n```",
          "startLine": 28,
          "endLine": 32
        }
      },
      {
        "file": "pact-docs/content/docs/cli/init.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-references to related commands",
        "description": "The documentation mentions several related commands ('pact sync', 'pact nuke', 'pact status', 'pact whoami', 'pact logout') but doesn't provide links to their documentation. This makes it difficult for users to understand the full workflow and discover related functionality. MDX supports internal linking that should be leveraged.",
        "suggestion": "Add cross-reference links to related command documentation pages. This improves discoverability and helps users understand the complete command ecosystem.",
        "code": {
          "before": "Run 'pact sync' to apply your configurations.\n```\n\n## On a New Machine",
          "after": "Run [`pact sync`](/docs/cli/sync) to apply your configurations.\n```\n\n## On a New Machine",
          "startLine": 75,
          "endLine": 77
        }
      },
      {
        "file": "pact-docs/content/docs/cli/sync.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better MDX tooling support",
        "description": "The frontmatter is minimal and missing metadata that would improve SEO, navigation, and discoverability. MDX files benefit from additional metadata like sidebar position, category, and keywords for documentation platforms.",
        "suggestion": "Enhance frontmatter with additional metadata fields that are commonly used in documentation systems (Docusaurus, Nextra, etc.). This improves searchability and allows for better organization in the documentation site.",
        "code": {
          "before": "---\ntitle: pact sync\ndescription: Pull latest changes and apply configurations\n---",
          "after": "---\ntitle: pact sync\ndescription: Pull latest changes from GitHub and apply configurations to your system\nkeywords:\n  - pact\n  - sync\n  - cli\n  - configuration\n  - symlink\nsidebar_position: 2\ncategory: CLI Commands\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/cli/sync.mdx",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent code fence language identifiers",
        "description": "Some code blocks use 'bash' while others don't specify a language. This inconsistency affects syntax highlighting and readability. All shell command examples should use the same language identifier for consistency.",
        "suggestion": "Standardize all shell command code blocks to use 'bash' (or 'shell') consistently throughout the document. This ensures uniform syntax highlighting and improves the visual consistency of the documentation.",
        "code": {
          "before": "```bash\npact sync [module]\n```\n\n## Arguments\n\n...\n\n## Interactive Mode\n\nWithout arguments, `pact sync` shows an interactive module picker:\n\n```bash\n$ pact sync",
          "after": "```bash\npact sync [module]\n```\n\n## Arguments\n\n...\n\n## Interactive Mode\n\nWithout arguments, `pact sync` shows an interactive module picker:\n\n```bash\n$ pact sync",
          "startLine": 10,
          "endLine": 25
        }
      },
      {
        "file": "pact-docs/content/docs/cli/sync.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add error code references for programmatic handling",
        "description": "The troubleshooting section lists errors as plain text without error codes or exit statuses. This makes it difficult for users to programmatically handle errors or search for specific issues. Adding error codes or exit status information would improve debugging workflows.",
        "suggestion": "Add error codes, exit statuses, or specific error message patterns to each troubleshooting entry. This allows users and scripts to identify and handle specific error conditions programmatically.",
        "code": {
          "before": "## Troubleshooting\n\n### \"pact not initialized\"\n\nRun `pact init` first.\n\n### \"source not found\"\n\nThe source file specified in `pact.json` doesn't exist in your `.pact/` directory. Add the file or remove the entry from your config.\n\n### \"permission denied\"\n\nCheck that you have write access to the target directory. Some system directories may require sudo.",
          "after": "## Troubleshooting\n\n### \"pact not initialized\" (Exit code: 1)\n\n**Error message**: `Error: pact not initialized in this directory`\n\n**Solution**: Run `pact init` first to initialize the repository.\n\n### \"source not found\" (Exit code: 2)\n\n**Error message**: `Error: source file not found: <path>`\n\n**Solution**: The source file specified in `pact.json` doesn't exist in your `.pact/` directory. Add the file or remove the entry from your config.\n\n### \"permission denied\" (Exit code: 13)\n\n**Error message**: `Error: EACCES: permission denied`\n\n**Solution**: Check that you have write access to the target directory. Some system directories may require sudo.\n\n```bash\n# Run with elevated permissions if needed\nsudo pact sync system-config\n```",
          "startLine": 126,
          "endLine": 138
        }
      },
      {
        "file": "pact-docs/content/docs/cli/sync.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add cross-references and related commands section",
        "description": "The document doesn't link to related commands or concepts mentioned in the text. References to 'pact.json', 'pact init', and other commands should be hyperlinked. A 'See Also' section would help users discover related functionality and understand the command's context within the larger CLI.",
        "suggestion": "Add internal links to related documentation pages and include a 'See Also' section at the end of the document. This improves navigation and helps users understand the relationship between different pact commands.",
        "code": {
          "before": "## Troubleshooting\n\n### \"pact not initialized\"\n\nRun `pact init` first.\n\n### \"source not found\"\n\nThe source file specified in `pact.json` doesn't exist",
          "after": "## See Also\n\n- [`pact init`](/docs/cli/init) - Initialize a new pact repository\n- [`pact add`](/docs/cli/add) - Add configuration files to modules\n- [`pact status`](/docs/cli/status) - Check sync status of modules\n- [Configuration Reference](/docs/configuration/pact-json) - Learn about pact.json structure\n- [Sync Strategies](/docs/concepts/sync-strategies) - Deep dive into symlink vs copy strategies\n\n## Troubleshooting\n\n### \"pact not initialized\"\n\nRun [`pact init`](/docs/cli/init) first.\n\n### \"source not found\"\n\nThe source file specified in [`pact.json`](/docs/configuration/pact-json) doesn't exist",
          "startLine": 126,
          "endLine": 132
        }
      },
      {
        "file": "pact-docs/content/docs/cli/sync.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add YAML alternative for configuration example",
        "description": "The document only shows JSON configuration examples, but many modern tools support YAML as an alternative format. If pact supports YAML configuration (or plans to), showing both formats or mentioning the alternative would be helpful. If only JSON is supported, explicitly stating this prevents confusion.",
        "suggestion": "Either add a YAML example as an alternative configuration format (if supported), or add a note clarifying that only JSON configuration is supported. This sets clear expectations for users.",
        "code": {
          "before": "## OS-Specific Behavior\n\nPact automatically detects your OS and applies the correct configurations:\n\n\n{\n  \"shell\": {",
          "after": "## OS-Specific Behavior\n\nPact automatically detects your OS and applies the correct configurations.\n\n> **Note**: Configuration must be in JSON format. YAML is not currently supported.\n\n**Example** (`pact.json`):\n\n\n{\n  \"shell\": {",
          "startLine": 84,
          "endLine": 89
        }
      },
      {
        "file": "web/src/routes/+page.svelte",
        "category": "bug",
        "severity": "high",
        "title": "Add error handling for authentication initialization",
        "description": "The `auth.initialize()` call in `onMount` lacks error handling. If authentication fails (network issues, invalid tokens, API errors), the user won't receive feedback and the app may be in an inconsistent state. This is critical for the landing page where authentication determines navigation.",
        "suggestion": "Wrap the authentication initialization in a try-catch block and handle errors gracefully, potentially showing an error message to the user or logging the issue.",
        "code": {
          "before": "\tonMount(async () => {\n\t\tawait auth.initialize();\n\t\tif ($isAuthenticated) {\n\t\t\tgoto('/dashboard');\n\t\t}\n\t});",
          "after": "\tlet authError = '';\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tawait auth.initialize();\n\t\t\tif ($isAuthenticated) {\n\t\t\t\tgoto('/dashboard');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Authentication initialization failed:', error);\n\t\t\tauthError = 'Unable to initialize authentication. Please refresh the page.';\n\t\t}\n\t});",
          "startLine": 8,
          "endLine": 13
        }
      },
      {
        "file": "web/src/routes/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract reusable components for better maintainability",
        "description": "The features grid, 'How it works' section, and CLI preview are self-contained UI blocks that could be extracted into separate components. This would improve code organization, make the main component more readable, and enable reuse across other pages. The main component is currently 158 lines, which can be difficult to maintain.",
        "suggestion": "Create separate components: `FeatureCard.svelte`, `HowItWorksStep.svelte`, and `CliPreview.svelte`. This follows Svelte best practices for component composition and makes testing easier.",
        "code": {
          "before": "\t\t\t<!-- Features grid -->\n\t\t\t<div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-24\">\n\t\t\t\t{#each features as feature}\n\t\t\t\t\t<div class=\"p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl\">\n\t\t\t\t\t\t<svelte:component this={feature.icon} size={24} class=\"text-emerald-400 mb-4\" />\n\t\t\t\t\t\t<h3 class=\"font-medium mb-1\">{feature.title}</h3>\n\t\t\t\t\t\t<p class=\"text-sm text-zinc-500\">{feature.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>",
          "after": "\t<!-- FeatureCard.svelte -->\n\t<script lang=\"ts\">\n\t\timport type { ComponentType } from 'svelte';\n\t\texport let icon: ComponentType;\n\t\texport let title: string;\n\t\texport let description: string;\n\t</script>\n\n\t<div class=\"p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl\">\n\t\t<svelte:component this={icon} size={24} class=\"text-emerald-400 mb-4\" />\n\t\t<h3 class=\"font-medium mb-1\">{title}</h3>\n\t\t<p class=\"text-sm text-zinc-500\">{description}</p>\n\t</div>\n\n\t<!-- In +page.svelte -->\n\t<div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-24\">\n\t\t{#each features as feature}\n\t\t\t<FeatureCard {...feature} />\n\t\t{/each}\n\t</div>",
          "startLine": 76,
          "endLine": 85
        }
      },
      {
        "file": "web/src/routes/+page.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Prevent unnecessary navigation checks on every store update",
        "description": "The `onMount` hook subscribes to `$isAuthenticated` implicitly by checking it, which means any auth state change could trigger reactivity. While the navigation only happens once during mount, the reactive dependency could cause unnecessary evaluations. Additionally, the navigation happens without waiting for the initialization to complete properly in all edge cases.",
        "suggestion": "Use the returned value from `auth.initialize()` directly if it provides authentication status, or explicitly check the store value only once after initialization completes. Consider using `goto`'s options to replace history to prevent back button issues.",
        "code": {
          "before": "\tonMount(async () => {\n\t\tawait auth.initialize();\n\t\tif ($isAuthenticated) {\n\t\t\tgoto('/dashboard');\n\t\t}\n\t});",
          "after": "\tonMount(async () => {\n\t\ttry {\n\t\t\tconst authStatus = await auth.initialize();\n\t\t\t// Use returned status or check store once\n\t\t\tconst isAuth = authStatus ?? $isAuthenticated;\n\t\t\tif (isAuth) {\n\t\t\t\t// Replace history to prevent back navigation to login\n\t\t\t\tgoto('/dashboard', { replaceState: true });\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Authentication initialization failed:', error);\n\t\t}\n\t});",
          "startLine": 8,
          "endLine": 13
        }
      },
      {
        "file": "web/src/routes/+page.svelte",
        "category": "style",
        "severity": "low",
        "title": "Extract CSS classes into reusable constants or Tailwind config",
        "description": "The component contains repeated color values and complex CSS class strings (e.g., 'bg-zinc-900/30 border border-zinc-800/50') that are duplicated across multiple elements. This makes theme changes difficult and increases the chance of inconsistencies. The gradient background pattern is particularly complex and hard to maintain inline.",
        "suggestion": "Extract repeated class combinations into a const object for reuse, or consider using Tailwind's @apply directive for complex patterns. For the background gradient, consider moving it to a CSS class or Tailwind config.",
        "code": {
          "before": "\t<div\n\t\tclass=\"fixed inset-0 bg-[linear-gradient(rgba(39,39,42,0.3)_1px,transparent_1px),linear-gradient(90deg,rgba(39,39,42,0.3)_1px,transparent_1px)] bg-[size:32px_32px] pointer-events-none\"\n\t></div>\n\n\t<!-- Later in code -->\n\t<div class=\"p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl\">",
          "after": "\t<script lang=\"ts\">\n\t\t// ... other imports\n\t\tconst styles = {\n\t\t\tcard: 'p-6 bg-zinc-900/30 border border-zinc-800/50 rounded-xl',\n\t\t\tnumberBadge: 'w-12 h-12 bg-zinc-800 rounded-full flex items-center justify-center mx-auto text-emerald-400 font-bold',\n\t\t\tgradientText: 'text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-emerald-600'\n\t\t};\n\t</script>\n\n\t<!-- In Tailwind config or global CSS -->\n\t<style>\n\t\t.grid-background {\n\t\t\t@apply fixed inset-0 pointer-events-none;\n\t\t\tbackground-image: \n\t\t\t\tlinear-gradient(rgba(39,39,42,0.3) 1px, transparent 1px),\n\t\t\t\tlinear-gradient(90deg, rgba(39,39,42,0.3) 1px, transparent 1px);\n\t\t\tbackground-size: 32px 32px;\n\t\t}\n\t</style>\n\n\t<div class=\"grid-background\"></div>\n\t<div class={styles.card}>",
          "startLine": 28,
          "endLine": 31
        }
      },
      {
        "file": "web/src/routes/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Add loading state during authentication initialization",
        "description": "The component doesn't show any loading indicator while `auth.initialize()` is running. This can take several seconds depending on network conditions, leaving users staring at a page that appears ready but may suddenly navigate away. This creates a poor user experience, especially on slower connections.",
        "suggestion": "Add a loading state that displays during authentication initialization. This provides visual feedback and prevents interaction with the login button until initialization completes.",
        "code": {
          "before": "\tlet authError = '';\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tawait auth.initialize();\n\t\t\tif ($isAuthenticated) {\n\t\t\t\tgoto('/dashboard');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Authentication initialization failed:', error);\n\t\t}\n\t});\n\n\tfunction handleLogin() {\n\t\twindow.location.href = getAuthUrl();\n\t}",
          "after": "\tlet isInitializing = true;\n\tlet authError = '';\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tawait auth.initialize();\n\t\t\tif ($isAuthenticated) {\n\t\t\t\tgoto('/dashboard', { replaceState: true });\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Authentication initialization failed:', error);\n\t\t\tauthError = 'Unable to initialize authentication.';\n\t\t} finally {\n\t\t\tisInitializing = false;\n\t\t}\n\t});\n\n\tfunction handleLogin() {\n\t\tif (isInitializing) return;\n\t\twindow.location.href = getAuthUrl();\n\t}\n\n\t<!-- In template -->\n\t<button\n\t\ton:click={handleLogin}\n\t\tdisabled={isInitializing}\n\t\tclass=\"flex items-center gap-2 px-6 py-3 bg-white text-zinc-900 rounded-lg font-medium hover:bg-zinc-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n\t>\n\t\t<Github size={20} />\n\t\t<span>{isInitializing ? 'Initializing...' : 'Sign in with GitHub'}</span>\n\t</button>",
          "startLine": 8,
          "endLine": 16
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/concepts.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter navigation metadata for better UX",
        "description": "MDX documentation files benefit from explicit navigation metadata in the frontmatter. Adding 'sidebar_position' and 'slug' helps documentation frameworks (like Docusaurus) create better navigation and URLs.",
        "suggestion": "Enhance the frontmatter with navigation metadata to improve documentation structure and user experience.",
        "code": {
          "before": "---\ntitle: Core Concepts\ndescription: Understand the key concepts behind Pact\n---",
          "after": "---\ntitle: Core Concepts\ndescription: Understand the key concepts behind Pact\nsidebar_position: 2\nslug: /getting-started/concepts\nkeywords: [pact, configuration, dotfiles, concepts, sync]\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/concepts.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Improve code block consistency with language identifiers",
        "description": "Several code blocks use 'json' syntax highlighting, but the file structure example at line 11 uses a plain code block without a language identifier. This inconsistency reduces readability and may prevent proper syntax highlighting in some renderers.",
        "suggestion": "Add consistent language identifiers to all code blocks. Use 'text' or 'bash' for directory structures to maintain consistency.",
        "code": {
          "before": "```\nmy-project/\n├── .pact/                 # Your pact repo (cloned from GitHub)\n│   ├── pact.json          # Configuration manifest\n│   ├── shell/\n│   ├── editor/\n│   └── ...\n├── src/\n└── package.json\n```",
          "after": "```text\nmy-project/\n├── .pact/                 # Your pact repo (cloned from GitHub)\n│   ├── pact.json          # Configuration manifest\n│   ├── shell/\n│   ├── editor/\n│   └── ...\n├── src/\n└── package.json\n```",
          "startLine": 11,
          "endLine": 21
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/concepts.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add contextual cross-references to related documentation",
        "description": "The document mentions several commands ('pact edit', 'pact push', 'pact secret') and concepts without linking to detailed documentation. Adding MDX import statements and cross-reference links would improve navigation and discoverability.",
        "suggestion": "Add cross-reference links using MDX Link components to related command documentation, especially in the 'Secrets' and 'Edit Anywhere' sections.",
        "code": {
          "before": "Manage secrets with:\n\n```bash\npact secret set ANTHROPIC_API_KEY   # Store a secret\npact secret list                     # List secrets\npact secret remove ANTHROPIC_API_KEY # Remove a secret\n```",
          "after": "Manage secrets with:\n\n```bash\npact secret set ANTHROPIC_API_KEY   # Store a secret\npact secret list                     # List secrets\npact secret remove ANTHROPIC_API_KEY # Remove a secret\n```\n\n> 💡 **Learn more**: See the [Secrets Management](/docs/commands/secret) guide for advanced usage.",
          "startLine": 132,
          "endLine": 138
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/concepts.mdx",
        "category": "style",
        "severity": "low",
        "title": "Replace inconsistent formatting elements with MDX components",
        "description": "The document uses HTML-like bold tags (**) mixed with plain text in certain sections. MDX supports richer component usage for callouts, admonitions, and info boxes that provide better visual hierarchy and semantic meaning.",
        "suggestion": "Replace plain bold text callouts with semantic MDX admonition components for better visual consistency and accessibility.",
        "code": {
          "before": "**Directory Resolution:**\n1. CLI searches for `.pact/` in the current directory\n2. Walks up the directory tree (like git)\n3. Falls back to `~/.pact/` for backwards compatibility",
          "after": ":::info Directory Resolution\n1. CLI searches for `.pact/` in the current directory\n2. Walks up the directory tree (like git)\n3. Falls back to `~/.pact/` for backwards compatibility\n:::",
          "startLine": 23,
          "endLine": 26
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/concepts.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add practical examples for complex configurations",
        "description": "The 'Cross-OS Support' section shows configuration structure but lacks a real-world use case. Adding a complete working example with explanation would help users understand when and why to use OS-specific configurations.",
        "suggestion": "Enhance the Cross-OS Support section with a practical example showing a real scenario, such as handling different shell configurations or path separators between operating systems.",
        "code": {
          "before": "Targets can also be OS-specific:\n\n\n{\n  \"editor\": {\n    \"neovim\": {\n      \"source\": \"./editor/nvim/\",\n      \"target\": {\n        \"darwin\": \"~/.config/nvim\",\n        \"linux\": \"~/.config/nvim\",\n        \"windows\": \"~/AppData/Local/nvim\"\n      }\n    }\n  }\n}\n```",
          "after": "Targets can also be OS-specific:\n\n\n{\n  \"editor\": {\n    \"neovim\": {\n      \"source\": \"./editor/nvim/\",\n      \"target\": {\n        \"darwin\": \"~/.config/nvim\",\n        \"linux\": \"~/.config/nvim\",\n        \"windows\": \"~/AppData/Local/nvim\"\n      }\n    }\n  }\n}\n```\n\n**Why use OS-specific targets?** Configuration directories vary by OS. On Unix-like systems (macOS, Linux), Neovim uses `~/.config/nvim`, while Windows uses `~/AppData/Local/nvim`. This pattern lets you maintain one source with multiple deployment targets.",
          "startLine": 112,
          "endLine": 126
        }
      },
      {
        "file": "pact-docs/content/docs/development/web-app.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add authentication and environment configuration details",
        "description": "The documentation mentions GitHub OAuth but doesn't explain how to set up authentication for local development. Developers need environment variables, OAuth app configuration steps, and what happens when these aren't configured.",
        "suggestion": "Add a section explaining required environment variables, how to create a GitHub OAuth app, and local development considerations for authentication flows.",
        "code": {
          "before": "## Local Development\n\n```bash\ncd web\nnpm install\nnpm run dev\n```",
          "after": "## Local Development\n\n### Prerequisites\n\nCreate a `.env` file in the `web` directory with the following variables:\n\n```bash\nGITHUB_CLIENT_ID=your_github_oauth_app_client_id\nGITHUB_CLIENT_SECRET=your_github_oauth_app_secret\nAUTH_CALLBACK_URL=http://localhost:5173/auth/callback\nSESSION_SECRET=your_random_secret_key\n```\n\n### GitHub OAuth Setup\n\n1. Create a GitHub OAuth App at https://github.com/settings/developers\n2. Set Authorization callback URL to `http://localhost:5173/auth/callback`\n3. Copy the Client ID and Client Secret to your `.env` file\n\n### Running the App\n\n```bash\ncd web\nnpm install\nnpm run dev\n```\n\nThe app will be available at `http://localhost:5173`",
          "startLine": 27,
          "endLine": 33
        }
      },
      {
        "file": "pact-docs/content/docs/development/web-app.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add route protection and authentication requirements documentation",
        "description": "The routes table doesn't indicate which routes require authentication or what happens when accessing protected routes without being authenticated. This is critical information for understanding the application's security model.",
        "suggestion": "Add an 'Authentication' column to the routes table and document the access control model for each route.",
        "code": {
          "before": "## Routes\n\n| Route | Purpose |\n|-------|---------|------|\n| `/` | Landing page |\n| `/auth` | Redirects to GitHub OAuth |\n| `/auth/callback` | Handles OAuth callback |\n| `/dashboard` | Main dashboard |\n| `/editor` | File editor |",
          "after": "## Routes\n\n| Route | Purpose | Authentication |\n|-------|---------|----------------|\n| `/` | Landing page | Public |\n| `/auth` | Redirects to GitHub OAuth | Public |\n| `/auth/callback` | Handles OAuth callback | Public |\n| `/dashboard` | Main dashboard | Required |\n| `/editor` | File editor | Required |\n\n**Note**: Routes marked as \"Required\" will redirect unauthenticated users to the landing page.",
          "startLine": 17,
          "endLine": 25
        }
      },
      {
        "file": "pact-docs/content/docs/development/web-app.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add build and deployment commands for Cloudflare Pages",
        "description": "The deployment section only mentions the deployment URL but doesn't explain the build process, deployment commands, or how Cloudflare Pages is configured. This information is valuable for CI/CD setup and troubleshooting deployment issues.",
        "suggestion": "Expand the deployment section to include build commands, Cloudflare Pages configuration, and environment variables needed for production.",
        "code": {
          "before": "## Deployment\n\nThe web app is deployed to Cloudflare Pages at `https://pact-ckn.pages.dev`",
          "after": "## Deployment\n\nThe web app is deployed to Cloudflare Pages at `https://pact-ckn.pages.dev`\n\n### Build Configuration\n\n**Build command**: `npm run build`\n**Build output directory**: `build`\n**Node version**: 18.x\n\n### Environment Variables\n\nConfigure the following environment variables in Cloudflare Pages dashboard:\n\n- `GITHUB_CLIENT_ID`: Production GitHub OAuth App Client ID\n- `GITHUB_CLIENT_SECRET`: Production GitHub OAuth App Secret\n- `AUTH_CALLBACK_URL`: `https://pact-ckn.pages.dev/auth/callback`\n- `SESSION_SECRET`: Secure random string for session encryption\n\n### Manual Deployment\n\n```bash\nnpm run build\nnpx wrangler pages publish build\n```",
          "startLine": 35,
          "endLine": 37
        }
      },
      {
        "file": "pact-docs/content/docs/development/web-app.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add technology version information and key features",
        "description": "The tech stack table lists technologies but doesn't specify versions or highlight key features/capabilities. This makes it harder to understand technical constraints and troubleshoot version-specific issues.",
        "suggestion": "Add version information and brief notes about why each technology was chosen or key features being used.",
        "code": {
          "before": "## Tech Stack\n\n| Technology | Purpose |\n|------------|---------|------|\n| SvelteKit | Framework |\n| Tailwind CSS | Styling |\n| CodeMirror 6 | Code editor |\n| Lucide Svelte | Icons |\n| Cloudflare Pages | Deployment |",
          "after": "## Tech Stack\n\n| Technology | Version | Purpose | Key Features |\n|------------|---------|---------|-------------|\n| SvelteKit | ^2.0.0 | Framework | SSR, file-based routing, serverless adapters |\n| Tailwind CSS | ^3.4.0 | Styling | Utility-first CSS, responsive design |\n| CodeMirror 6 | ^6.0.0 | Code editor | Syntax highlighting, Pact language support |\n| Lucide Svelte | ^0.400.0 | Icons | Consistent iconography |\n| Cloudflare Pages | - | Deployment | Edge deployment, GitHub integration |",
          "startLine": 9,
          "endLine": 15
        }
      },
      {
        "file": "pact-docs/content/docs/development/web-app.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add testing and code quality information",
        "description": "The documentation lacks any mention of testing strategy, test commands, or code quality tools. This is important for contributors and maintaining code quality standards.",
        "suggestion": "Add a section documenting testing approach, available test commands, and any linting or formatting tools in use.",
        "code": {
          "before": "## Local Development\n\n```bash\ncd web\nnpm install\nnpm run dev\n```",
          "after": "## Local Development\n\n```bash\ncd web\nnpm install\nnpm run dev\n```\n\n## Testing & Code Quality\n\n### Running Tests\n\n```bash\nnpm run test          # Run unit tests\nnpm run test:e2e      # Run end-to-end tests\nnpm run test:watch    # Run tests in watch mode\n```\n\n### Code Quality\n\n```bash\nnpm run lint          # Run ESLint\nnpm run format        # Format code with Prettier\nnpm run type-check    # Run TypeScript type checking\n```",
          "startLine": 27,
          "endLine": 33
        }
      },
      {
        "file": "pact-docs/content/docs/development/contributing.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add authentication setup instructions for GitHub OAuth App",
        "description": "The prerequisites mention needing 'A GitHub OAuth App' for authentication testing, but there are no instructions on how to create, configure, or use it. This creates a significant gap for new contributors who want to test authentication features.",
        "suggestion": "Add a dedicated section explaining how to create a GitHub OAuth App, what callback URLs to use, and how to configure environment variables for local development.",
        "code": {
          "before": "## Prerequisites\n\n- **Go 1.21+** for CLI development\n- **Node.js 18+** for web app development\n- **A GitHub OAuth App** for authentication testing",
          "after": "## Prerequisites\n\n- **Go 1.21+** for CLI development\n- **Node.js 18+** for web app development\n- **A GitHub OAuth App** for authentication testing\n\n### Setting Up GitHub OAuth\n\n1. Go to [GitHub Developer Settings](https://github.com/settings/developers)\n2. Click \"New OAuth App\"\n3. Configure:\n   - **Application name**: `Pact Development`\n   - **Homepage URL**: `http://localhost:5173`\n   - **Authorization callback URL**: `http://localhost:5173/auth/callback`\n4. Save your Client ID and Client Secret\n5. Create a `.env` file in the `web/` directory:\n   ```bash\n   GITHUB_CLIENT_ID=your_client_id\n   GITHUB_CLIENT_SECRET=your_client_secret\n   ```",
          "startLine": 8,
          "endLine": 12
        }
      },
      {
        "file": "pact-docs/content/docs/development/contributing.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add testing guidelines and commands",
        "description": "The 'Submitting Changes' section mentions 'Test thoroughly' but provides no guidance on how to run tests, what testing frameworks are used, or what level of test coverage is expected. This is critical for maintaining code quality.",
        "suggestion": "Add a dedicated 'Testing' section with commands for running unit tests, integration tests, and linting for both CLI and web components.",
        "code": {
          "before": "## Submitting Changes\n\n1. Fork the repository\n2. Create a feature branch\n3. Make your changes\n4. Test thoroughly\n5. Open a Pull Request",
          "after": "## Testing\n\n### CLI Tests\n\n```bash\ncd cli\ngo test ./...\ngo vet ./...\n```\n\n### Web App Tests\n\n```bash\ncd web\nnpm run test\nnpm run lint\nnpm run check  # TypeScript checks\n```\n\n## Submitting Changes\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/your-feature-name`)\n3. Make your changes\n4. Run tests and ensure they pass (see Testing section above)\n5. Commit with descriptive messages\n6. Push to your fork\n7. Open a Pull Request with a clear description of changes",
          "startLine": 55,
          "endLine": 61
        }
      },
      {
        "file": "pact-docs/content/docs/development/contributing.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add code style and formatting guidelines",
        "description": "The document doesn't specify code formatting standards or linting requirements. This can lead to inconsistent code style across contributions and increase review friction.",
        "suggestion": "Add a 'Code Style' section that specifies formatting tools and conventions for both Go and TypeScript/Svelte code.",
        "code": {
          "before": "## Project Structure\n\n```txt\npact/",
          "after": "## Code Style\n\n### Go (CLI)\n\n- Format code with `gofmt` or `goimports`\n- Follow [Effective Go](https://go.dev/doc/effective_go) guidelines\n- Run `go vet` before committing\n\n### TypeScript/Svelte (Web)\n\n- We use Prettier for formatting\n- Run `npm run format` before committing\n- Follow ESLint rules configured in the project\n\n## Project Structure\n\n```txt\npact/",
          "startLine": 41,
          "endLine": 43
        }
      },
      {
        "file": "pact-docs/content/docs/development/contributing.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add troubleshooting section for common setup issues",
        "description": "New contributors often face common issues during setup (port conflicts, dependency mismatches, permission errors). A troubleshooting section would reduce friction and support burden.",
        "suggestion": "Add a troubleshooting section covering common issues like port conflicts, Go module proxy issues, and Node version mismatches.",
        "code": {
          "before": "```\n\n## Submitting Changes",
          "after": "```\n\n## Troubleshooting\n\n### Port Already in Use\n\nIf port 5173 is already in use:\n```bash\n# Change the port in web/vite.config.ts or\nnpm run dev -- --port 3000\n```\n\n### Go Module Download Issues\n\n```bash\nexport GOPROXY=https://proxy.golang.org,direct\ngo mod download\n```\n\n### Node Version Mismatch\n\nEnsure you're using Node.js 18+:\n```bash\nnode --version  # Should be v18.0.0 or higher\n# Consider using nvm to manage Node versions\n```\n\n## Submitting Changes",
          "startLine": 53,
          "endLine": 55
        }
      },
      {
        "file": "pact-docs/content/docs/development/contributing.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add links to ARCHITECTURE.md and ROADMAP.md for context",
        "description": "The project structure mentions ARCHITECTURE.md and ROADMAP.md files, but there's no guidance on when contributors should consult these documents or what information they contain.",
        "suggestion": "Add a 'Additional Resources' section that explains what information is in each document and when contributors should read them.",
        "code": {
          "before": "├── docs/\n│   ├── ARCHITECTURE.md\n│   └── ROADMAP.md\n└── README.md\n```\n\n## Submitting Changes",
          "after": "├── docs/\n│   ├── ARCHITECTURE.md\n│   └── ROADMAP.md\n└── README.md\n```\n\n## Additional Resources\n\n- **[ARCHITECTURE.md](../ARCHITECTURE.md)** - System design, component interactions, and technical decisions. Read this before making significant architectural changes.\n- **[ROADMAP.md](../ROADMAP.md)** - Planned features and project direction. Check this to align your contribution with project goals.\n- **[README.md](../README.md)** - Project overview and quick start guide.\n\n## Submitting Changes",
          "startLine": 49,
          "endLine": 55
        }
      },
      {
        "file": "pact-docs/content/docs/development/architecture.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add detailed component interaction description",
        "description": "The ASCII diagram shows connections between components but lacks explanation of the data flow, authentication mechanisms, and sync process. Users need to understand HOW these components interact, not just THAT they connect.",
        "suggestion": "Add a 'Data Flow' section after the ASCII diagram explaining the synchronization process, authentication flow, and how secrets are managed across components. Include specifics about what data moves where and when.",
        "code": {
          "before": "```txt\n┌─────────────┐     ┌─────────────┐     ┌─────────────┐\n│   CLI (Go)  │────▶│   GitHub    │◀────│  Web App    │\n│             │     │  (my-pact)  │     │ (SvelteKit) │\n└─────────────┘     └─────────────┘     └─────────────┘\n       │                                       │\n       ▼                                       ▼\n┌─────────────┐                         ┌─────────────┐\n│  OS Keychain│                         │  Browser    │\n│  (secrets)  │                         │ localStorage│\n└─────────────┘                         └─────────────┘\n```",
          "after": "```txt\n┌─────────────┐     ┌─────────────┐     ┌─────────────┐\n│   CLI (Go)  │────▶│   GitHub    │◀────│  Web App    │\n│             │     │  (my-pact)  │     │ (SvelteKit) │\n└─────────────┘     └─────────────┘     └─────────────┘\n       │                                       │\n       ▼                                       ▼\n┌─────────────┐                         ┌─────────────┐\n│  OS Keychain│                         │  Browser    │\n│  (secrets)  │                         │ localStorage│\n└─────────────┘                         └─────────────┘\n```\n\n### Data Flow\n\n**Sync Process:**\n1. CLI reads configurations from local `.pact/` directory\n2. CLI authenticates to GitHub using token from OS keychain\n3. CLI pushes/pulls changes to/from `my-pact` repository\n4. Web App authenticates via GitHub OAuth\n5. Web App reads/writes directly to repository using GitHub API\n6. Both interfaces respect the same file structure and conventions\n\n**Secret Management:**\n- CLI: API tokens stored in OS keychain (Keychain on macOS, Credential Manager on Windows, Secret Service on Linux)\n- Web App: GitHub OAuth tokens stored in browser localStorage\n- Configuration files: Never contain secrets, only references to secret keys",
          "startLine": 9,
          "endLine": 21
        }
      },
      {
        "file": "pact-docs/content/docs/development/architecture.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add version constraints and links to technology stack tables",
        "description": "The technology stack tables list packages and technologies but lack version information and links to documentation. This makes it difficult for developers to reference the correct API versions or troubleshoot version-specific issues.",
        "suggestion": "Include version constraints (e.g., minimum required versions) and add links to official documentation for each dependency. This improves developer experience and reduces ambiguity.",
        "code": {
          "before": "| Package | Purpose |\n|---------|---------|\n| `spf13/cobra` | Command-line parsing |\n| `charmbracelet/bubbletea` | TUI framework |\n| `charmbracelet/lipgloss` | TUI styling |\n| `go-git/go-git/v5` | Git operations |\n| `zalando/go-keyring` | OS keychain access |",
          "after": "| Package | Version | Purpose |\n|---------|---------|---------|\n| [`spf13/cobra`](https://github.com/spf13/cobra) | v1.8+ | Command-line parsing |\n| [`charmbracelet/bubbletea`](https://github.com/charmbracelet/bubbletea) | v0.25+ | TUI framework |\n| [`charmbracelet/lipgloss`](https://github.com/charmbracelet/lipgloss) | v0.9+ | TUI styling |\n| [`go-git/go-git/v5`](https://github.com/go-git/go-git) | v5.11+ | Git operations |\n| [`zalando/go-keyring`](https://github.com/zalando/go-keyring) | v0.2+ | OS keychain access |",
          "startLine": 29,
          "endLine": 36
        }
      },
      {
        "file": "pact-docs/content/docs/development/architecture.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Expand Design Principles with practical examples",
        "description": "The Design Principles section provides good high-level concepts but lacks concrete examples that demonstrate these principles in action. Developers benefit from seeing how these principles translate to actual implementation patterns.",
        "suggestion": "Enhance each design principle with a brief code example or specific use case that illustrates the principle in practice. This makes the architecture more tangible and easier to understand.",
        "code": {
          "before": "1. **GitHub is the database**: No separate backend, your repo is the source of truth\n2. **Edit anywhere**: Local editor or web UI, your choice\n3. **Cross-OS by default**: Darwin, Windows, Linux configs coexist\n4. **Secrets stay local**: API keys in OS keychain, never in repo\n5. **Files not strings**: Configs as files, not inline JSON\n6. **Local-first**: `.pact/` folder lives in your project directory",
          "after": "1. **GitHub is the database**: No separate backend, your repo is the source of truth\n   - Example: `my-pact/configs/neovim.yaml` is both storage and API\n   \n2. **Edit anywhere**: Local editor or web UI, your choice\n   - CLI: `pact edit neovim` opens in $EDITOR\n   - Web: Navigate to app.pact.dev and edit in browser\n   \n3. **Cross-OS by default**: Darwin, Windows, Linux configs coexist\n   - File structure: `~/.config/nvim/init.lua` (Linux/macOS) and `~/AppData/Local/nvim/init.lua` (Windows) defined in same config\n   \n4. **Secrets stay local**: API keys in OS keychain, never in repo\n   - Config references: `api_key: \"${GITHUB_TOKEN}\"` stored in keychain, not committed\n   \n5. **Files not strings**: Configs as files, not inline JSON\n   - Instead of: `content: \"{\\\"key\\\": \\\"value\\\"}\"`\n   - Use: `source: ./files/config.json` with actual file\n   \n6. **Local-first**: `.pact/` folder lives in your project directory\n   - `my-project/.pact/config.yaml` travels with your project, no global state",
          "startLine": 51,
          "endLine": 56
        }
      },
      {
        "file": "pact-docs/content/docs/development/architecture.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add security and conflict resolution sections",
        "description": "Critical architectural concerns like security model, conflict resolution strategy, and offline behavior are not documented. These are common questions when evaluating a configuration management system.",
        "suggestion": "Add dedicated sections for 'Security Model' and 'Conflict Resolution' explaining authentication flows, permission models, and how the system handles concurrent edits or sync conflicts.",
        "code": {
          "before": "## Design Principles\n\n1. **GitHub is the database**: No separate backend, your repo is the source of truth",
          "after": "## Security Model\n\n**Authentication:**\n- CLI uses Personal Access Tokens (PAT) stored in OS keychain\n- Web app uses GitHub OAuth with repository scopes\n- Both require `repo` scope for private repositories\n\n**Permissions:**\n- Inherited from GitHub repository permissions\n- Users with write access can modify configurations\n- Users with read access can view but not sync\n\n**Secret Isolation:**\n- Secrets never committed to repository\n- Each machine/browser maintains its own secret store\n- Secret keys referenced in configs, values stored locally\n\n## Conflict Resolution\n\n**Concurrent Edits:**\n- CLI performs git pull before push to detect conflicts\n- Web app checks file SHA before committing changes\n- Manual resolution required for merge conflicts\n\n**Sync Strategy:**\n- Last-write-wins for non-conflicting changes\n- Git merge for conflicting changes\n- `.pact/` local state tracks last sync timestamp\n\n## Design Principles\n\n1. **GitHub is the database**: No separate backend, your repo is the source of truth",
          "startLine": 49,
          "endLine": 51
        }
      },
      {
        "file": "pact-docs/content/docs/development/architecture.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve MDX frontmatter with additional metadata",
        "description": "The frontmatter contains minimal metadata. Adding keywords, last updated date, and navigation order would improve SEO, maintainability, and documentation site navigation.",
        "suggestion": "Expand frontmatter with additional metadata fields commonly used in documentation sites. This improves discoverability and helps maintain documentation freshness.",
        "code": {
          "before": "---\ntitle: Architecture\ndescription: Technical overview of Pact's architecture and design\n---",
          "after": "---\ntitle: Architecture\ndescription: Technical overview of Pact's architecture and design\nkeywords: [architecture, components, CLI, web app, GitHub, design principles]\norder: 2\nlastUpdated: 2024-01-15\ncontributors: [core-team]\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/installation.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add sudo permission warning and alternative installation paths",
        "description": "The installation instructions use 'sudo mv' without warning users about permission requirements or offering alternatives. Users without sudo access or those preferring user-local installations will encounter errors. This affects macOS, Linux, and source build instructions.",
        "suggestion": "Add warnings about sudo requirements and provide alternative installation paths for user-local installations (e.g., ~/bin or ~/.local/bin). Also document the need to add these to PATH if not already configured.",
        "code": {
          "before": "```bash\n# Download for Apple Silicon (M1/M2/M3)\ncurl -sL https://github.com/cloudboy-jh/pact/releases/latest/download/pact_darwin_arm64.tar.gz | tar xz\nsudo mv pact /usr/local/bin/",
          "after": "```bash\n# Download for Apple Silicon (M1/M2/M3)\ncurl -sL https://github.com/cloudboy-jh/pact/releases/latest/download/pact_darwin_arm64.tar.gz | tar xz\n\n# Install globally (requires sudo)\nsudo mv pact /usr/local/bin/\n\n# OR install locally (no sudo needed)\nmkdir -p ~/.local/bin\nmv pact ~/.local/bin/\n# Add to PATH: echo 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc",
          "startLine": 24,
          "endLine": 27
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/installation.mdx",
        "category": "bug",
        "severity": "high",
        "title": "Windows installation instructions incomplete and non-functional",
        "description": "The Windows PowerShell instructions extract files but don't provide working steps to add the executable to PATH. The comment 'Add to PATH via System Properties > Environment Variables' is vague and manual. Users won't have a working installation after running these commands, and the pact.exe naming may be incorrect.",
        "suggestion": "Provide complete PowerShell commands that actually modify the PATH variable programmatically, verify the executable name is correct (likely pact.exe), and add error handling for the download and extraction steps.",
        "code": {
          "before": "```powershell\n# Download the Windows release\nInvoke-WebRequest -Uri \"https://github.com/cloudboy-jh/pact/releases/latest/download/pact_windows_amd64.zip\" -OutFile \"pact.zip\"\nExpand-Archive -Path \"pact.zip\" -DestinationPath \"C:\\Program Files\\pact\"\n# Add to PATH via System Properties > Environment Variables\n```",
          "after": "```powershell\n# Download the Windows release\nInvoke-WebRequest -Uri \"https://github.com/cloudboy-jh/pact/releases/latest/download/pact_windows_amd64.zip\" -OutFile \"pact.zip\"\nExpand-Archive -Path \"pact.zip\" -DestinationPath \"$env:LOCALAPPDATA\\pact\" -Force\nRemove-Item \"pact.zip\"\n\n# Add to PATH for current user (persists across sessions)\n$userPath = [Environment]::GetEnvironmentVariable(\"Path\", \"User\")\nif ($userPath -notlike \"*$env:LOCALAPPDATA\\pact*\") {\n    [Environment]::SetEnvironmentVariable(\"Path\", \"$userPath;$env:LOCALAPPDATA\\pact\", \"User\")\n}\n\n# Refresh PATH in current session\n$env:Path = [System.Environment]::GetEnvironmentVariable(\"Path\",\"Machine\") + \";\" + [System.Environment]::GetEnvironmentVariable(\"Path\",\"User\")\n```",
          "startLine": 46,
          "endLine": 51
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/installation.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Inconsistent code block formatting and missing shell indicators",
        "description": "The verification section uses a plain bash code block while other sections properly indicate the shell type. Additionally, there's inconsistent spacing around code blocks throughout the document. The 'Next Steps' section doesn't specify the shell type, which could cause confusion for Windows users.",
        "suggestion": "Standardize code block formatting by always specifying the language/shell type, add consistent spacing, and provide platform-specific examples where commands differ (e.g., separate blocks for bash and PowerShell where applicable).",
        "code": {
          "before": "## Verify Installation\n\n```bash\npact --help\n```\n\nYou should see the Pact help output with available commands.\n\n## Prerequisites",
          "after": "## Verify Installation\n\nRun the following command to verify the installation:\n\n```bash\npact --help\n```\n\n```powershell\n# Windows PowerShell\npact --help\n```\n\nYou should see the Pact help output with available commands.\n\n## Prerequisites",
          "startLine": 63,
          "endLine": 69
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/installation.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add error handling and verification steps to installation commands",
        "description": "The installation commands use piped operations without error checking. If any step fails (network issues, permissions, corrupted downloads), users won't know what went wrong. There's no checksum verification for downloaded binaries, which is a security best practice.",
        "suggestion": "Add verification steps after downloads, include checksum validation examples, and provide troubleshooting guidance. Consider breaking piped commands into separate steps for better error visibility.",
        "code": {
          "before": "```bash\n# Download for Apple Silicon (M1/M2/M3)\ncurl -sL https://github.com/cloudboy-jh/pact/releases/latest/download/pact_darwin_arm64.tar.gz | tar xz\nsudo mv pact /usr/local/bin/",
          "after": "```bash\n# Download for Apple Silicon (M1/M2/M3)\ncurl -fsSL https://github.com/cloudboy-jh/pact/releases/latest/download/pact_darwin_arm64.tar.gz -o pact.tar.gz\n\n# Verify download succeeded\nif [ ! -f pact.tar.gz ]; then\n    echo \"Download failed\"\n    exit 1\nfi\n\ntar xzf pact.tar.gz\nrm pact.tar.gz\n\n# Verify binary is executable\nchmod +x pact\nsudo mv pact /usr/local/bin/\n\n# Verify installation\npact --version",
          "startLine": 24,
          "endLine": 27
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/installation.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add troubleshooting section and system requirements",
        "description": "The document lacks a troubleshooting section for common installation issues (permission denied, command not found, PATH issues). It also doesn't specify minimum OS versions or architectural requirements clearly upfront, which could save users time if their system is incompatible.",
        "suggestion": "Add a 'System Requirements' section before installation methods listing minimum OS versions and supported architectures. Add a 'Troubleshooting' section after 'Verify Installation' covering common issues like PATH problems, permission errors, and how to completely uninstall/reinstall.",
        "code": {
          "before": "## Next Steps\n\nOnce installed, run `pact init` to get started:\n\n```bash\ncd my-project\npact init\n```\n\nSee the [Quick Start](/docs/getting-started/quickstart) guide for a complete walkthrough.",
          "after": "## Troubleshooting\n\n### Command not found\n\nIf you see `command not found: pact` after installation:\n\n1. Verify the binary is in your PATH: `echo $PATH` (Unix) or `$env:Path` (Windows)\n2. Try running with full path: `/usr/local/bin/pact --version`\n3. Restart your terminal or run `source ~/.bashrc` / `source ~/.zshrc`\n\n### Permission denied\n\nIf you see permission errors:\n- Ensure the binary is executable: `chmod +x /usr/local/bin/pact`\n- Use user-local installation if you don't have sudo access (see installation instructions above)\n\n### macOS security warning\n\nOn macOS, you may need to allow the app in System Preferences > Security & Privacy if you see \"cannot be opened because the developer cannot be verified.\"\n\n## Next Steps\n\nOnce installed, run `pact init` to get started:\n\n```bash\ncd my-project\npact init\n```\n\nSee the [Quick Start](/docs/getting-started/quickstart) guide for a complete walkthrough.",
          "startLine": 81,
          "endLine": 89
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/quickstart.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add prerequisite information for installation command",
        "description": "The installation command uses Homebrew tap specific to macOS/Linux, but there's no context about system requirements or alternative installation methods. Users on Windows or those without Homebrew will be blocked immediately. This affects user experience and documentation completeness.",
        "suggestion": "Add a callout or note section before the installation command indicating prerequisites and linking to alternative installation methods. Consider using MDX components for better visual hierarchy.",
        "code": {
          "before": "## 1. Install Pact\n\n```bash\nbrew install cloudboy-jh/tap/pact\n```",
          "after": "## 1. Install Pact\n\n<Callout type=\"info\">\n  **Prerequisites**: Homebrew is required for this installation method. For Windows or alternative installation methods, see the [Installation Guide](/docs/installation).\n</Callout>\n\n```bash\nbrew install cloudboy-jh/tap/pact\n```\n\n<Tabs>\n  <Tab title=\"macOS/Linux (Homebrew)\">\n    ```bash\n    brew install cloudboy-jh/tap/pact\n    ```\n  </Tab>\n  <Tab title=\"Other methods\">\n    See the [Installation Guide](/docs/installation) for additional options.\n  </Tab>\n</Tabs>",
          "startLine": 14,
          "endLine": 18
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/quickstart.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add error handling and troubleshooting guidance",
        "description": "The quickstart guide presents a happy path without mentioning potential issues users might encounter (GitHub authentication failures, permission issues, network problems, conflicting files). New users will struggle if they hit problems during initialization or syncing. Production documentation should anticipate common failure modes.",
        "suggestion": "Add a troubleshooting section or callouts near critical steps where failures commonly occur. Include common error messages and their solutions.",
        "code": {
          "before": "## 3. Initialize Pact\n\n```bash\npact init\n```\n\nThis will:\n1. Open your browser for GitHub authentication\n2. Create a `my-pact` repo in your GitHub account (if it doesn't exist)\n3. Clone it to `./.pact/` in your current directory\n4. Create a default `pact.json` configuration",
          "after": "## 3. Initialize Pact\n\n```bash\npact init\n```\n\nThis will:\n1. Open your browser for GitHub authentication\n2. Create a `my-pact` repo in your GitHub account (if it doesn't exist)\n3. Clone it to `./.pact/` in your current directory\n4. Create a default `pact.json` configuration\n\n<Callout type=\"warning\">\n  **Common issues:**\n  - If authentication fails, ensure pop-ups are enabled in your browser\n  - If `.pact/` already exists, remove it first or use `pact init --force`\n  - Network issues? Check your GitHub connection with `gh auth status`\n</Callout>\n\n<details>\n  <summary>Troubleshooting initialization errors</summary>\n  \n  **\"Repository already exists\" error:**\n  ```bash\n  pact init --use-existing\n  ```\n  \n  **Authentication timeout:**\n  ```bash\n  pact auth login --reset\n  pact init\n  ```\n</details>",
          "startLine": 24,
          "endLine": 32
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/quickstart.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Improve code block consistency with language identifiers",
        "description": "The document has inconsistent code block language identifiers. Line 41 uses 'txt' for output display, but bash prompts and command outputs could be better distinguished. Some outputs should use 'plaintext' or 'console' for clarity, and shell commands should consistently use 'bash' or 'shell'.",
        "suggestion": "Standardize code block language identifiers: use 'bash' for executable commands, 'console' or 'plaintext' for output/display text, and ensure all code blocks have appropriate syntax highlighting hints.",
        "code": {
          "before": "This will show an interactive module picker:\n\n```txt\nFound 6 modules in pact.json:\n\n  [1] shell        2 files\n  [2] editor       12 files (nvim, vscode)\n  [3] git          2 files\n  [4] ai           3 files (prompts, agents)\n  [5] tools        1 file\n  [6] theme        4 files (colors, wallpaper)\n\nSelect modules: 1,2,6\n```",
          "after": "This will show an interactive module picker:\n\n```console\nFound 6 modules in pact.json:\n\n  [1] shell        2 files\n  [2] editor       12 files (nvim, vscode)\n  [3] git          2 files\n  [4] ai           3 files (prompts, agents)\n  [5] tools        1 file\n  [6] theme        4 files (colors, wallpaper)\n\nSelect modules: 1,2,6\n```",
          "startLine": 41,
          "endLine": 54
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/quickstart.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify ambiguous pact repository naming convention",
        "description": "The documentation states that `pact init` creates a repo called 'my-pact' (line 28), but this naming is unclear. It's ambiguous whether this is a literal name, a placeholder, or if users can customize it. This could lead to confusion about GitHub repository organization and naming conventions.",
        "suggestion": "Explicitly explain the repository naming convention and whether/how users can customize it. Provide clear examples with actual repository names.",
        "code": {
          "before": "This will:\n1. Open your browser for GitHub authentication\n2. Create a `my-pact` repo in your GitHub account (if it doesn't exist)\n3. Clone it to `./.pact/` in your current directory\n4. Create a default `pact.json` configuration",
          "after": "This will:\n1. Open your browser for GitHub authentication\n2. Create a `{project-name}-pact` repo in your GitHub account (if it doesn't exist)\n   - By default, named after your current directory\n   - Customize with: `pact init --repo my-custom-pact-repo`\n3. Clone it to `./.pact/` in your current directory\n4. Create a default `pact.json` configuration\n\n<Callout type=\"info\">\n  **Example**: In a project directory called `my-api`, Pact creates `my-api-pact` on GitHub.\n</Callout>",
          "startLine": 27,
          "endLine": 31
        }
      },
      {
        "file": "pact-docs/content/docs/getting-started/quickstart.mdx",
        "category": "style",
        "severity": "low",
        "title": "Add visual separation and improve scannability of Common Commands table",
        "description": "The Common Commands table (lines 71-82) is functional but could benefit from better organization. Commands could be grouped by function (setup, editing, syncing, status) and enhanced with icons or badges for better visual hierarchy and scannability in a quick reference context.",
        "suggestion": "Group commands by category and consider adding visual indicators or descriptions that emphasize the most commonly used commands for new users.",
        "code": {
          "before": "## Common Commands\n\n| Command | Description |\n|---------|-------------|\n| `pact` | Interactive status with quick actions |\n| `pact init` | Initialize pact in current directory |\n| `pact edit` | Edit pact.json in $EDITOR |\n| `pact edit web` | Open web editor |\n| `pact sync` | Interactive sync with module picker |\n| `pact sync shell` | Sync specific module |\n| `pact push` | Commit and push changes |\n| `pact status` | Show status (non-interactive) |",
          "after": "## Common Commands\n\n### Setup & Initialization\n| Command | Description |\n|---------|-------------|\n| `pact init` | Initialize pact in current directory |\n| `pact` | Interactive status with quick actions ⭐ |\n\n### Editing Configuration\n| Command | Description |\n|---------|-------------|\n| `pact edit` | Edit pact.json in $EDITOR |\n| `pact edit web` | Open web editor (recommended) |\n| `pact edit <module>` | Edit specific module files |\n\n### Syncing & Managing\n| Command | Description |\n|---------|-------------|\n| `pact sync` | Interactive sync with module picker ⭐ |\n| `pact sync <module>` | Sync specific module |\n| `pact push` | Commit and push changes |\n| `pact status` | Show status (non-interactive) |\n\n<Callout type=\"tip\">\n  ⭐ Most commonly used commands for getting started\n</Callout>",
          "startLine": 69,
          "endLine": 80
        }
      },
      {
        "file": "pact-docs/content/docs/modules/ai.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter schema documentation and metadata",
        "description": "The MDX frontmatter is minimal and missing important metadata for SEO and content discovery. Adding structured metadata like keywords, lastUpdated, and navigation hints would improve discoverability and maintenance. The description could also be more detailed to better explain the module's capabilities.",
        "suggestion": "Enhance the frontmatter with additional metadata fields including keywords, last updated date, navigation group, and a more descriptive description. Consider adding an author field if documentation ownership is tracked.",
        "code": {
          "before": "---\ntitle: AI Module\ndescription: Configure AI prompts, agents, and provider settings\n---",
          "after": "---\ntitle: AI Module\ndescription: Configure and manage AI-related settings including prompts, agents, provider configurations, and skills for integrating with AI tools like Claude and Cursor\nkeywords: [ai, prompts, agents, claude, cursor, anthropic, openai, llm]\nlastUpdated: 2025-01-15\nnavGroup: modules\nnavOrder: 3\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/modules/ai.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve code block language consistency and accessibility",
        "description": "The document mixes JSON, YAML, markdown, and bash code blocks, but some lack proper language identifiers or use inconsistent formatting. The .cursorrules example is shown as YAML but cursor rules files are typically plain text or markdown. This can confuse syntax highlighters and reduce accessibility for screen readers.",
        "suggestion": "Ensure all code blocks have appropriate language identifiers. For .cursorrules, use 'txt' or 'plaintext' instead of 'yaml' unless it's actually YAML. Add descriptive labels to code blocks using MDX components if available.",
        "code": {
          "before": "### .cursorrules\n\nFor [Cursor](https://cursor.sh):\n\n```yaml\n# Cursor Rules\n\n## Preferences\n- Always use TypeScript",
          "after": "### .cursorrules\n\nFor [Cursor](https://cursor.sh):\n\n```txt title=\".cursorrules\"\n# Cursor Rules\n\n## Preferences\n- Always use TypeScript",
          "startLine": 122,
          "endLine": 130
        }
      },
      {
        "file": "pact-docs/content/docs/modules/ai.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add validation and error handling examples",
        "description": "The documentation shows configuration examples but doesn't explain what happens with invalid configurations, missing files, or incorrect paths. Users would benefit from understanding error scenarios, validation rules, and troubleshooting steps.",
        "suggestion": "Add a 'Validation & Troubleshooting' section that documents common errors, validation rules (e.g., required fields, file path validation), and how to debug issues. Include examples of error messages users might encounter.",
        "code": {
          "before": "## Syncing Agents\n\nAgents with targets get synced to your system:\n\n```bash\npact sync ai\n```",
          "after": "## Syncing Agents\n\nAgents with targets get synced to your system:\n\n```bash\npact sync ai\n```\n\n### Validation & Troubleshooting\n\nThe AI module validates configurations on load:\n\n- **Missing files**: If a prompt or agent source file doesn't exist, you'll see: `Error: Prompt file not found: prompts/default.md`\n- **Invalid models**: Unknown model names will trigger a warning but won't block execution\n- **Target path issues**: If the target directory isn't writable, sync will fail with permission errors\n\nTo verify your configuration:\n\n```bash\npact validate ai\n```",
          "startLine": 198,
          "endLine": 203
        }
      },
      {
        "file": "pact-docs/content/docs/modules/ai.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add practical workflow examples and integration patterns",
        "description": "While the document explains individual components (prompts, agents, skills), it lacks end-to-end workflow examples showing how these pieces work together in practice. Users would benefit from seeing complete use cases like 'Setting up a new project' or 'Creating a custom code review workflow'.",
        "suggestion": "Add a 'Common Workflows' or 'Examples' section near the end that demonstrates practical integration patterns, such as combining prompts with agents, using skills in different contexts, and automating prompt selection based on file types or git hooks.",
        "code": {
          "before": "## Secrets for AI\n\nStore API keys securely:\n\n\n{\n  \"secrets\": [\n    \"ANTHROPIC_API_KEY\",\n    \"OPENAI_API_KEY\"\n  ]\n}\n```\n\n```bash\npact secret set ANTHROPIC_API_KEY\npact secret set OPENAI_API_KEY\n```",
          "after": "## Common Workflows\n\n### Automated Code Review on Commit\n\nCombine the code-review prompt with a git hook:\n\n```bash\n# .git/hooks/pre-commit\npact ai prompt code-review --files $(git diff --cached --name-only)\n```\n\n### Context-Aware Assistant\n\nUse skills to specialize responses based on file type:\n\n```bash\n# Automatically load TypeScript skill when editing .ts files\npact ai chat --skill typescript --context src/utils/helper.ts\n```\n\n### Team Prompt Templates\n\nShare consistent prompts across your team:\n\n```bash\n# Pull latest prompts from shared repo\ngit pull origin main\npact sync ai\n\n# All team members now use the same code review standards\n```\n\n## Secrets for AI\n\nStore API keys securely:\n\n\n{\n  \"secrets\": [\n    \"ANTHROPIC_API_KEY\",\n    \"OPENAI_API_KEY\"\n  ]\n}\n```\n\n```bash\npact secret set ANTHROPIC_API_KEY\npact secret set OPENAI_API_KEY\n```",
          "startLine": 217,
          "endLine": 231
        }
      },
      {
        "file": "pact-docs/content/docs/modules/ai.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify agent target behavior and add path resolution details",
        "description": "The documentation mentions that agents with targets get synced and those without are 'reference files', but it doesn't explain what happens if a target already exists, whether syncing is destructive, or how path resolution works (relative vs absolute, tilde expansion). This could lead to user confusion or accidental file overwrites.",
        "suggestion": "Add explicit documentation about sync behavior, including whether it overwrites existing files, creates backups, or merges content. Explain path resolution rules and add a note about safety considerations.",
        "code": {
          "before": "Agents with targets get synced to your system:\n\n```bash\npact sync ai\n```\n\nAgents without targets (like `.cursorrules`) are reference files that you can copy manually or use in your projects.",
          "after": "Agents with targets get synced to your system:\n\n```bash\npact sync ai\n```\n\n**Sync Behavior:**\n- Existing target files are **backed up** to `{filename}.backup` before overwriting\n- Tilde (`~`) expands to your home directory\n- Relative paths are resolved from your pact repository root\n- The target directory is created if it doesn't exist\n- Use `--dry-run` to preview changes: `pact sync ai --dry-run`\n\nAgents without targets (like `.cursorrules`) are reference files that you can copy manually or use in your projects.",
          "startLine": 200,
          "endLine": 203
        }
      },
      {
        "file": "pact-docs/content/docs/modules/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add metadata for better SEO and content discovery",
        "description": "The frontmatter is minimal and missing important metadata fields that would improve SEO, social sharing, and documentation navigation. MDX documentation typically benefits from additional metadata like sidebar position, keywords, and last updated information.",
        "suggestion": "Enhance the frontmatter with additional metadata fields including sidebar_position, keywords, and slug for better discoverability and organization.",
        "code": {
          "before": "---\ntitle: Modules Overview\ndescription: Understanding Pact modules and how they organize your configurations\n---",
          "after": "---\ntitle: Modules Overview\ndescription: Understanding Pact modules and how they organize your configurations\nsidebar_position: 1\nkeywords: [modules, configuration, pact, sync, dotfiles]\nslug: /modules/overview\nlast_updated: 2024-01-01\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/modules/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add code block language identifiers for shell commands",
        "description": "The shell command examples lack language identifiers in the code fences. While they render, adding 'bash' or 'shell' identifiers improves syntax highlighting, enables copy-paste functionality in documentation tools, and makes the content more accessible.",
        "suggestion": "Add 'bash' language identifier to all shell command code blocks for proper syntax highlighting and better tooling integration.",
        "code": {
          "before": "```bash\npact sync\n# Select 'all' when prompted\n```\n\nSync a specific module:\n\n```bash\npact sync shell\npact sync editor\npact sync git\n```",
          "after": "```bash\npact sync\n# Select 'all' when prompted\n```\n\nSync a specific module:\n\n```bash\npact sync shell\npact sync editor\npact sync git\n```",
          "startLine": 128,
          "endLine": 142
        }
      },
      {
        "file": "pact-docs/content/docs/modules/overview.mdx",
        "category": "style",
        "severity": "low",
        "title": "Use consistent tree structure representation",
        "description": "The file structure example uses a basic text representation but lacks consistent visual formatting. MDX supports enhanced formatting and some documentation systems can render tree structures with better visual hierarchy using specific formatting or components.",
        "suggestion": "Add a language identifier to the tree structure code block and consider using consistent indentation symbols. Add 'text' or 'tree' as the language identifier for better rendering.",
        "code": {
          "before": "```\nmy-pact/\n├── pact.json\n├── shell/\n│   ├── darwin.zshrc\n│   ├── linux.zshrc\n│   └── windows.ps1",
          "after": "```text title=\"Recommended Directory Structure\"\nmy-pact/\n├── pact.json\n├── shell/\n│   ├── darwin.zshrc\n│   ├── linux.zshrc\n│   └── windows.ps1",
          "startLine": 146,
          "endLine": 151
        }
      },
      {
        "file": "pact-docs/content/docs/modules/overview.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add validation information and error handling guidance",
        "description": "The documentation explains the structure but doesn't address what happens when configuration is invalid, or how to troubleshoot common issues. Users need guidance on validation, error messages, and recovery steps when syncing fails.",
        "suggestion": "Add a new section explaining validation, common errors, and troubleshooting steps. This improves the practical usability of the documentation.",
        "code": {
          "before": "## Custom Modules\n\nWhile Pact has built-in support for common modules, you can create custom entries:\n\n\n{\n  \"tools\": {\n    \"configs\": {\n      \"custom-tool\": {\n        \"source\": \"./tools/custom-tool.yml\",\n        \"target\": \"~/.config/custom-tool/config.yml\"\n      }\n    }\n  }\n}\n```",
          "after": "## Custom Modules\n\nWhile Pact has built-in support for common modules, you can create custom entries:\n\n\n{\n  \"tools\": {\n    \"configs\": {\n      \"custom-tool\": {\n        \"source\": \"./tools/custom-tool.yml\",\n        \"target\": \"~/.config/custom-tool/config.yml\"\n      }\n    }\n  }\n}\n```\n\n## Validation and Troubleshooting\n\n### Common Issues\n\n**Invalid source path**: Ensure the source path exists relative to your `pact.json` file.\n\n```bash\n# Verify your source files exist\nls -la ./shell/darwin.zshrc\n```\n\n**Permission errors**: Pact may need permissions to write to target directories.\n\n**Conflicting configurations**: If the target file already exists and isn't managed by Pact, you'll be prompted to resolve the conflict.\n\n### Validation\n\nValidate your `pact.json` before syncing:\n\n```bash\npact validate\n```\n\nThis checks for:\n- Missing required fields (`source`, `target`)\n- Invalid strategy values\n- Non-existent source paths\n- Malformed JSON structure",
          "startLine": 185,
          "endLine": 197
        }
      },
      {
        "file": "pact-docs/content/docs/modules/overview.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify module type selection guidance",
        "description": "The documentation shows three different module patterns (key-based, OS-based, single-entry) but doesn't explain when to use each pattern or if they can be mixed. This could confuse users when designing their own configurations.",
        "suggestion": "Add a decision guide or comparison section that explains when to use each module type pattern, including whether they can be combined within the same module.",
        "code": {
          "before": "## Module Types\n\n### Key-based Modules\n\nMost modules use keys to identify entries:",
          "after": "## Module Types\n\nPact supports three module patterns. Choose based on your needs:\n\n- **Key-based**: Multiple related configurations (e.g., different editors)\n- **OS-based**: Same configuration with OS-specific variations\n- **Single-entry**: Simple, single-purpose configurations\n\n> **Note**: You cannot mix patterns within the same module. Choose one pattern per module.\n\n### Key-based Modules\n\nMost modules use keys to identify entries:",
          "startLine": 46,
          "endLine": 50
        }
      },
      {
        "file": "pact-docs/content/docs/modules/git.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add contextual introduction and prerequisites section",
        "description": "The document jumps directly into configuration without explaining what the git module does, when to use it, or what prerequisites are needed. Users may not understand the purpose or have Delta/GPG installed before attempting to use the advanced features.",
        "suggestion": "Add an introductory paragraph explaining the module's purpose and a prerequisites section listing optional dependencies like Delta and GPG. This improves discoverability and prevents configuration errors.",
        "code": {
          "before": "---\ntitle: Git Module\ndescription: Manage global Git configuration and ignore patterns\n---\n# Git Module\n\nThe git module manages your global Git configuration files.\n\n## Configuration",
          "after": "---\ntitle: Git Module\ndescription: Manage global Git configuration and ignore patterns\n---\n# Git Module\n\nThe git module manages your global Git configuration files, allowing you to version control and sync your `.gitconfig` and `.gitignore_global` files across machines. This ensures consistent Git behavior and ignore patterns in all your development environments.\n\n## Prerequisites\n\n- Git 2.0 or higher\n- Optional: [Delta](https://github.com/dandavison/delta) for enhanced diff viewing\n- Optional: GPG for commit signing\n\n## Configuration",
          "startLine": 1,
          "endLine": 8
        }
      },
      {
        "file": "pact-docs/content/docs/modules/git.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Improve code block language identifiers for better syntax highlighting",
        "description": "Several code blocks use generic identifiers like 'txt' or 'ini' when more specific identifiers would provide better syntax highlighting. The .gitignore_global block uses 'txt' and should use 'gitignore'. The .gitconfig examples use 'ini' but 'gitconfig' would be more semantically correct.",
        "suggestion": "Use 'gitignore' for .gitignore files and 'gitconfig' for .gitconfig files to leverage MDX's syntax highlighting capabilities and improve readability.",
        "code": {
          "before": "```txt\n# OS files\n.DS_Store\nThumbs.db",
          "after": "```gitignore\n# OS files\n.DS_Store\nThumbs.db",
          "startLine": 76,
          "endLine": 79
        }
      },
      {
        "file": "pact-docs/content/docs/modules/git.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add validation and troubleshooting section",
        "description": "The document shows configuration examples but lacks guidance on what to do when things go wrong. There's no troubleshooting section for common issues like symlink conflicts, path resolution problems, or Delta/GPG configuration errors. The verification command is mentioned briefly but not emphasized.",
        "suggestion": "Add a comprehensive troubleshooting section after the 'Syncing' section that covers common issues, validation steps, and how to resolve conflicts. This will significantly improve user experience and reduce support burden.",
        "code": {
          "before": "## Syncing\n\n```bash\npact sync git\n```\n\nAfter syncing, verify your config:\n\n```bash\ngit config --global --list\n```\n\n## Common Aliases",
          "after": "## Syncing\n\n```bash\npact sync git\n```\n\nAfter syncing, verify your config:\n\n```bash\ngit config --global --list\n```\n\n## Troubleshooting\n\n### Verify Symlinks\n\nCheck that symlinks are created correctly:\n\n```bash\nls -la ~/.gitconfig ~/.gitignore_global\n```\n\nBoth should show symbolic links pointing to your pact directory.\n\n### Path Resolution Issues\n\nIf `~/.gitignore_global` is not being recognized, verify the path in your config:\n\n```bash\ngit config --global core.excludesfile\n```\n\nThis should output the full path to your global ignore file.\n\n### Delta Not Working\n\nIf Delta isn't displaying correctly, ensure it's installed and in your PATH:\n\n```bash\nwhich delta\ndelta --version\n```\n\n### GPG Signing Failures\n\nIf commit signing fails, verify your GPG key:\n\n```bash\ngpg --list-secret-keys --keyid-format LONG\ngit config --global user.signingkey\n```\n\nEnsure the key ID matches your configured signing key.\n\n## Common Aliases",
          "startLine": 228,
          "endLine": 237
        }
      },
      {
        "file": "pact-docs/content/docs/modules/git.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Consolidate Delta configuration examples to avoid duplication",
        "description": "The Delta configuration appears twice in the document: once in the main .gitconfig example (lines 50-55) and again in the 'Delta Integration' section (lines 124-136). This creates maintenance burden and potential inconsistency if one section is updated but not the other.",
        "suggestion": "Keep the Delta configuration only in the dedicated 'Delta Integration' section and add a reference to it in the main .gitconfig example. This improves maintainability and follows the DRY principle.",
        "code": {
          "before": "[core]\n    editor = nvim\n    excludesfile = ~/.gitignore_global\n    autocrlf = input\n    pager = delta\n\n[init]\n    defaultBranch = main\n\n[pull]\n    rebase = true\n\n[push]\n    autoSetupRemote = true\n\n[alias]\n    co = checkout\n    br = branch\n    ci = commit\n    st = status\n    unstage = reset HEAD --\n    last = log -1 HEAD\n    lg = log --oneline --graph --decorate\n    amend = commit --amend --no-edit\n\n[diff]\n    colorMoved = default\n\n[merge]\n    conflictstyle = diff3\n\n[interactive]\n    diffFilter = delta --color-only\n\n[delta]\n    navigate = true\n    light = false\n    line-numbers = true",
          "after": "[core]\n    editor = nvim\n    excludesfile = ~/.gitignore_global\n    autocrlf = input\n    # See Delta Integration section below for pager configuration\n\n[init]\n    defaultBranch = main\n\n[pull]\n    rebase = true\n\n[push]\n    autoSetupRemote = true\n\n[alias]\n    co = checkout\n    br = branch\n    ci = commit\n    st = status\n    unstage = reset HEAD --\n    last = log -1 HEAD\n    lg = log --oneline --graph --decorate\n    amend = commit --amend --no-edit\n\n[diff]\n    colorMoved = default\n\n[merge]\n    conflictstyle = diff3",
          "startLine": 42,
          "endLine": 68
        }
      },
      {
        "file": "pact-docs/content/docs/modules/git.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-references and improve document navigation",
        "description": "The document has several related sections (Delta Integration, GPG Signing, Multiple Git Identities) but lacks cross-references between them. For example, the main configuration example includes Delta settings but doesn't link to the Delta Integration section for more details.",
        "suggestion": "Add MDX anchor links to create cross-references between related sections. This improves navigation and helps users discover related configuration options without scrolling through the entire document.",
        "code": {
          "before": "## .gitconfig\n\nYour global Git configuration:\n\n```ini\n[user]\n    name = Your Name\n    email = you@example.com",
          "after": "## .gitconfig\n\nYour global Git configuration. See also: [Delta Integration](#delta-integration), [Multiple Git Identities](#multiple-git-identities), and [GPG Signing](#gpg-signing) for advanced options.\n\n```gitconfig\n[user]\n    name = Your Name\n    email = you@example.com",
          "startLine": 34,
          "endLine": 40
        }
      },
      {
        "file": "pact-docs/content/docs/modules/editor.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-references and navigation structure for better discoverability",
        "description": "The document lacks internal navigation and cross-references to related modules or concepts. Users may not know how this module relates to others in the Pact ecosystem, or how to navigate between editor-specific sections. Adding a table of contents, cross-references, and related links would significantly improve usability.",
        "suggestion": "Add a table of contents at the beginning, cross-reference related modules (like the sync module), and include navigation links between editor sections. Also add a 'See Also' section at the end.",
        "code": {
          "before": "---\ntitle: Editor Module\ndescription: Manage editor configurations for Neovim, VS Code, Cursor, and more\n---\n# Editor Module\n\nThe editor module manages configurations for various code editors.",
          "after": "---\ntitle: Editor Module\ndescription: Manage editor configurations for Neovim, VS Code, Cursor, and more\n---\n# Editor Module\n\nThe editor module manages configurations for various code editors.\n\n## On This Page\n\n- [Configuration](#configuration)\n- [Neovim](#neovim)\n- [VS Code](#vs-code)\n- [Cursor](#cursor)\n- [Keybindings](#keybindings)\n- [Snippets](#snippets)\n- [Target Paths by OS](#target-paths-by-os)\n- [Syncing](#syncing)\n\n<Callout type=\"info\">\nFor more information on syncing, see the [Sync Module](/docs/modules/sync) documentation.\n</Callout>",
          "startLine": 1,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/content/docs/modules/editor.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Inconsistent platform-specific target syntax creates confusion",
        "description": "The documentation shows two different approaches for specifying platform-specific targets: 1) an object with darwin/linux/windows keys (in the initial configuration example), and 2) a simple string (in subsequent examples). This inconsistency will confuse users about which syntax to use and when platform-specific paths are needed versus generic paths.",
        "suggestion": "Clearly document both syntaxes with explicit guidance on when to use each. Add a dedicated section explaining platform detection, and update all examples to use the platform-specific syntax for consistency since all three editors actually have different paths per OS.",
        "code": {
          "before": "## Neovim\n\nNeovim configs are typically a directory:\n\n\n{\n  \"neovim\": {\n    \"source\": \"./editor/nvim/\",\n    \"target\": \"~/.config/nvim\"\n  }\n}\n```",
          "after": "## Neovim\n\nNeovim configs are typically a directory. Use platform-specific targets to handle OS differences:\n\n\n{\n  \"neovim\": {\n    \"source\": \"./editor/nvim/\",\n    \"target\": {\n      \"darwin\": \"~/.config/nvim\",\n      \"linux\": \"~/.config/nvim\",\n      \"windows\": \"~/AppData/Local/nvim\"\n    },\n    \"strategy\": \"symlink\"\n  }\n}\n```\n\n<Callout type=\"tip\">\nFor paths that are identical across Unix-like systems (macOS and Linux), you can use a simplified syntax: `\"target\": \"~/.config/nvim\"`. Pact will automatically detect the OS and apply the appropriate path. However, explicit platform keys are recommended for clarity.\n</Callout>",
          "startLine": 47,
          "endLine": 57
        }
      },
      {
        "file": "pact-docs/content/docs/modules/editor.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing explanation of 'strategy' field and its implications",
        "description": "The 'strategy' field with value 'symlink' appears in the initial configuration example but is never explained. Users won't understand what strategies are available, when to use symlinks vs copying, or what the default behavior is. This is critical information since the callout at the end mentions symlinks are 'especially useful when tweaking your Neovim setup.'",
        "suggestion": "Add a dedicated section explaining available strategies (symlink, copy, etc.), their trade-offs, and when to use each. Include this before the editor-specific sections so users understand the concept when they encounter it in examples.",
        "code": {
          "before": "## Configuration\n\n\n{\n  \"modules\": {\n    \"editor\": {",
          "after": "## Configuration\n\nThe editor module supports different deployment strategies:\n\n- **symlink** (recommended): Creates symbolic links from your Pact repository to the target location. Changes are immediately reflected without re-syncing.\n- **copy**: Copies files to the target location. Useful when the editor doesn't support symlinks or you need isolated configs.\n\nIf no strategy is specified, `copy` is used by default.\n\n### Full Configuration Example\n\n\n{\n  \"modules\": {\n    \"editor\": {",
          "startLine": 8,
          "endLine": 13
        }
      },
      {
        "file": "pact-docs/content/docs/modules/editor.mdx",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent code fence language identifiers",
        "description": "The document uses 'txt' for the file structure tree diagram, but this isn't rendered as plaintext in many MDX renderers. Using 'text' or leaving it empty would be more standard. Additionally, some JSON blocks could benefit from title attributes for better context.",
        "suggestion": "Standardize code fence language identifiers. Use 'text' for tree structures, and add titles to JSON code blocks to clarify their purpose (e.g., 'pact.json', 'settings.json').",
        "code": {
          "before": "## File Structure\n\n```txt\nmy-pact/\n├── editor/\n│   ├── nvim/",
          "after": "## File Structure\n\nHere's the recommended directory structure for editor configurations:\n\n```text title=\"Recommended structure\"\nmy-pact/\n├── editor/\n│   ├── nvim/",
          "startLine": 43,
          "endLine": 48
        }
      },
      {
        "file": "pact-docs/content/docs/modules/editor.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing error handling and troubleshooting guidance",
        "description": "The documentation doesn't address common problems users might encounter: symlink permission issues, conflicting existing configurations, path resolution errors, or what happens when target directories don't exist. Real-world usage will hit these issues, and users need guidance.",
        "suggestion": "Add a 'Troubleshooting' section before 'Syncing' that covers common issues like existing configs, permission errors, and platform-specific gotchas. Also document what happens during the first sync when targets don't exist.",
        "code": {
          "before": "## Syncing\n\n```bash\n# Sync all editor configs\npact sync editor",
          "after": "## Troubleshooting\n\n### Existing Configurations\n\nIf you have existing editor configs, Pact will prompt you before overwriting. To backup your current configs:\n\n```bash\n# Backup existing configs before first sync\nmv ~/.config/nvim ~/.config/nvim.backup\n```\n\n### Symlink Permissions\n\nOn Windows, creating symlinks may require administrator privileges. If you encounter permission errors:\n\n1. Run your terminal as Administrator, or\n2. Use the `copy` strategy instead of `symlink`\n\n### Path Not Found\n\nIf the target directory doesn't exist, Pact will create it automatically. However, parent directories must exist (e.g., `~/.config/` on Linux).\n\n## Syncing\n\n```bash\n# Sync all editor configs\npact sync editor",
          "startLine": 172,
          "endLine": 176
        }
      },
      {
        "file": "pact-docs/content/docs/reference/environment-variables.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Incomplete documentation for GITHUB_CLIENT_ID",
        "description": "The GITHUB_CLIENT_ID environment variable is mentioned but lacks a description, usage example, and default value. This inconsistency with other documented variables makes the reference incomplete and potentially confusing for developers.",
        "suggestion": "Complete the documentation for GITHUB_CLIENT_ID with a description, code example, and default value following the same pattern as other variables.",
        "code": {
          "before": "### GITHUB_CLIENT_ID\n\nOverride the OAuth client ID (for development).",
          "after": "### GITHUB_CLIENT_ID\n\nOverride the OAuth client ID (for development).\n\n```bash\nexport GITHUB_CLIENT_ID=\"your_custom_client_id\"\n```\n\n**Default:** `<production_client_id>` (or specify if none)",
          "startLine": 28,
          "endLine": 30
        }
      },
      {
        "file": "pact-docs/content/docs/reference/environment-variables.mdx",
        "category": "style",
        "severity": "low",
        "title": "Duplicate heading reduces clarity",
        "description": "The document has both a YAML frontmatter title and an identical H1 heading. In MDX documentation, this creates redundancy as the frontmatter title is typically used to generate page titles automatically. The duplicate H1 can cause accessibility issues and confuse content hierarchy.",
        "suggestion": "Remove the duplicate H1 heading and rely on the frontmatter title, or use a more descriptive introductory section instead of duplicating the title.",
        "code": {
          "before": "---\ntitle: Environment Variables\ndescription: All environment variables used by Pact\n---\n# Environment Variables\n\nReference for all environment variables used by Pact.",
          "after": "---\ntitle: Environment Variables\ndescription: All environment variables used by Pact\n---\n\nReference for all environment variables used by Pact. These variables allow you to customize Pact's behavior for your development and production environments.",
          "startLine": 1,
          "endLine": 7
        }
      },
      {
        "file": "pact-docs/content/docs/reference/environment-variables.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing information about VISUAL fallback behavior",
        "description": "The VISUAL variable documentation only states it's a fallback but doesn't explain the precedence order or provide a usage example. Users may not understand when or how this variable is used.",
        "suggestion": "Add a clear explanation of the fallback mechanism and provide a usage example consistent with other variables in the document.",
        "code": {
          "before": "### VISUAL\n\nFallback editor if `EDITOR` is not set.",
          "after": "### VISUAL\n\nFallback editor used when `EDITOR` is not set. Pact checks `EDITOR` first, then falls back to `VISUAL`.\n\n```bash\nexport VISUAL=\"vim\"\n```",
          "startLine": 16,
          "endLine": 18
        }
      },
      {
        "file": "pact-docs/content/docs/reference/environment-variables.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add environment variables usage context and organization",
        "description": "The document lists CLI environment variables but doesn't indicate if there are other categories (e.g., runtime, build, or deployment variables). The 'CLI Environment Variables' heading suggests there might be other sections, but they're absent, which could confuse users.",
        "suggestion": "Either remove the 'CLI Environment Variables' heading if all variables are CLI-related, or add introductory text explaining the categorization and any missing categories. Consider adding a table of contents for better navigation.",
        "code": {
          "before": "Reference for all environment variables used by Pact.\n\n## CLI Environment Variables",
          "after": "Reference for all environment variables used by Pact.\n\n## Overview\n\nAll Pact environment variables are CLI-related and affect the behavior of the `pact` command-line tool. Set these in your shell profile or before running commands.\n\n## Available Variables",
          "startLine": 7,
          "endLine": 9
        }
      },
      {
        "file": "pact-docs/content/docs/reference/environment-variables.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-references and practical usage examples",
        "description": "The documentation lacks context about when and why you'd use these variables. For example, the PACT_WEB_URL variable mentions overriding but doesn't explain common use cases (local development, custom deployments). Adding practical scenarios would improve usability.",
        "suggestion": "Enhance each variable's documentation with practical use cases and scenarios. Consider adding a 'Common Scenarios' section showing how multiple variables work together.",
        "code": {
          "before": "### PACT_WEB_URL\n\nOverride the web editor URL.\n\n```bash\nexport PACT_WEB_URL=\"http://localhost:5173\"\n```\n\n**Default:** `https://pact-ckn.pages.dev`",
          "after": "### PACT_WEB_URL\n\nOverride the web editor URL. Useful for:\n- Local development when running the web editor on your machine\n- Testing against a staging environment\n- Using a self-hosted Pact editor instance\n\n```bash\n# For local development\nexport PACT_WEB_URL=\"http://localhost:5173\"\n\n# For a custom deployment\nexport PACT_WEB_URL=\"https://pact.yourcompany.com\"\n```\n\n**Default:** `https://pact-ckn.pages.dev`",
          "startLine": 20,
          "endLine": 27
        }
      },
      {
        "file": "pact-docs/content/docs/modules/theme.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better SEO and navigation",
        "description": "The frontmatter is minimal and lacks important metadata that would improve discoverability, SEO, and documentation navigation. Adding keywords, lastUpdated date, and navigation order would enhance the documentation structure.",
        "suggestion": "Expand frontmatter with additional metadata fields including keywords, category, lastUpdated, and sidebar position for better documentation organization and searchability.",
        "code": {
          "before": "---\ntitle: Theme Module\ndescription: Manage colors, wallpapers, icons, and visual customizations\n---",
          "after": "---\ntitle: Theme Module\ndescription: Manage colors, wallpapers, icons, and visual customizations\nkeywords: [theme, colors, wallpaper, icons, gtk, fonts, color-scheme]\ncategory: modules\nlastUpdated: 2024-01-15\nsidebarPosition: 3\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/modules/theme.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Inconsistent heading hierarchy breaks document structure",
        "description": "The document starts with a frontmatter title, then immediately repeats with '# Theme Module'. This creates redundancy and confuses screen readers and documentation generators. The h1 should be removed since the frontmatter title is rendered as h1.",
        "suggestion": "Remove the redundant h1 heading and start content directly after frontmatter, or add introductory text before the Configuration section.",
        "code": {
          "before": "---\ntitle: Theme Module\ndescription: Manage colors, wallpapers, icons, and visual customizations\n---\n# Theme Module\n\nThe theme module manages visual customizations: color schemes, wallpapers, icons, and more.",
          "after": "---\ntitle: Theme Module\ndescription: Manage colors, wallpapers, icons, and visual customizations\n---\n\nThe theme module manages visual customizations: color schemes, wallpapers, icons, and more.",
          "startLine": 1,
          "endLine": 7
        }
      },
      {
        "file": "pact-docs/content/docs/modules/theme.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Code examples lack language syntax highlighting and context",
        "description": "Several code blocks are missing proper language identifiers (bash scripts at lines 80, 86, and 152), which prevents syntax highlighting and reduces readability. The shell export examples also lack context about when/where to use them.",
        "suggestion": "Add proper language identifiers to all code blocks and provide execution context. For shell scripts, specify if they should be added to .bashrc/.zshrc or run as standalone commands.",
        "code": {
          "before": "```bash\n# Shell: Export colors\nexport COLOR_BG=$(jq -r '.colors.background' ~/.config/colors/scheme.json)\nexport COLOR_FG=$(jq -r '.colors.foreground' ~/.config/colors/scheme.json)\n```",
          "after": "```bash\n# Shell: Export colors (add to ~/.bashrc or ~/.zshrc)\nexport COLOR_BG=$(jq -r '.colors.background' ~/.config/colors/scheme.json)\nexport COLOR_FG=$(jq -r '.colors.foreground' ~/.config/colors/scheme.json)\n\n# Usage example:\necho \"Background: $COLOR_BG\"\necho \"Foreground: $COLOR_FG\"\n```",
          "startLine": 151,
          "endLine": 155
        }
      },
      {
        "file": "pact-docs/content/docs/modules/theme.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing cross-references and internal linking between related sections",
        "description": "The document mentions 'fonts module' but doesn't link to it. The 'Using Colors in Configs' section references Neovim but there's no link to a neovim module if one exists. Internal linking improves navigation and helps users discover related functionality.",
        "suggestion": "Add MDX links to related modules and create a 'Related Modules' or 'See Also' section at the bottom. Use relative links for internal documentation references.",
        "code": {
          "before": "The fonts module is a reference list. Install fonts using:\n\n```bash\n# macOS\nbrew install --cask font-jetbrains-mono\n\n# Linux\nsudo apt install fonts-jetbrains-mono\n```",
          "after": "The fonts module is a reference list. For more details, see the [Fonts Module](./fonts). Install fonts using:\n\n```bash\n# macOS\nbrew install --cask font-jetbrains-mono\n\n# Linux\nsudo apt install fonts-jetbrains-mono\n```\n\n## See Also\n\n- [Neovim Module](./neovim) - Configure Neovim with theme colors\n- [Shell Module](./shell) - Set up shell environment with color variables\n- [Configuration Reference](../configuration) - Full pact.json schema",
          "startLine": 123,
          "endLine": 130
        }
      },
      {
        "file": "pact-docs/content/docs/modules/theme.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Callout boxes should use consistent admonition syntax",
        "description": "The document uses blockquotes for important notices (lines 68-70, 157-159), but many MDX documentation systems support admonition/callout syntax (:::note, :::tip, :::warning) which provides better semantic meaning and styling.",
        "suggestion": "Replace blockquotes with MDX admonition syntax if supported by your documentation framework, or document why plain blockquotes are used.",
        "code": {
          "before": "> Pact syncs wallpaper files but doesn't automatically set them as your desktop background. Use your OS's wallpaper settings to point to the synced location.",
          "after": ":::note\nPact syncs wallpaper files but doesn't automatically set them as your desktop background. Use your OS's wallpaper settings or the scripts below to point to the synced location.\n:::\n\n<!-- Alternative if admonitions aren't supported: -->\n<!-- **Note:** Pact syncs wallpaper files but doesn't automatically set them as your desktop background. Use your OS's wallpaper settings or the scripts below to point to the synced location. -->",
          "startLine": 68,
          "endLine": 70
        }
      },
      {
        "file": "pact-docs/content/docs/modules/terminal.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Inconsistent module path structure in configuration examples",
        "description": "The documentation shows inconsistent JSON structures for the terminal module configuration. The first example uses 'modules.terminal' while later examples use just 'terminal' at the root level. This creates confusion about the correct configuration schema and could lead to users creating invalid configurations.",
        "suggestion": "Standardize all configuration examples to use the same JSON path structure. If the module should be nested under 'modules', all examples should reflect this. Add a note explaining the difference if both patterns are valid.",
        "code": {
          "before": "\n{\n  \"modules\": {\n    \"terminal\": {\n      \"emulator\": \"ghostty\",\n      \"source\": \"./terminal/ghostty.conf\",\n      \"target\": \"~/.config/ghostty/config\",\n      \"strategy\": \"symlink\"\n    }\n  }\n}\n```\n\nThe `emulator` field is informational — it helps you remember which terminal this config is for.\n\n## Supported Terminals\n\n### Ghostty\n\n\n{\n  \"terminal\": {\n    \"emulator\": \"ghostty\",",
          "after": "\n{\n  \"modules\": {\n    \"terminal\": {\n      \"emulator\": \"ghostty\",\n      \"source\": \"./terminal/ghostty.conf\",\n      \"target\": \"~/.config/ghostty/config\",\n      \"strategy\": \"symlink\"\n    }\n  }\n}\n```\n\nThe `emulator` field is informational — it helps you remember which terminal this config is for.\n\n## Supported Terminals\n\n### Ghostty\n\n\n{\n  \"modules\": {\n    \"terminal\": {\n      \"emulator\": \"ghostty\",",
          "startLine": 12,
          "endLine": 31
        }
      },
      {
        "file": "pact-docs/content/docs/modules/terminal.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing language identifiers for code blocks",
        "description": "Several configuration file examples (ghostty.conf, kitty.conf) lack proper language identifiers in their code fences. This reduces syntax highlighting capabilities and makes the documentation less accessible. MDX/Markdown supports language identifiers that enable better rendering and IDE support.",
        "suggestion": "Add appropriate language identifiers to all code blocks. Use 'conf' or 'ini' for .conf files, 'json' for JSON files, and 'toml' for TOML files to enable proper syntax highlighting.",
        "code": {
          "before": "Example `ghostty.conf`:\n\n```\n# Font\nfont-family = JetBrains Mono\nfont-size = 14\n\n# Colors (Catppuccin Mocha)\nbackground = 1e1e2e\nforeground = cdd6f4\n\n# Window\nwindow-padding-x = 10\nwindow-padding-y = 10\n\n# Cursor\ncursor-style = block\ncursor-style-blink = false\n\n# Shell\nshell-integration = zsh\n```",
          "after": "Example `ghostty.conf`:\n\n```conf\n# Font\nfont-family = JetBrains Mono\nfont-size = 14\n\n# Colors (Catppuccin Mocha)\nbackground = 1e1e2e\nforeground = cdd6f4\n\n# Window\nwindow-padding-x = 10\nwindow-padding-y = 10\n\n# Cursor\ncursor-style = block\ncursor-style-blink = false\n\n# Shell\nshell-integration = zsh\n```",
          "startLine": 42,
          "endLine": 62
        }
      },
      {
        "file": "pact-docs/content/docs/modules/terminal.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Inconsistent admonition formatting and missing types",
        "description": "The document uses custom admonition syntax (:::note) but doesn't specify admonition types consistently. Some admonitions lack proper type indicators, which could affect rendering in different MDX parsers or documentation frameworks. The closing ::: tags also lack explicit type labels for clarity.",
        "suggestion": "Use consistent admonition syntax with explicit types (note, warning, tip, etc.) and ensure all admonitions have proper opening and closing tags. Consider adding 'warning' type for the font installation note since it's important for users to understand this limitation.",
        "code": {
          "before": "```bash\npact sync terminal\n```\n\n:::note\nAfter syncing your terminal config, you may need to restart your terminal for changes to take effect.\n:::\n\n## Font Setup\n\nMost terminal configs reference fonts. Make sure your fonts are installed:\n\n\n{\n  \"fonts\": {\n    \"install\": [\"JetBrains Mono\", \"Fira Code\", \"Hack Nerd Font\"]\n  }\n}\n```\n\n:::note\nThe `fonts` module is a reminder — Pact doesn't automatically install fonts. Use Homebrew, your system package manager, or download manually.\n:::",
          "after": "```bash\npact sync terminal\n```\n\n:::note\nAfter syncing your terminal config, you may need to restart your terminal for changes to take effect.\n:::\n\n## Font Setup\n\nMost terminal configs reference fonts. Make sure your fonts are installed:\n\n\n{\n  \"fonts\": {\n    \"install\": [\"JetBrains Mono\", \"Fira Code\", \"Hack Nerd Font\"]\n  }\n}\n```\n\n:::warning\nThe `fonts` module is a reminder — Pact doesn't automatically install fonts. You must install them manually using Homebrew, your system package manager, or by downloading from font websites.\n:::",
          "startLine": 171,
          "endLine": 190
        }
      },
      {
        "file": "pact-docs/content/docs/modules/terminal.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Missing explanation of 'strategy' parameter and its valid values",
        "description": "The first configuration example includes a 'strategy' parameter set to 'symlink', but this field is never explained in the documentation. Users don't know what other valid values exist (copy, link, etc.), when to use different strategies, or what the default behavior is. This is critical information for users deciding how to manage their configuration files.",
        "suggestion": "Add a dedicated section explaining the 'strategy' parameter, its valid values, and use cases for each. Include examples showing when symlink vs copy strategies are appropriate, and document the default behavior if the parameter is omitted.",
        "code": {
          "before": "## Configuration\n\n\n{\n  \"modules\": {\n    \"terminal\": {\n      \"emulator\": \"ghostty\",\n      \"source\": \"./terminal/ghostty.conf\",\n      \"target\": \"~/.config/ghostty/config\",\n      \"strategy\": \"symlink\"\n    }\n  }\n}\n```\n\nThe `emulator` field is informational — it helps you remember which terminal this config is for.",
          "after": "## Configuration\n\n\n{\n  \"modules\": {\n    \"terminal\": {\n      \"emulator\": \"ghostty\",\n      \"source\": \"./terminal/ghostty.conf\",\n      \"target\": \"~/.config/ghostty/config\",\n      \"strategy\": \"symlink\"\n    }\n  }\n}\n```\n\n### Configuration Fields\n\n- **emulator**: Informational field to help you remember which terminal this config is for\n- **source**: Path to your terminal configuration file in the pact repository\n- **target**: Destination path where the config should be synced (supports platform-specific objects)\n- **strategy**: How to sync the file (default: `\"symlink\"`)\n  - `\"symlink\"`: Create a symbolic link (recommended, allows live editing)\n  - `\"copy\"`: Copy the file (useful when symlinks aren't supported)\n  - `\"hardlink\"`: Create a hard link",
          "startLine": 10,
          "endLine": 24
        }
      },
      {
        "file": "pact-docs/content/docs/modules/terminal.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Incomplete cross-reference to fonts module",
        "description": "The documentation references a 'fonts' module and shows a JSON configuration snippet, but doesn't provide a link to where users can learn more about this module. This creates a documentation dead-end where users are introduced to a feature but can't easily find more information about it.",
        "suggestion": "Add a link to the fonts module documentation if it exists, or add a note indicating where users can find more information. Consider using MDX link syntax to create proper internal documentation references.",
        "code": {
          "before": "## Font Setup\n\nMost terminal configs reference fonts. Make sure your fonts are installed:\n\n\n{\n  \"fonts\": {\n    \"install\": [\"JetBrains Mono\", \"Fira Code\", \"Hack Nerd Font\"]\n  }\n}\n```\n\n:::note\nThe `fonts` module is a reminder — Pact doesn't automatically install fonts. Use Homebrew, your system package manager, or download manually.\n:::",
          "after": "## Font Setup\n\nMost terminal configs reference fonts. Make sure your fonts are installed:\n\n\n{\n  \"fonts\": {\n    \"install\": [\"JetBrains Mono\", \"Fira Code\", \"Hack Nerd Font\"]\n  }\n}\n```\n\n:::warning\nThe `fonts` module is a reminder — Pact doesn't automatically install fonts. You must install them manually using Homebrew, your system package manager, or by downloading from font websites. See the [Fonts Module documentation](/docs/modules/fonts) for more details.\n:::",
          "startLine": 177,
          "endLine": 190
        }
      },
      {
        "file": "pact-docs/content/docs/modules/tools.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add frontmatter metadata for better SEO and navigation",
        "description": "The frontmatter is minimal with only title and description. MDX documentation files benefit from additional metadata like keywords, category, and sidebar position for improved discoverability and navigation structure.",
        "suggestion": "Expand frontmatter with additional metadata fields commonly used in documentation systems like Docusaurus, Nextra, or similar MDX-based documentation frameworks.",
        "code": {
          "before": "---\ntitle: Tools Module\ndescription: Configure CLI tools like lazygit, ripgrep, fzf, and more\n---",
          "after": "---\ntitle: Tools Module\ndescription: Configure CLI tools like lazygit, ripgrep, fzf, and more\nkeywords: [cli, tools, lazygit, ripgrep, fzf, bat, starship, configuration]\ncategory: modules\nsidebar_position: 3\nlastUpdated: true\n---",
          "startLine": 1,
          "endLine": 4
        }
      },
      {
        "file": "pact-docs/content/docs/modules/tools.mdx",
        "category": "style",
        "severity": "medium",
        "title": "Inconsistent code fence language identifiers",
        "description": "The document uses 'txt' for ripgrep and bat config files, but these are actually configuration files with specific syntax. Using 'conf' or 'config' would be more semantically accurate and consistent. Additionally, some code blocks lack language identifiers entirely.",
        "suggestion": "Use consistent and semantically correct language identifiers: 'conf' or 'config' for configuration files, 'bash' or 'shell' for shell commands, and ensure all code blocks have language identifiers for proper syntax highlighting.",
        "code": {
          "before": "```txt\n# bat.conf\n--theme=\"Catppuccin-mocha\"",
          "after": "```conf\n# bat.conf\n--theme=\"Catppuccin-mocha\"",
          "startLine": 97,
          "endLine": 102
        }
      },
      {
        "file": "pact-docs/content/docs/modules/tools.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Missing Windows configuration path in target paths table",
        "description": "The JSON configuration example shows Windows-specific paths for lazygit, but the comparison table at the end only includes macOS and Linux. This inconsistency creates confusion for Windows users and makes the documentation incomplete.",
        "suggestion": "Add a Windows column to the target paths table to match the configuration examples shown earlier in the document and provide complete cross-platform reference.",
        "code": {
          "before": "| Tool | macOS | Linux |\n|------|-------|-------|\n| lazygit | `~/Library/Application Support/lazygit/config.yml` | `~/.config/lazygit/config.yml` |\n| bat | `~/.config/bat/config` | `~/.config/bat/config` |\n| starship | `~/.config/starship.toml` | `~/.config/starship.toml` |\n| ripgrep | `~/.config/ripgrep/config` | `~/.config/ripgrep/config` |",
          "after": "| Tool | macOS | Linux | Windows |\n|------|-------|-------|----------|\n| lazygit | `~/Library/Application Support/lazygit/config.yml` | `~/.config/lazygit/config.yml` | `~/AppData/Local/lazygit/config.yml` |\n| bat | `~/.config/bat/config` | `~/.config/bat/config` | `~/AppData/Roaming/bat/config` |\n| starship | `~/.config/starship.toml` | `~/.config/starship.toml` | `~/AppData/Local/starship.toml` |\n| ripgrep | `~/.config/ripgrep/config` | `~/.config/ripgrep/config` | `~/AppData/Roaming/ripgrep/config` |",
          "startLine": 210,
          "endLine": 216
        }
      },
      {
        "file": "pact-docs/content/docs/modules/tools.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add shell examples for Windows users",
        "description": "The package installation examples only show Unix-style shell commands (bash/zsh). Windows users with PowerShell or cmd.exe would benefit from equivalent examples or at least a note about platform-specific installation methods.",
        "suggestion": "Provide PowerShell alternatives or add a note about cross-platform considerations. Consider using a tabbed interface in MDX (if supported by your framework) to show examples for different shells.",
        "code": {
          "before": "```bash\n# Install brew packages\nbrew install $(jq -r '.modules.tools.packages.brew | join(\" \")' .pact/pact.json)\n\n# Install npm packages globally\nnpm install -g $(jq -r '.modules.tools.packages.npm | join(\" \")' .pact/pact.json)\n```",
          "after": "```bash\n# Unix/macOS: Install brew packages\nbrew install $(jq -r '.modules.tools.packages.brew | join(\" \")' .pact/pact.json)\n\n# Unix/macOS: Install npm packages globally\nnpm install -g $(jq -r '.modules.tools.packages.npm | join(\" \")' .pact/pact.json)\n```\n\n```powershell\n# Windows PowerShell: Install npm packages globally\n$packages = (Get-Content .pact/pact.json | ConvertFrom-Json).modules.tools.packages.npm\nnpm install -g $packages\n```",
          "startLine": 143,
          "endLine": 149
        }
      },
      {
        "file": "pact-docs/content/docs/modules/tools.mdx",
        "category": "refactor",
        "severity": "low",
        "title": "Extract repeated configuration pattern into a reusable component note",
        "description": "The document repeatedly shows the same JSON structure pattern (source + target) for different tools. While the examples are clear, adding a reference section or using MDX components could reduce repetition and make updates easier.",
        "suggestion": "Consider adding a 'Configuration Schema' section early in the document that explains the source/target pattern once, then reference it in tool-specific examples. Alternatively, if your MDX setup supports it, create a reusable component for configuration examples.",
        "code": {
          "before": "## Configuration\n\n\n{\n  \"modules\": {\n    \"tools\": {\n      \"configs\": {\n        \"lazygit\": {\n          \"source\": \"./tools/lazygit.yml\",",
          "after": "## Configuration\n\nEach tool follows a standard configuration pattern:\n- `source`: Path to the config file in your pact repository\n- `target`: Destination path(s) where the config should be symlinked\n  - Can be a string for single-platform setups\n  - Can be an object with platform-specific paths (`darwin`, `linux`, `windows`)\n\n### Example Configuration\n\n\n{\n  \"modules\": {\n    \"tools\": {\n      \"configs\": {\n        \"lazygit\": {\n          \"source\": \"./tools/lazygit.yml\",",
          "startLine": 8,
          "endLine": 16
        }
      },
      {
        "file": "pact-docs/content/docs/modules/shell.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add code syntax highlighting language identifiers",
        "description": "The code fences for shell script examples use 'txt' and 'bash' inconsistently. The file structure example uses 'txt' which doesn't provide syntax highlighting. For MDX documentation, consistent and accurate language identifiers improve readability and user experience.",
        "suggestion": "Use consistent language identifiers for code blocks: 'bash' for shell scripts, 'tree' or 'text' for file structures, and 'powershell' for PowerShell (already correct).",
        "code": {
          "before": "```txt\nmy-pact/\n├── shell/\n│   ├── darwin.zshrc      # macOS zsh config",
          "after": "```text\nmy-pact/\n├── shell/\n│   ├── darwin.zshrc      # macOS zsh config",
          "startLine": 38,
          "endLine": 38
        }
      },
      {
        "file": "pact-docs/content/docs/modules/shell.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add troubleshooting section for common issues",
        "description": "The document mentions execution policy issues on Windows and sourcing order but doesn't provide actionable troubleshooting steps. Users encountering permission errors, path issues, or sourcing problems would benefit from a dedicated troubleshooting section with solutions.",
        "suggestion": "Add a 'Troubleshooting' section before 'Tips' that addresses common issues like Windows execution policies, symlink permission errors, shell not loading configurations, and path resolution problems.",
        "code": {
          "before": "## Tips\n\n1. **Backup first**: Before your first sync, backup your existing shell config",
          "after": "## Troubleshooting\n\n### Windows Execution Policy\n\nIf PowerShell blocks script execution:\n\n```powershell\n# Check current policy\nGet-ExecutionPolicy\n\n# Set policy for current user\nSet-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser\n```\n\n### Symlink Permissions (macOS/Linux)\n\nIf symlink creation fails:\n\n```bash\n# Check if target already exists\nls -la ~/.zshrc\n\n# Backup and remove existing file\nmv ~/.zshrc ~/.zshrc.backup\npact sync shell\n```\n\n### Configuration Not Loading\n\nIf changes don't appear:\n\n```bash\n# Verify symlink\nls -la ~/.zshrc  # Should show -> /path/to/.pact/shell/darwin.zshrc\n\n# Reload shell\nsource ~/.zshrc  # or open new terminal\n```\n\n## Tips\n\n1. **Backup first**: Before your first sync, backup your existing shell config",
          "startLine": 158,
          "endLine": 160
        }
      },
      {
        "file": "pact-docs/content/docs/modules/shell.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Clarify shared configuration implementation details",
        "description": "The 'Shared Configuration' section shows sourcing 'common.sh' from '~/.pact/shell/' but doesn't explain how Pact handles this file or whether it needs to be configured in pact.json. The path convention is unclear - is it relative to the repo or the synced location?",
        "suggestion": "Expand the shared configuration section with complete pact.json configuration showing how to sync the common.sh file, and clarify the sourcing path convention. Provide a full working example.",
        "code": {
          "before": "```txt\nshell/\n├── common.sh           # Shared aliases and functions\n├── darwin.zshrc        # Sources common.sh + macOS-specific\n└── linux.zshrc         # Sources common.sh + Linux-specific\n```\n\n```bash\n# darwin.zshrc\nsource ~/.pact/shell/common.sh\n\n# macOS-specific\nexport HOMEBREW_PREFIX=\"/opt/homebrew\"\neval \"$(/opt/homebrew/bin/brew shellenv)\"\n```",
          "after": "```text\nshell/\n├── common.sh           # Shared aliases and functions\n├── darwin.zshrc        # Sources common.sh + macOS-specific\n└── linux.zshrc         # Sources common.sh + Linux-specific\n```\n\n**pact.json configuration:**\n\n\n{\n  \"modules\": {\n    \"shell\": {\n      \"common\": {\n        \"source\": \"./shell/common.sh\",\n        \"target\": \"~/.config/pact/common.sh\",\n        \"strategy\": \"symlink\"\n      },\n      \"darwin\": {\n        \"source\": \"./shell/darwin.zshrc\",\n        \"target\": \"~/.zshrc\",\n        \"strategy\": \"symlink\"\n      }\n    }\n  }\n}\n```\n\n**common.sh:**\n\n```bash\n# Shared aliases\nalias ll=\"ls -la\"\nalias g=\"git\"\nalias gs=\"git status\"\n\n# Shared environment variables\nexport EDITOR=\"nvim\"\n```\n\n**darwin.zshrc:**\n\n```bash\n# Source shared configuration\nif [ -f ~/.config/pact/common.sh ]; then\n    source ~/.config/pact/common.sh\nfi\n\n# macOS-specific\nexport HOMEBREW_PREFIX=\"/opt/homebrew\"\neval \"$(/opt/homebrew/bin/brew shellenv)\"\n```",
          "startLine": 120,
          "endLine": 131
        }
      },
      {
        "file": "pact-docs/content/docs/modules/shell.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add validation and verification section",
        "description": "The document doesn't provide clear steps to verify that the configuration was applied correctly after running 'pact sync shell'. Users need to know how to confirm the symlinks/copies were created successfully and are pointing to the correct locations.",
        "suggestion": "Add a 'Verification' section after 'Syncing' that shows how to check if the sync was successful, including commands to verify symlink targets, file contents, and active shell configuration.",
        "code": {
          "before": "## Syncing\n\n```bash\n# Sync only shell configuration\npact sync shell\n\n# Interactive sync (select shell from list)\npact sync\n```\n\n## Tips",
          "after": "## Syncing\n\n```bash\n# Sync only shell configuration\npact sync shell\n\n# Interactive sync (select shell from list)\npact sync\n```\n\n## Verification\n\nAfter syncing, verify your configuration:\n\n**Check symlink (macOS/Linux):**\n\n```bash\n# Verify symlink exists and points correctly\nls -la ~/.zshrc\n# Should show: .zshrc -> /path/to/your-pact/shell/darwin.zshrc\n\n# Verify content\ncat ~/.zshrc\n```\n\n**Check copy (Windows):**\n\n```powershell\n# Verify file exists\nTest-Path $PROFILE\n\n# View content\nGet-Content $PROFILE\n```\n\n**Test configuration:**\n\n```bash\n# Reload shell (or open new terminal)\nsource ~/.zshrc  # macOS/Linux\n# -or-\n. $PROFILE  # PowerShell\n\n# Test an alias from your config\nll  # Should work if configured\n```\n\n## Tips",
          "startLine": 153,
          "endLine": 161
        }
      },
      {
        "file": "pact-docs/content/docs/modules/shell.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve callout block consistency and add missing information",
        "description": "The document uses callout-style blocks (blockquotes) inconsistently for the 'Strategy: Symlink vs Copy' section. Additionally, the strategy section could benefit from more context about when to use each approach beyond just Windows execution policies.",
        "suggestion": "Convert the strategy explanations to a proper comparison section with a table or definition list. Add more context about the trade-offs between symlink and copy strategies.",
        "code": {
          "before": "## Strategy: Symlink vs Copy\n\n\nUse `symlink` for most shell configs — changes in `.pact/` are immediately available in your shell.\n\n\nUse `copy` on Windows PowerShell if you encounter execution policy issues with symlinks.",
          "after": "## Strategy: Symlink vs Copy\n\nChoose the right strategy for your needs:\n\n| Strategy | When to Use | Advantages | Disadvantages |\n|----------|-------------|------------|---------------|\n| `symlink` | Default for macOS/Linux | Changes sync immediately; single source of truth | Requires symlink permissions |\n| `copy` | Windows or restricted environments | Works without special permissions; safer for production | Requires re-sync after changes |\n\n**Recommendations:**\n\n- **Use `symlink`** for development environments where you frequently edit configurations\n- **Use `copy`** on Windows PowerShell, systems with restricted permissions, or when you need stable configurations that don't auto-update\n\n> **Note**: After using `copy` strategy, run `pact sync shell` again to apply changes from your repository.",
          "startLine": 133,
          "endLine": 139
        }
      },
      {
        "file": "cli/internal/sync/sync.go",
        "category": "bug",
        "severity": "high",
        "title": "Incomplete error handling in copyFile can leave partially written files",
        "description": "The copyFile function defers targetFile.Close() but doesn't check the error return from Close(). If io.Copy succeeds but Close() fails (e.g., due to filesystem flush errors), the function returns nil, indicating success when the file may be incomplete. Additionally, if io.Copy fails, the partial file remains on disk.",
        "suggestion": "Check the Close() error and remove the target file on any error to prevent leaving corrupt partial files. Use a named return value or explicit error variable to track overall status.",
        "code": {
          "before": "func copyFile(source, target string) error {\n\tsourceFile, err := os.Open(source)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer sourceFile.Close()\n\n\ttargetFile, err := os.Create(target)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer targetFile.Close()\n\n\t_, err = io.Copy(targetFile, sourceFile)\n\tif err != nil {\n\t\treturn err\n\t}\n\n\t// Copy permissions\n\tsourceInfo, err := os.Stat(source)\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn os.Chmod(target, sourceInfo.Mode())\n}",
          "after": "func copyFile(source, target string) (err error) {\n\tsourceFile, err := os.Open(source)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer sourceFile.Close()\n\n\ttargetFile, err := os.Create(target)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer func() {\n\t\tif closeErr := targetFile.Close(); closeErr != nil && err == nil {\n\t\t\terr = closeErr\n\t\t}\n\t\tif err != nil {\n\t\t\t// Clean up partial file on error\n\t\t\tos.Remove(target)\n\t\t}\n\t}()\n\n\tif _, err = io.Copy(targetFile, sourceFile); err != nil {\n\t\treturn err\n\t}\n\n\t// Copy permissions\n\tsourceInfo, err := os.Stat(source)\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn os.Chmod(target, sourceInfo.Mode())\n}",
          "startLine": 138,
          "endLine": 158
        }
      },
      {
        "file": "cli/internal/sync/sync.go",
        "category": "optimization",
        "severity": "medium",
        "title": "Add concurrency for parallel sync operations",
        "description": "SyncAll and SyncModule process items sequentially, which can be slow when syncing many files or large directories. Since each sync operation is independent, they can be safely parallelized. Use goroutines with a sync.WaitGroup and a buffered channel to limit concurrency and collect results safely.",
        "suggestion": "Introduce a worker pool pattern to sync items concurrently while maintaining order in results. This is idiomatic Go for I/O-bound operations and significantly improves performance.",
        "code": {
          "before": "func SyncAll(cfg *config.PactConfig) ([]Result, error) {\n\titems, err := cfg.GetSyncItems()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tvar results []Result\n\tfor _, item := range items {\n\t\tresult := syncItem(item)\n\t\tresults = append(results, result)\n\t}\n\n\treturn results, nil\n}",
          "after": "func SyncAll(cfg *config.PactConfig) ([]Result, error) {\n\titems, err := cfg.GetSyncItems()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tresults := make([]Result, len(items))\n\tvar wg sync.WaitGroup\n\tsem := make(chan struct{}, 4) // Limit to 4 concurrent operations\n\n\tfor i, item := range items {\n\t\twg.Add(1)\n\t\tgo func(idx int, itm config.SyncItem) {\n\t\t\tdefer wg.Done()\n\t\t\tsem <- struct{}{} // Acquire\n\t\t\tdefer func() { <-sem }() // Release\n\t\t\tresults[idx] = syncItem(itm)\n\t\t}(i, item)\n\t}\n\n\twg.Wait()\n\treturn results, nil\n}",
          "startLine": 22,
          "endLine": 34
        }
      },
      {
        "file": "cli/internal/sync/sync.go",
        "category": "bug",
        "severity": "medium",
        "title": "Symlink creation ignores isDir parameter and may fail on Windows",
        "description": "The createSymlink function accepts an isDir parameter but never uses it. On Windows, os.Symlink requires different handling for directories vs files. The current implementation may fail silently or create incorrect symlinks on Windows systems. The isDir parameter should be used to determine the correct symlink type.",
        "suggestion": "Use the isDir parameter to handle platform-specific symlink creation. On Windows, you may need to use syscall-specific functions or document platform limitations. At minimum, remove the unused parameter or implement it correctly.",
        "code": {
          "before": "func createSymlink(source, target string, isDir bool) error {\n\t// Convert to absolute path for symlink\n\tabsSource, err := filepath.Abs(source)\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to get absolute path: %w\", err)\n\t}\n\n\tif err := os.Symlink(absSource, target); err != nil {\n\t\treturn fmt.Errorf(\"failed to create symlink: %w\", err)\n\t}\n\n\treturn nil\n}",
          "after": "func createSymlink(source, target string, isDir bool) error {\n\t// Convert to absolute path for symlink\n\tabsSource, err := filepath.Abs(source)\n\tif err != nil {\n\t\treturn fmt.Errorf(\"failed to get absolute path: %w\", err)\n\t}\n\n\t// On Windows, directory symlinks require special handling\n\t// For now, document limitation or use build tags for platform-specific code\n\tif err := os.Symlink(absSource, target); err != nil {\n\t\treturn fmt.Errorf(\"failed to create symlink (dirs may require admin on Windows): %w\", err)\n\t}\n\n\treturn nil\n}",
          "startLine": 127,
          "endLine": 138
        }
      },
      {
        "file": "cli/internal/sync/sync.go",
        "category": "refactor",
        "severity": "medium",
        "title": "Add context.Context for cancellation support in long-running operations",
        "description": "The sync operations (especially copyDir for large directory trees) can take significant time but have no cancellation mechanism. This makes the CLI unresponsive to Ctrl+C and prevents graceful shutdown. Adding context.Context is idiomatic Go for cancellable operations and allows users to interrupt long-running syncs.",
        "suggestion": "Thread context.Context through the public API functions and check ctx.Err() in loops (like copyDir iteration). This enables cancellation and timeout support, making the tool more robust and user-friendly.",
        "code": {
          "before": "func SyncAll(cfg *config.PactConfig) ([]Result, error) {\n\titems, err := cfg.GetSyncItems()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tvar results []Result\n\tfor _, item := range items {\n\t\tresult := syncItem(item)\n\t\tresults = append(results, result)\n\t}\n\n\treturn results, nil\n}",
          "after": "func SyncAll(ctx context.Context, cfg *config.PactConfig) ([]Result, error) {\n\titems, err := cfg.GetSyncItems()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tvar results []Result\n\tfor _, item := range items {\n\t\tif err := ctx.Err(); err != nil {\n\t\t\treturn results, fmt.Errorf(\"sync cancelled: %w\", err)\n\t\t}\n\t\tresult := syncItem(ctx, item)\n\t\tresults = append(results, result)\n\t}\n\n\treturn results, nil\n}",
          "startLine": 22,
          "endLine": 34
        }
      },
      {
        "file": "cli/internal/sync/sync.go",
        "category": "style",
        "severity": "low",
        "title": "Use consistent error message formatting",
        "description": "Error messages in the codebase mix capitalization styles and punctuation. Some start with lowercase (\"source not found\"), some with uppercase, and some include colons. Go style guide recommends lowercase error messages without trailing punctuation unless they're multi-sentence. Consistency improves code readability and professionalism.",
        "suggestion": "Standardize all error messages to start with lowercase and avoid trailing punctuation, following Go conventions. Use error wrapping with %w consistently for better error chains.",
        "code": {
          "before": "if err != nil {\n\tresult.Error = fmt.Errorf(\"source not found: %s\", item.Source)\n\treturn result\n}\n// ...\nif err := os.MkdirAll(targetDir, 0755); err != nil {\n\tresult.Error = fmt.Errorf(\"failed to create target directory: %w\", err)\n\treturn result\n}",
          "after": "if err != nil {\n\tresult.Error = fmt.Errorf(\"source not found %s: %w\", item.Source, err)\n\treturn result\n}\n// ...\nif err := os.MkdirAll(targetDir, 0755); err != nil {\n\tresult.Error = fmt.Errorf(\"create target directory: %w\", err)\n\treturn result\n}",
          "startLine": 68,
          "endLine": 84
        }
      },
      {
        "file": "web/src/lib/assets/favicon.svg",
        "category": "style",
        "severity": "medium",
        "title": "Replace inline styles with class-based styling for better maintainability",
        "description": "The SVG uses inline `style` attributes for fill colors, which makes it harder to modify colors dynamically, apply themes, or maintain consistency across multiple icons. Using CSS classes or presentation attributes would improve maintainability and enable easier customization.",
        "suggestion": "Replace `style` attributes with either the `fill` presentation attribute or define CSS classes. The `fill` attribute is preferred for simple cases as it's more concise and works consistently across different rendering contexts.",
        "code": {
          "before": "<path d=\"M94.157 22.819...\" style=\"fill:#ff3e00\"/><path d=\"M45.817 106.582...\" style=\"fill:#fff\"/>",
          "after": "<path d=\"M94.157 22.819...\" fill=\"#ff3e00\"/><path d=\"M45.817 106.582...\" fill=\"#fff\"/>",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/assets/favicon.svg",
        "category": "optimization",
        "severity": "low",
        "title": "Add viewBox-only dimensions for better scalability",
        "description": "The SVG includes explicit `width` and `height` attributes alongside `viewBox`. While not harmful, removing these attributes allows the SVG to scale more flexibly in different contexts (responsive web design, different icon sizes) while maintaining aspect ratio through viewBox alone.",
        "suggestion": "Consider removing the explicit width and height attributes, keeping only the viewBox. This allows consuming applications to control the SVG size through CSS while maintaining the aspect ratio defined in viewBox.",
        "code": {
          "before": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"107\" height=\"128\" viewBox=\"0 0 107 128\">",
          "after": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 107 128\">",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/assets/favicon.svg",
        "category": "documentation",
        "severity": "low",
        "title": "Enhance accessibility with proper aria attributes and description",
        "description": "The SVG uses a generic `<title>` element but lacks proper accessibility attributes. For a favicon/logo that conveys meaning, adding `role`, `aria-labelledby`, and potentially a `<desc>` element would improve accessibility for screen readers.",
        "suggestion": "Add proper ARIA attributes and structure the accessibility metadata correctly. Replace the simple title with an id-referenced system and add a description if this logo appears in content (not just as a favicon).",
        "code": {
          "before": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"107\" height=\"128\" viewBox=\"0 0 107 128\"><title>svelte-logo</title>",
          "after": "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 107 128\" role=\"img\" aria-labelledby=\"svelte-logo-title\"><title id=\"svelte-logo-title\">Svelte Logo</title>",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/assets/favicon.svg",
        "category": "optimization",
        "severity": "low",
        "title": "Round path coordinates to reduce file size",
        "description": "The path data contains high-precision decimal values that may be unnecessarily precise for a favicon/logo display. Rounding coordinates to 2-3 decimal places can reduce file size by 10-20% without visible quality loss at typical display sizes.",
        "suggestion": "Use an SVG optimization tool (like SVGO) to round path coordinates to 2-3 decimal places. This reduces file size while maintaining visual fidelity. For manual optimization, round values like '106.582' to '106.58' and '22.819' to '22.82'.",
        "code": {
          "before": "M94.157 22.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282 29.608",
          "after": "M94.16 22.82c-10.4-14.89-30.94-19.3-45.79-9.84L22.28 29.61",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/assets/favicon.svg",
        "category": "style",
        "severity": "medium",
        "title": "Add semantic grouping with <g> elements",
        "description": "The two paths represent distinct visual elements (background shape and foreground 'S' logo) but are not semantically grouped. Adding `<g>` elements with descriptive IDs or classes would improve code organization and make it easier to target specific parts for styling or animation.",
        "suggestion": "Wrap each path in a `<g>` element with a descriptive class or id to indicate its semantic purpose (e.g., 'background' and 'logo-mark').",
        "code": {
          "before": "<path d=\"M94.157...\" style=\"fill:#ff3e00\"/><path d=\"M45.817...\" style=\"fill:#fff\"/>",
          "after": "<g class=\"background\"><path d=\"M94.157...\" fill=\"#ff3e00\"/></g><g class=\"logo-mark\"><path d=\"M45.817...\" fill=\"#fff\"/></g>",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "Pact-readme-logo.png",
        "category": "documentation",
        "severity": "high",
        "title": "Incorrect File Type for Code Analysis",
        "description": "The provided file is a PNG image (Portable Network Graphics), not source code. PNG files contain binary image data and cannot be analyzed for code quality metrics like readability, error handling, or performance optimizations. The file appears to be a logo image for a project called 'Pact' based on the filename and embedded metadata.",
        "suggestion": "If you need code analysis, please provide actual source code files (e.g., .js, .py, .java, .ts, .cpp, etc.). If you need image optimization advice for this PNG file, that would be a different type of analysis focusing on image compression, dimensions, and web optimization.",
        "code": null
      },
      {
        "file": "Pact-readme-logo.png",
        "category": "documentation",
        "severity": "medium",
        "title": "Image Metadata Contains Creation Information",
        "description": "The PNG file contains XMP metadata indicating it was created with Canva on 2025-12-10 by Jack Horton. This metadata adds to the file size without providing value for most web use cases.",
        "suggestion": "If this image is for web use, consider stripping unnecessary metadata to reduce file size. Tools like ImageOptim, TinyPNG, or image optimization libraries can remove metadata while preserving image quality.",
        "code": null
      },
      {
        "file": "Pact-readme-logo.png",
        "category": "optimization",
        "severity": "low",
        "title": "Large File Size for Logo Image",
        "description": "Without seeing the actual dimensions and content, this PNG file appears to be relatively large based on the encoded data length. Logo images should typically be optimized for web delivery.",
        "suggestion": "Consider: 1) Using appropriate compression settings, 2) Evaluating if SVG format would be more appropriate for a logo (scalable and typically smaller), 3) Creating multiple sizes for responsive web design, 4) Using modern formats like WebP as an alternative with PNG fallback.",
        "code": null
      },
      {
        "file": "pact-docs/content/docs/reference/schema.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add complete schema documentation with all available modules",
        "description": "The basic structure shows six module types (shell, editor, git, ai, tools, theme) but provides no documentation about what each module does, what fields they support, or examples of their usage. This leaves users without critical information needed to configure their pact.json files effectively.",
        "suggestion": "Add a dedicated section for each module type with descriptions, supported fields, and practical examples. This will help users understand the full capabilities of the configuration system.",
        "code": {
          "before": "## Basic Structure\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"username\",\n  \"modules\": {\n    \"shell\": {},\n    \"editor\": {},\n    \"git\": {},\n    \"ai\": {},\n    \"tools\": {},\n    \"theme\": {}\n  },\n  \"secrets\": []\n}\n```",
          "after": "## Basic Structure\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"username\",\n  \"modules\": {\n    \"shell\": {},\n    \"editor\": {},\n    \"git\": {},\n    \"ai\": {},\n    \"tools\": {},\n    \"theme\": {}\n  },\n  \"secrets\": []\n}\n```\n\n## Modules\n\n### Shell Module\n\nConfiguration for shell dotfiles (`.bashrc`, `.zshrc`, etc.).\n\n\n{\n  \"shell\": {\n    \"bashrc\": {\n      \"source\": \"./shell/bashrc\",\n      \"target\": \"~/.bashrc\",\n      \"strategy\": \"symlink\"\n    }\n  }\n}\n```\n\n### Editor Module\n\nConfiguration for text editors and IDEs.\n\n\n{\n  \"editor\": {\n    \"vimrc\": {\n      \"source\": \"./editor/vimrc\",\n      \"target\": \"~/.vimrc\"\n    }\n  }\n}\n```\n\n[Continue for other modules...]",
          "startLine": 8,
          "endLine": 25
        }
      },
      {
        "file": "pact-docs/content/docs/reference/schema.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Document the OS-specific target object format",
        "description": "The table mentions that 'target' can be 'string or object' for OS-specific paths, but doesn't show what the object structure looks like. Users need to know the exact syntax for platform-specific configurations.",
        "suggestion": "Add a detailed example showing the object format for OS-specific targets with all supported operating systems.",
        "code": {
          "before": "| `target` | string or object | Yes | Target path or OS-specific paths |",
          "after": "| `target` | string or object | Yes | Target path or OS-specific paths |\n\n#### OS-Specific Targets\n\nWhen you need different target paths for different operating systems:\n\n\n{\n  \"source\": \"./config/settings.json\",\n  \"target\": {\n    \"darwin\": \"~/Library/Application Support/App/settings.json\",\n    \"linux\": \"~/.config/app/settings.json\",\n    \"win32\": \"%APPDATA%\\\\App\\\\settings.json\"\n  }\n}\n```\n\nSupported OS identifiers:\n- `darwin` - macOS\n- `linux` - Linux distributions\n- `win32` - Windows",
          "startLine": 38,
          "endLine": 38
        }
      },
      {
        "file": "pact-docs/content/docs/reference/schema.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add documentation for the secrets array structure",
        "description": "The basic structure includes a 'secrets' array but provides no information about what it contains, how secrets are structured, or how they're used. This is critical for security-related functionality.",
        "suggestion": "Add a dedicated section explaining the secrets schema, including field definitions, examples, and security best practices.",
        "code": {
          "before": "### Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `source` | string | Yes | Path relative to `.pact/` |\n| `target` | string or object | Yes | Target path or OS-specific paths |\n| `strategy` | string | No | `symlink` (default) or `copy` |",
          "after": "### Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `source` | string | Yes | Path relative to `.pact/` |\n| `target` | string or object | Yes | Target path or OS-specific paths |\n| `strategy` | string | No | `symlink` (default) or `copy` |\n\n## Secrets Schema\n\nSecrets are environment variables or sensitive configuration values.\n\n\n{\n  \"secrets\": [\n    {\n      \"key\": \"API_KEY\",\n      \"description\": \"API key for service X\",\n      \"required\": true\n    },\n    {\n      \"key\": \"DATABASE_URL\",\n      \"description\": \"Database connection string\",\n      \"required\": false\n    }\n  ]\n}\n```\n\n### Secret Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `key` | string | Yes | Environment variable name |\n| `description` | string | No | Human-readable description |\n| `required` | boolean | No | Whether the secret is required (default: false) |",
          "startLine": 32,
          "endLine": 38
        }
      },
      {
        "file": "pact-docs/content/docs/reference/schema.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add version field documentation and validation rules",
        "description": "The 'version' and 'user' fields in the basic structure are not documented. Users need to know if specific version formats are required, whether semantic versioning is used, and what the 'user' field represents.",
        "suggestion": "Add a 'Root Fields' section that documents top-level schema properties with their purpose, format requirements, and examples.",
        "code": {
          "before": "Complete schema reference for `pact.json`.\n\n## Basic Structure",
          "after": "Complete schema reference for `pact.json`.\n\n## Root Fields\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `version` | string | Yes | Schema version (semantic versioning: `major.minor.patch`) |\n| `user` | string | Yes | Username or identifier for the configuration owner |\n| `modules` | object | No | Module configuration object |\n| `secrets` | array | No | Array of secret definitions |\n\n**Example:**\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"john_doe\"\n}\n```\n\n## Basic Structure",
          "startLine": 6,
          "endLine": 8
        }
      },
      {
        "file": "pact-docs/content/docs/reference/schema.mdx",
        "category": "documentation",
        "severity": "low",
        "title": "Add a complete working example at the end",
        "description": "The document shows fragments of the schema but lacks a comprehensive, real-world example that ties everything together. A complete example helps users understand how all pieces work together.",
        "suggestion": "Add a 'Complete Example' section at the end showing a fully populated pact.json with multiple modules, OS-specific targets, and secrets.",
        "code": {
          "before": "| `strategy` | string | No | `symlink` (default) or `copy` |",
          "after": "| `strategy` | string | No | `symlink` (default) or `copy` |\n\n## Complete Example\n\nHere's a comprehensive example combining all schema features:\n\n\n{\n  \"version\": \"1.0.0\",\n  \"user\": \"jane_developer\",\n  \"modules\": {\n    \"shell\": {\n      \"zshrc\": {\n        \"source\": \"./shell/zshrc\",\n        \"target\": \"~/.zshrc\",\n        \"strategy\": \"symlink\"\n      }\n    },\n    \"editor\": {\n      \"vscode\": {\n        \"source\": \"./editor/vscode/settings.json\",\n        \"target\": {\n          \"darwin\": \"~/Library/Application Support/Code/User/settings.json\",\n          \"linux\": \"~/.config/Code/User/settings.json\",\n          \"win32\": \"%APPDATA%\\\\Code\\\\User\\\\settings.json\"\n        },\n        \"strategy\": \"copy\"\n      }\n    },\n    \"git\": {\n      \"gitconfig\": {\n        \"source\": \"./git/gitconfig\",\n        \"target\": \"~/.gitconfig\"\n      }\n    }\n  },\n  \"secrets\": [\n    {\n      \"key\": \"GITHUB_TOKEN\",\n      \"description\": \"GitHub personal access token\",\n      \"required\": true\n    }\n  ]\n}\n```",
          "startLine": 38,
          "endLine": 38
        }
      },
      {
        "file": "pact-docs/content/docs/cli/secrets.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add cross-platform secret retrieval examples",
        "description": "The 'Using Secrets' section only shows macOS-specific commands using the `security` command. Users on Linux and Windows need platform-appropriate examples for accessing stored secrets, especially since the document explicitly supports these platforms.",
        "suggestion": "Provide platform-specific code examples for retrieving secrets on all three supported OS platforms. Use a tabbed or conditional format to show the appropriate command for each platform.",
        "code": {
          "before": "## Using Secrets\n\nSecrets are available as environment variables when you need them. You can reference them in your shell config:\n\n```bash\n# In your .zshrc\nexport ANTHROPIC_API_KEY=$(security find-generic-password -s \"pact\" -a \"ANTHROPIC_API_KEY\" -w 2>/dev/null)\n```\n\nOr use tools that read from the keychain directly.",
          "after": "## Using Secrets\n\nSecrets are available as environment variables when you need them. You can reference them in your shell config:\n\n**macOS:**\n```bash\n# In your .zshrc or .bashrc\nexport ANTHROPIC_API_KEY=$(security find-generic-password -s \"pact\" -a \"ANTHROPIC_API_KEY\" -w 2>/dev/null)\n```\n\n**Linux:**\n```bash\n# In your .bashrc or .zshrc\nexport ANTHROPIC_API_KEY=$(secret-tool lookup service pact username ANTHROPIC_API_KEY 2>/dev/null)\n```\n\n**Windows (PowerShell):**\n```powershell\n# In your PowerShell profile\n$cred = cmdkey /list:\"pact:ANTHROPIC_API_KEY\" 2>$null\nif ($cred) {\n    $env:ANTHROPIC_API_KEY = (cmdkey /generic:\"pact:ANTHROPIC_API_KEY\" /user:\"pact\" /pass 2>$null)\n}\n```\n\nOr use tools that read from the keychain directly.",
          "startLine": 80,
          "endLine": 88
        }
      },
      {
        "file": "pact-docs/content/docs/cli/secrets.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Enhance error handling documentation with common failure scenarios",
        "description": "The troubleshooting section covers basic setup issues but misses common operational errors users might encounter, such as permission errors when setting secrets, network issues, or corruption of keychain data. Adding these scenarios would improve user experience and reduce support requests.",
        "suggestion": "Add subsections for common runtime errors with clear error messages and resolution steps, including permission denied during secret set operations and keychain corruption scenarios.",
        "code": {
          "before": "### Secret not found after machine restart\n\nThe keyring daemon may need to be unlocked. On Linux, this usually happens automatically at login.",
          "after": "### Secret not found after machine restart\n\nThe keyring daemon may need to be unlocked. On Linux, this usually happens automatically at login.\n\n### \"Permission denied\" when setting secrets\n\nIf you see permission errors when running `pact secret set`:\n\n**macOS:** Reset Keychain permissions for Terminal:\n```bash\nsecurity set-keychain-settings ~/Library/Keychains/login.keychain-db\n```\n\n**Linux:** Ensure your user owns the keyring:\n```bash\nchown -R $USER:$USER ~/.local/share/keyrings/\n```\n\n### Keychain appears corrupted or secrets missing\n\nIf secrets were previously set but are no longer accessible:\n\n1. List all pact-related secrets: `pact secret list`\n2. Back up and reset if needed (secrets will need to be re-entered)\n3. Check system logs for keychain errors: `journalctl -xe` (Linux) or Console.app (macOS)",
          "startLine": 147,
          "endLine": 149
        }
      },
      {
        "file": "pact-docs/content/docs/cli/secrets.mdx",
        "category": "style",
        "severity": "low",
        "title": "Improve consistency in code block language identifiers",
        "description": "Some code blocks use 'bash' while outputs/examples should use 'console' or 'shell' to better represent interactive terminal sessions. This helps documentation tools and syntax highlighters render content more appropriately.",
        "suggestion": "Use 'bash' for executable scripts and 'console' for interactive terminal sessions showing prompts and output. This improves semantic clarity and rendering across different documentation platforms.",
        "code": {
          "before": "```bash\n$ pact secret set ANTHROPIC_API_KEY\nEnter value: ****************************\n✓ Secret stored in keychain\n```",
          "after": "```console\n$ pact secret set ANTHROPIC_API_KEY\nEnter value: ****************************\n✓ Secret stored in keychain\n```",
          "startLine": 24,
          "endLine": 28
        }
      },
      {
        "file": "pact-docs/content/docs/cli/secrets.mdx",
        "category": "documentation",
        "severity": "high",
        "title": "Add security implications for multi-user systems",
        "description": "The documentation doesn't address important security considerations for shared or multi-user systems. Users need to understand that secrets stored in the OS keychain may be accessible to other users with sufficient privileges, and should be aware of best practices for securing their keychain itself.",
        "suggestion": "Add a dedicated section explaining keychain security model, per-user isolation, and recommendations for securing the keychain itself, especially on shared systems.",
        "code": {
          "before": "## Security Best Practices\n\n\n**Never** commit secrets to your pact repo. The `secrets` array in `pact.json` only declares what secrets exist — the values are stored locally.\n\n\n1. **Use unique keys per service**: Don't reuse API keys across services\n2. **Rotate keys regularly**: Update your secrets periodically\n3. **Use minimal permissions**: API keys should have only needed scopes\n4. **Monitor usage**: Check your API provider dashboards for unusual activity",
          "after": "## Security Best Practices\n\n\n**Never** commit secrets to your pact repo. The `secrets` array in `pact.json` only declares what secrets exist — the values are stored locally.\n\n\n### Secret Storage Security\n\n1. **Per-user isolation**: Secrets are stored in your user's keychain and are isolated from other users\n2. **Keychain protection**: Your OS keychain is encrypted and protected by your login password\n3. **Shared systems**: On multi-user systems, ensure your user account has a strong password\n4. **Keychain lock**: Configure your keychain to lock automatically:\n   - **macOS**: Keychain Access > Preferences > Lock after X minutes of inactivity\n   - **Linux**: Settings > Privacy > Screen Lock with keyring lock on sleep\n   - **Windows**: Credential Manager locks with Windows lock screen\n\n### API Key Management\n\n1. **Use unique keys per service**: Don't reuse API keys across services\n2. **Rotate keys regularly**: Update your secrets periodically\n3. **Use minimal permissions**: API keys should have only needed scopes\n4. **Monitor usage**: Check your API provider dashboards for unusual activity\n5. **Separate environments**: Use different API keys for development and production",
          "startLine": 108,
          "endLine": 117
        }
      },
      {
        "file": "pact-docs/content/docs/cli/secrets.mdx",
        "category": "documentation",
        "severity": "medium",
        "title": "Add links to official pact commands and cross-references",
        "description": "The document references other pact commands like 'pact edit' and 'pact init' without explaining them or linking to their documentation. Adding internal cross-references would improve discoverability and help users understand the complete workflow.",
        "suggestion": "Add MDX links to related commands and create a 'See Also' section at the end of the document referencing related topics like configuration management and module setup.",
        "code": {
          "before": "```bash\n# 1. Add secret to pact.json\npact edit\n# Add \"ANTHROPIC_API_KEY\" to the secrets array\n\n# 2. Set the secret value\npact secret set ANTHROPIC_API_KEY\n# Enter your API key\n\n# 3. Verify it's set\npact secret list\n\n# 4. On a new machine after pact init\npact secret list\n# Shows ANTHROPIC_API_KEY as \"not set\"\n\npact secret set ANTHROPIC_API_KEY\n# Enter your API key for this machine\n```",
          "after": "```bash\n# 1. Add secret to pact.json\npact edit  # See: pact edit command documentation\n# Add \"ANTHROPIC_API_KEY\" to the secrets array\n\n# 2. Set the secret value\npact secret set ANTHROPIC_API_KEY\n# Enter your API key\n\n# 3. Verify it's set\npact secret list\n\n# 4. On a new machine after pact init\npact secret list  # See: pact init command documentation\n# Shows ANTHROPIC_API_KEY as \"not set\"\n\npact secret set ANTHROPIC_API_KEY\n# Enter your API key for this machine\n```\n\n## See Also\n\n- [pact init](/docs/cli/init) - Initialize a new pact repository\n- [pact edit](/docs/cli/edit) - Edit pact.json configuration\n- [pact.json Reference](/docs/configuration/pact-json) - Configuration file format\n- [Security Guide](/docs/guides/security) - Comprehensive security practices",
          "startLine": 90,
          "endLine": 106
        }
      },
      {
        "file": "web/src/routes/setup/+page.svelte",
        "category": "refactor",
        "severity": "high",
        "title": "Extract pactTemplate constant outside component scope",
        "description": "The large pactTemplate object is currently defined inside the component script, which means it's recreated on every component instantiation. This is unnecessary memory allocation and reduces code organization. Large static configuration objects should be moved outside the component scope or into a separate configuration file.",
        "suggestion": "Move pactTemplate to a separate file or as a module-level constant above the component script. This improves testability, reusability, and performance by preventing recreation on each mount.",
        "code": {
          "before": "<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { goto } from '$app/navigation';\n\t// ... other imports\n\n\tconst pactTemplate = {\n\t\tversion: '1.0.0',\n\t\tuser: '',\n\t\tmodules: {\n\t\t\t// ... large object\n\t\t}\n\t};\n</script>",
          "after": "// Create new file: $lib/config/pact-template.ts\nexport const PACT_TEMPLATE = {\n\tversion: '1.0.0',\n\tuser: '',\n\tmodules: {\n\t\t// ... large object\n\t}\n} as const;\n\n// In +page.svelte:\n<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { goto } from '$app/navigation';\n\timport { PACT_TEMPLATE } from '$lib/config/pact-template';\n\t// ... rest of component\n</script>",
          "startLine": 8,
          "endLine": 77
        }
      },
      {
        "file": "web/src/routes/setup/+page.svelte",
        "category": "bug",
        "severity": "high",
        "title": "Missing error handling for auth store values",
        "description": "The code uses $auth.token! and $auth.user!.login with non-null assertions throughout, but if these values become null/undefined at runtime (e.g., token expiration during setup), it will cause runtime errors. The isAuthenticated check in onMount doesn't guarantee these values remain valid during async operations.",
        "suggestion": "Add defensive checks before using auth values in async operations, especially in createPact function. This prevents potential crashes if authentication state changes during the setup process.",
        "code": {
          "before": "async function createPact() {\n\tstate = 'creating';\n\terror = '';\n\n\ttry {\n\t\tconst github = new GitHubClient($auth.token!);\n\t\tconst username = $auth.user!.login;",
          "after": "async function createPact() {\n\tstate = 'creating';\n\terror = '';\n\n\ttry {\n\t\tif (!$auth.token || !$auth.user) {\n\t\t\tthrow new Error('Authentication expired. Please sign in again.');\n\t\t}\n\t\t\n\t\tconst github = new GitHubClient($auth.token);\n\t\tconst username = $auth.user.login;",
          "startLine": 106,
          "endLine": 112
        }
      },
      {
        "file": "web/src/routes/setup/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Simplify step status updates with a helper function",
        "description": "The pattern of updating step status and triggering reactivity with 'steps = steps' is repeated multiple times. This is verbose and error-prone. Svelte's reactivity requires reassignment, but this can be abstracted into a helper function for better maintainability.",
        "suggestion": "Create a helper function to update step status that handles the reactivity trigger. This reduces code duplication and makes the intent clearer.",
        "code": {
          "before": "// Step 1: Create repository\nsteps[0].status = 'active';\nsteps = steps;\n\nawait github.createRepo();\n\n// Wait for GitHub to initialize the repo\nawait new Promise(resolve => setTimeout(resolve, 2000));\n\nsteps[0].status = 'complete';\nsteps = steps;\n\n// Step 2: Create pact.json\nsteps[1].status = 'active';\nsteps = steps;",
          "after": "function updateStepStatus(index: number, status: typeof steps[0]['status']) {\n\tsteps[index].status = status;\n\tsteps = steps;\n}\n\n// Step 1: Create repository\nupdateStepStatus(0, 'active');\n\nawait github.createRepo();\n\n// Wait for GitHub to initialize the repo\nawait new Promise(resolve => setTimeout(resolve, 2000));\n\nupdateStepStatus(0, 'complete');\n\n// Step 2: Create pact.json\nupdateStepStatus(1, 'active');",
          "startLine": 114,
          "endLine": 127
        }
      },
      {
        "file": "web/src/routes/setup/+page.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Remove unnecessary spread operator in pactTemplate usage",
        "description": "The code uses '{ ...pactTemplate, user: username }' to create a config object, but since pactTemplate is only used once and never mutated elsewhere, this spread operation creates an unnecessary shallow copy. Additionally, the template object could benefit from type safety.",
        "suggestion": "Define a typed interface for the pact configuration and consider mutating the template directly or using Object.assign if performance is critical. Better yet, structure the template as a function that returns the configured object.",
        "code": {
          "before": "const config = { ...pactTemplate, user: username };\nawait github.updateFile(\n\tusername,\n\t'pact.json',\n\tJSON.stringify(config, null, 2),\n\t'Initialize pact.json'\n);",
          "after": "// Define as a function in pact-template.ts\nexport function createPactConfig(username: string) {\n\treturn {\n\t\tversion: '1.0.0',\n\t\tuser: username,\n\t\tmodules: { /* ... */ },\n\t\tsecrets: [ /* ... */ ]\n\t};\n}\n\n// In component:\nconst config = createPactConfig(username);\nawait github.updateFile(\n\tusername,\n\t'pact.json',\n\tJSON.stringify(config, null, 2),\n\t'Initialize pact.json'\n);",
          "startLine": 129,
          "endLine": 135
        }
      },
      {
        "file": "web/src/routes/setup/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract error state reset logic into a reusable function",
        "description": "The 'Try again' button in the error state has inline logic that resets the state and steps. This logic is complex and embedded in the template, making it harder to test and maintain. It should be extracted to a named function.",
        "suggestion": "Create a resetSetup() function that handles all the state reset logic. This improves readability, testability, and makes the intent of the button click clearer.",
        "code": {
          "before": "<button\n\ton:click={() => { state = 'confirm'; error = ''; steps = steps.map(s => ({ ...s, status: 'pending' })); }}\n\tclass=\"flex-1 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors text-sm\"\n>\n\tTry again\n</button>",
          "after": "function resetSetup() {\n\tstate = 'confirm';\n\terror = '';\n\tsteps = steps.map(s => ({ ...s, status: 'pending' as const }));\n}\n\n// In template:\n<button\n\ton:click={resetSetup}\n\tclass=\"flex-1 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors text-sm\"\n>\n\tTry again\n</button>",
          "startLine": 268,
          "endLine": 272
        }
      },
      {
        "file": "pact-clear-logo.png",
        "category": "documentation",
        "severity": "high",
        "title": "PNG image file provided instead of source code",
        "description": "The file 'pact-clear-logo.png' is a binary PNG image file (400x400 pixels) containing a logo, not source code that can be analyzed for code quality. The file contains image data with embedded XMP metadata indicating it was created with Canva on 2025-12-10.",
        "suggestion": "To perform code quality analysis, please provide the actual source code file (e.g., JavaScript, Python, Java, etc.) instead of an image file. If you need to analyze code from a screenshot, consider using OCR first, though this is not recommended for accurate code review.",
        "code": {
          "before": "Binary PNG image file",
          "after": "Source code file in a supported programming language (e.g., .js, .py, .java, .ts, .go, etc.)",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-clear-logo.png",
        "category": "style",
        "severity": "medium",
        "title": "File extension mismatch",
        "description": "The file has a .png extension indicating it's an image file, but the analysis request treats it as if it contains code. This suggests either the wrong file was uploaded or there's confusion about what should be analyzed.",
        "suggestion": "Verify that the correct file was uploaded. If you intended to analyze a logo design or image composition, that would require different tooling (design review rather than code linting). If you have source code to analyze, please upload files with appropriate extensions like .js, .py, .tsx, etc.",
        "code": {
          "before": "pact-clear-logo.png",
          "after": "pact-clear-logo.js (or appropriate source code file)",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-clear-logo.png",
        "category": "documentation",
        "severity": "low",
        "title": "Image metadata present",
        "description": "The PNG file contains XMP metadata identifying the author as 'Jack Horton' and creation tool as Canva. While not a code issue, this metadata could be stripped for smaller file sizes in production if this logo is used in a web application.",
        "suggestion": "If this logo is intended for web use, consider optimizing the PNG by removing unnecessary metadata and running it through image optimization tools like ImageOptim, TinyPNG, or similar to reduce file size without quality loss.",
        "code": {
          "before": "PNG with embedded XMP metadata (increases file size)",
          "after": "Optimized PNG with metadata stripped (reduced file size for faster loading)",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "web/src/lib/components/CodeEditor.svelte",
        "category": "bug",
        "severity": "high",
        "title": "Race condition in reactive statements with view lifecycle",
        "description": "The reactive statements (`$:`) that update content and highlights execute immediately when dependencies change, but `view` may still be null during initial component mounting. Additionally, the content update reactive statement doesn't check if the change originated from the editor itself, potentially causing cursor position loss and infinite update loops when the user is typing.",
        "suggestion": "Add null checks and prevent redundant updates by tracking update source. Move reactive logic into proper lifecycle-aware functions.",
        "code": {
          "before": "\t// Update content when prop changes\n\t$: if (view && content !== view.state.doc.toString()) {\n\t\tview.dispatch({\n\t\t\tchanges: {\n\t\t\t\tfrom: 0,\n\t\t\t\tto: view.state.doc.length,\n\t\t\t\tinsert: content\n\t\t\t}\n\t\t});\n\t}\n\n\t// Update highlight when prop changes\n\t$: if (view) {\n\t\tview.dispatch({\n\t\t\teffects: highlightEffect.of(highlightLines)\n\t\t});",
          "after": "\tlet isInternalUpdate = false;\n\n\t// Update content when prop changes (avoid updates from internal changes)\n\t$: if (view && !isInternalUpdate && content !== view.state.doc.toString()) {\n\t\tconst currentPos = view.state.selection.main.head;\n\t\tview.dispatch({\n\t\t\tchanges: {\n\t\t\t\tfrom: 0,\n\t\t\t\tto: view.state.doc.length,\n\t\t\t\tinsert: content\n\t\t\t},\n\t\t\tselection: { anchor: Math.min(currentPos, content.length) }\n\t\t});\n\t}\n\n\t// Update highlight when prop changes (separate reactive statement)\n\t$: if (view && highlightLines !== undefined) {\n\t\tupdateHighlight(view, highlightLines);\n\t}\n\n\tfunction updateHighlight(view: EditorView, lines: { from: number; to: number } | null) {\n\t\tview.dispatch({\n\t\t\teffects: highlightEffect.of(lines)\n\t\t});",
          "startLine": 180,
          "endLine": 192
        }
      },
      {
        "file": "web/src/lib/components/CodeEditor.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract extension configuration to improve testability and maintainability",
        "description": "The `getExtensions()` function is called during mount, but extension configuration cannot be updated dynamically when props like `language` or `readonly` change. This creates a mismatch between the component's props and the editor's actual behavior. Additionally, the function is hard to test and contains complex conditional logic.",
        "suggestion": "Recreate the editor view when critical props change, or use reconfiguration effects for dynamic updates. Extract theme and extension creation into separate, testable functions.",
        "code": {
          "before": "\tonMount(() => {\n\t\tconst state = EditorState.create({\n\t\t\tdoc: content,\n\t\t\textensions: getExtensions()\n\t\t});\n\n\t\tview = new EditorView({\n\t\t\tstate,\n\t\t\tparent: editorContainer\n\t\t});\n\t});",
          "after": "\t// React to changes in language or readonly props\n\t$: if (view) {\n\t\tview.dispatch({\n\t\t\teffects: EditorView.reconfigure.of(getExtensions())\n\t\t});\n\t}\n\n\tonMount(() => {\n\t\tconst state = EditorState.create({\n\t\t\tdoc: content,\n\t\t\textensions: getExtensions()\n\t\t});\n\n\t\tview = new EditorView({\n\t\t\tstate,\n\t\t\tparent: editorContainer\n\t\t});\n\t\t\n\t\t// Mark initialization complete\n\t\treturn () => {\n\t\t\tview?.destroy();\n\t\t\tview = null;\n\t\t};\n\t});\n\n\t// Remove separate onDestroy since cleanup is handled in onMount return",
          "startLine": 172,
          "endLine": 182
        }
      },
      {
        "file": "web/src/lib/components/CodeEditor.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Optimize scroll behavior to prevent multiple dispatches",
        "description": "The highlight reactive statement currently dispatches both the highlight effect AND a scroll effect on every change to `highlightLines`, even when the value hasn't meaningfully changed. This causes unnecessary re-renders and scroll jumps. The scroll logic is also duplicated between the reactive statement and the `scrollToLine` method.",
        "suggestion": "Separate the scroll logic from the highlight update and extract common scroll functionality. Add proper comparison to prevent redundant updates.",
        "code": {
          "before": "\t// Update highlight when prop changes\n\t$: if (view) {\n\t\tview.dispatch({\n\t\t\teffects: highlightEffect.of(highlightLines)\n\t\t});\n\n\t\t// Scroll to highlighted lines\n\t\tif (highlightLines) {\n\t\t\ttry {\n\t\t\t\tconst line = view.state.doc.line(highlightLines.from);\n\t\t\t\tview.dispatch({\n\t\t\t\t\teffects: EditorView.scrollIntoView(line.from, { y: 'start', yMargin: 100 })\n\t\t\t\t});\n\t\t\t} catch {\n\t\t\t\t// Line doesn't exist\n\t\t\t}\n\t\t}\n\t}",
          "after": "\tlet previousHighlightLines: typeof highlightLines = null;\n\n\t// Update highlight when prop changes\n\t$: if (view && highlightLines !== previousHighlightLines) {\n\t\tpreviousHighlightLines = highlightLines;\n\t\tview.dispatch({\n\t\t\teffects: highlightEffect.of(highlightLines)\n\t\t});\n\n\t\t// Scroll to highlighted lines\n\t\tif (highlightLines) {\n\t\t\tscrollToLine(highlightLines.from);\n\t\t}\n\t}\n\n\tfunction scrollToLineInternal(lineNumber: number) {\n\t\tif (!view) return;\n\t\ttry {\n\t\t\tconst line = view.state.doc.line(lineNumber);\n\t\t\tview.dispatch({\n\t\t\t\teffects: EditorView.scrollIntoView(line.from, { y: 'start', yMargin: 100 })\n\t\t\t});\n\t\t} catch {\n\t\t\t// Line doesn't exist, fail silently\n\t\t}\n\t}",
          "startLine": 193,
          "endLine": 209
        }
      },
      {
        "file": "web/src/lib/components/CodeEditor.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Improve update listener to prevent memory leaks and add source tracking",
        "description": "The change event dispatcher is embedded within the extension configuration, which means it cannot be easily mocked or tested. Additionally, there's no mechanism to distinguish between user-initiated changes and programmatic updates, which can cause issues with external state synchronization. The `isInternalUpdate` flag approach suggested earlier needs to be properly integrated.",
        "suggestion": "Wrap the update listener to properly track internal vs external updates and expose a cleaner API for change handling.",
        "code": {
          "before": "\t\tif (readonly) {\n\t\t\textensions.push(EditorState.readOnly.of(true));\n\t\t} else {\n\t\t\t// Add change listener\n\t\t\textensions.push(EditorView.updateListener.of((update) => {\n\t\t\t\tif (update.docChanged) {\n\t\t\t\t\tdispatch('change', update.state.doc.toString());\n\t\t\t\t}\n\t\t\t}));\n\t\t}",
          "after": "\t\tif (readonly) {\n\t\t\textensions.push(EditorState.readOnly.of(true));\n\t\t} else {\n\t\t\t// Add change listener with internal update tracking\n\t\t\textensions.push(EditorView.updateListener.of((update) => {\n\t\t\t\tif (update.docChanged && !update.transactions.some(tr => tr.annotation(isInternalUpdateAnnotation))) {\n\t\t\t\t\tisInternalUpdate = true;\n\t\t\t\t\tdispatch('change', update.state.doc.toString());\n\t\t\t\t\t// Reset flag after microtask to allow reactive statements to run\n\t\t\t\t\tqueueMicrotask(() => {\n\t\t\t\t\t\tisInternalUpdate = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t// Define annotation for marking internal updates\n\t\tconst isInternalUpdateAnnotation = EditorState.annotation<boolean>();",
          "startLine": 162,
          "endLine": 171
        }
      },
      {
        "file": "web/src/lib/components/CodeEditor.svelte",
        "category": "style",
        "severity": "low",
        "title": "Add TypeScript types and improve accessibility markup",
        "description": "The component lacks proper TypeScript typing for event dispatchers and has incomplete accessibility attributes. The `role=\"textbox\"` on a div is semantically incorrect since CodeMirror creates its own accessible structure. The `tabindex=\"0\"` may interfere with CodeMirror's focus management.",
        "suggestion": "Remove conflicting accessibility attributes, add proper TypeScript interfaces for events, and improve type safety throughout the component.",
        "code": {
          "before": "\tconst dispatch = createEventDispatcher<{ change: string; click: void }>();\n\n\tlet editorContainer: HTMLDivElement;\n\tlet view: EditorView | null = null;\n\n\t// Custom dark theme matching our UI\n\tconst pactTheme = EditorView.theme({",
          "after": "\tinterface CodeEditorEvents {\n\t\tchange: string;\n\t\tclick: void;\n\t}\n\n\tconst dispatch = createEventDispatcher<CodeEditorEvents>();\n\n\tlet editorContainer: HTMLDivElement;\n\tlet view: EditorView | null = null;\n\n\ttype HighlightRange = { from: number; to: number } | null;\n\n\t// Custom dark theme matching our UI\n\tconst pactTheme = EditorView.theme({",
          "startLine": 15,
          "endLine": 21
        }
      },
      {
        "file": "pact-dashboard.svelte",
        "category": "refactor",
        "severity": "high",
        "title": "Extract utility functions into separate module",
        "description": "The three status-related utility functions (getStatusColor, getStatusIcon, getStatusText) are tightly coupled and should be extracted into a separate TypeScript module for better testability, reusability, and separation of concerns. This also reduces component bloat and makes the logic easier to unit test.",
        "suggestion": "Create a separate utils file (e.g., statusUtils.ts) to house these helper functions. This improves maintainability and makes the component focus solely on presentation logic.",
        "code": {
          "before": "function getStatusColor(status: string) {\n  switch (status) {\n    case 'synced': return 'text-emerald-400';\n    case 'pending': return 'text-amber-400';\n    case 'missing': return 'text-amber-400';\n    case 'not_configured': return 'text-zinc-500';\n    default: return 'text-zinc-500';\n  }\n}\n\nfunction getStatusIcon(status: string) {\n  switch (status) {\n    case 'synced': return Check;\n    case 'pending': return AlertCircle;\n    case 'missing': return AlertCircle;\n    default: return null;\n  }\n}\n\nfunction getStatusText(status: string) {\n  switch (status) {\n    case 'synced': return 'synced';\n    case 'pending': return 'pending';\n    case 'missing': return 'missing';\n    case 'not_configured': return 'not configured';\n    default: return status;\n  }\n}",
          "after": "// statusUtils.ts\nimport { Check, AlertCircle } from 'lucide-svelte';\nimport type { ComponentType } from 'svelte';\n\ntype Status = 'synced' | 'pending' | 'missing' | 'not_configured';\n\ninterface StatusConfig {\n  color: string;\n  icon: ComponentType | null;\n  text: string;\n}\n\nconst STATUS_MAP: Record<Status, StatusConfig> = {\n  synced: { color: 'text-emerald-400', icon: Check, text: 'synced' },\n  pending: { color: 'text-amber-400', icon: AlertCircle, text: 'pending' },\n  missing: { color: 'text-amber-400', icon: AlertCircle, text: 'missing' },\n  not_configured: { color: 'text-zinc-500', icon: null, text: 'not configured' }\n};\n\nexport const getStatusConfig = (status: string): StatusConfig => {\n  return STATUS_MAP[status as Status] ?? STATUS_MAP.not_configured;\n};\n\n// In component:\nimport { getStatusConfig } from './statusUtils';\nconst statusConfig = getStatusConfig(module.status);",
          "startLine": 34,
          "endLine": 58
        }
      },
      {
        "file": "pact-dashboard.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Define TypeScript interfaces for data structures",
        "description": "The component uses hardcoded arrays without proper TypeScript type definitions. This reduces type safety and makes it harder to catch errors during development. Defining interfaces for KitModule, Secret, and Activity would provide better autocomplete, catch potential errors, and serve as documentation.",
        "suggestion": "Add TypeScript interfaces at the top of the script section to define the shape of your data structures. This enforces type safety throughout the component.",
        "code": {
          "before": "const kitModules = [\n  { id: 'shell', name: 'Shell', icon: Terminal, useCustomIcon: false, status: 'synced', files: 3, description: 'zsh + oh-my-posh' },\n  { id: 'editor', name: 'Editor', icon: Cpu, useCustomIcon: false, status: 'synced', files: 12, description: 'neovim + lazy.nvim' },\n  // ...\n];\n\nconst secrets = [\n  { name: 'ANTHROPIC_API_KEY', set: true, lastUsed: '2 hours ago' },\n  // ...\n];",
          "after": "import type { ComponentType } from 'svelte';\n\ntype ModuleStatus = 'synced' | 'pending' | 'missing' | 'not_configured';\n\ninterface KitModule {\n  id: string;\n  name: string;\n  icon: ComponentType | null;\n  useCustomIcon: boolean;\n  status: ModuleStatus;\n  files: number;\n  description: string;\n}\n\ninterface Secret {\n  name: string;\n  set: boolean;\n  lastUsed: string | null;\n}\n\ninterface Activity {\n  action: string;\n  time: string;\n}\n\nconst kitModules: KitModule[] = [\n  { id: 'shell', name: 'Shell', icon: Terminal, useCustomIcon: false, status: 'synced', files: 3, description: 'zsh + oh-my-posh' },\n  { id: 'editor', name: 'Editor', icon: Cpu, useCustomIcon: false, status: 'synced', files: 12, description: 'neovim + lazy.nvim' },\n  // ...\n];\n\nconst secrets: Secret[] = [\n  { name: 'ANTHROPIC_API_KEY', set: true, lastUsed: '2 hours ago' },\n  // ...\n];",
          "startLine": 4,
          "endLine": 28
        }
      },
      {
        "file": "pact-dashboard.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract reusable Card component for repeated UI patterns",
        "description": "The module cards and sidebar sections share similar styling patterns (bg-zinc-900/30, border border-zinc-800/50, rounded-xl). Creating a reusable Card component would reduce code duplication, ensure consistent styling, and make future design updates easier to maintain.",
        "suggestion": "Create a Card.svelte component to encapsulate the common card styling. This promotes DRY principles and makes the main component template cleaner.",
        "code": {
          "before": "<div class=\"bg-zinc-900/30 border border-zinc-800/50 rounded-xl overflow-hidden\">\n  {#each secrets as secret, i}\n    <div class=\"flex items-center justify-between p-3 {i !== secrets.length - 1 ? 'border-b border-zinc-800/50' : ''}\">\n      <!-- content -->\n    </div>\n  {/each}\n</div>\n\n<!-- Similar pattern repeated elsewhere -->\n<div class=\"p-4 bg-zinc-900/30 border border-zinc-800/50 rounded-xl\">\n  <!-- content -->\n</div>",
          "after": "// Card.svelte\n<script lang=\"ts\">\n  export let variant: 'default' | 'hover' = 'default';\n  export let className = '';\n</script>\n\n<div class=\"bg-zinc-900/30 border border-zinc-800/50 rounded-xl {className}\n  {variant === 'hover' ? 'hover:bg-zinc-900/60 hover:border-zinc-700/50 transition-all' : ''}\">\n  <slot />\n</div>\n\n// Usage in main component:\n<Card className=\"overflow-hidden\">\n  {#each secrets as secret, i}\n    <div class=\"flex items-center justify-between p-3 {i !== secrets.length - 1 ? 'border-b border-zinc-800/50' : ''}\">\n      <!-- content -->\n    </div>\n  {/each}\n</Card>\n\n<Card className=\"p-4\">\n  <!-- content -->\n</Card>",
          "startLine": 150,
          "endLine": 180
        }
      },
      {
        "file": "pact-dashboard.svelte",
        "category": "optimization",
        "severity": "low",
        "title": "Add key prop to list iterations for better performance",
        "description": "The {#each} blocks iterate over arrays without explicit key bindings. While Svelte can handle this, using explicit keys improves rendering performance and prevents potential bugs when lists are reordered or items are added/removed dynamically.",
        "suggestion": "Add (item) syntax to each blocks to use unique identifiers as keys. This helps Svelte's diffing algorithm optimize DOM updates.",
        "code": {
          "before": "{#each kitModules as module}\n  <div class=\"group flex items-center justify-between p-4 ...\">\n    <!-- module content -->\n  </div>\n{/each}\n\n{#each secrets as secret, i}\n  <div class=\"flex items-center justify-between p-3 ...\">\n    <!-- secret content -->\n  </div>\n{/each}",
          "after": "{#each kitModules as module (module.id)}\n  <div class=\"group flex items-center justify-between p-4 ...\">\n    <!-- module content -->\n  </div>\n{/each}\n\n{#each secrets as secret (secret.name)}\n  <div class=\"flex items-center justify-between p-3 ...\">\n    <!-- secret content -->\n  </div>\n{/each}\n\n{#each recentActivity as activity, i (i)}\n  <div class=\"flex items-start gap-3\">\n    <!-- activity content -->\n  </div>\n{/each}",
          "startLine": 111,
          "endLine": 190
        }
      },
      {
        "file": "pact-dashboard.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Implement event handlers for interactive elements",
        "description": "Multiple buttons and interactive elements (Sync button, Settings button, module cards, 'Add module' button, 'set' button for secrets) have no event handlers attached. This makes the component non-functional. Even if full functionality isn't ready, stub handlers or dispatched events should be added for proper architecture.",
        "suggestion": "Add event handlers or dispatch custom events for all interactive elements. This makes the component production-ready and follows proper event-driven architecture patterns in Svelte.",
        "code": {
          "before": "<button class=\"flex items-center gap-2 px-4 py-2 bg-zinc-900 ...\">\n  <RefreshCw size={14} />\n  <span>Sync</span>\n</button>\n\n<div class=\"group flex items-center justify-between p-4 ...\" >\n  <!-- module content -->\n</div>\n\n<button class=\"w-full p-4 border border-dashed ...\">\n  + Add module\n</button>",
          "after": "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte';\n  const dispatch = createEventDispatcher();\n\n  function handleSync() {\n    dispatch('sync');\n    // or implement sync logic\n  }\n\n  function handleModuleClick(moduleId: string) {\n    dispatch('moduleClick', { moduleId });\n  }\n\n  function handleAddModule() {\n    dispatch('addModule');\n  }\n\n  function handleSetSecret(secretName: string) {\n    dispatch('setSecret', { secretName });\n  }\n</script>\n\n<button on:click={handleSync} class=\"flex items-center gap-2 px-4 py-2 bg-zinc-900 ...\">\n  <RefreshCw size={14} />\n  <span>Sync</span>\n</button>\n\n<div on:click={() => handleModuleClick(module.id)} on:keydown class=\"group flex items-center justify-between p-4 ...\" role=\"button\" tabindex=\"0\">\n  <!-- module content -->\n</div>\n\n<button on:click={handleAddModule} class=\"w-full p-4 border border-dashed ...\">\n  + Add module\n</button>",
          "startLine": 80,
          "endLine": 145
        }
      },
      {
        "file": "web/src/routes/auth/callback/+page.svelte",
        "category": "bug",
        "severity": "high",
        "title": "Memory leak from unaborted fetch requests on component unmount",
        "description": "The onMount callback performs multiple async fetch operations without cleanup. If the user navigates away before these complete, the requests continue and may attempt to update component state after unmount, causing memory leaks and potential errors. The auth store updates and navigation attempts could also trigger after the component is destroyed.",
        "suggestion": "Use AbortController to cancel pending requests on component unmount. Return a cleanup function from onMount that aborts all ongoing operations.",
        "code": {
          "before": "onMount(async () => {\n\tconst code = $page.url.searchParams.get('code');\n\t\n\tif (!code) {\n\t\terror = 'No authorization code received';\n\t\treturn;\n\t}\n\n\ttry {\n\t\tstatus = 'Exchanging code for token...';\n\t\t\n\t\tconst response = await fetch('/api/auth/callback', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ code })\n\t\t});",
          "after": "onMount(() => {\n\tconst abortController = new AbortController();\n\tconst signal = abortController.signal;\n\t\n\t(async () => {\n\t\tconst code = $page.url.searchParams.get('code');\n\t\t\n\t\tif (!code) {\n\t\t\terror = 'No authorization code received';\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tstatus = 'Exchanging code for token...';\n\t\t\t\n\t\t\tconst response = await fetch('/api/auth/callback', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify({ code }),\n\t\t\t\tsignal\n\t\t\t});\n\t\t\t// ... rest of the code with signal added to all fetch calls\n\t\t} catch (e) {\n\t\t\tif (e instanceof Error && e.name === 'AbortError') {\n\t\t\t\treturn; // Silently handle abort\n\t\t\t}\n\t\t\terror = e instanceof Error ? e.message : 'Authentication failed';\n\t\t\tconsole.error('Auth error:', e);\n\t\t}\n\t})();\n\t\n\treturn () => {\n\t\tabortController.abort();\n\t};\n});",
          "startLine": 10,
          "endLine": 26
        }
      },
      {
        "file": "web/src/routes/auth/callback/+page.svelte",
        "category": "refactor",
        "severity": "high",
        "title": "Duplicate GitHub user fetching logic should use GitHubClient",
        "description": "The component manually fetches user information from GitHub API with raw fetch calls, but then creates a GitHubClient instance for repo checking. This duplicates HTTP client logic and authentication header setup. The GitHubClient should handle all GitHub API interactions for consistency and maintainability.",
        "suggestion": "Refactor to use GitHubClient for all GitHub API calls. Add a getUser() method to GitHubClient if it doesn't exist, centralizing all GitHub API interactions and authentication logic in one place.",
        "code": {
          "before": "const { access_token } = await response.json();\n\t\t\t\n\t\t\tstatus = 'Getting user info...';\n\t\t\tauth.setToken(access_token);\n\n\t\t\t// Get user info\n\t\t\tconst userResponse = await fetch('https://api.github.com/user', {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${access_token}`,\n\t\t\t\t\tAccept: 'application/vnd.github+json'\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!userResponse.ok) {\n\t\t\t\tthrow new Error('Failed to get user info');\n\t\t\t}\n\n\t\t\tconst user = await userResponse.json();\n\t\t\tauth.setUser(user);\n\n\t\t\tstatus = 'Checking your account...';\n\t\t\t\n\t\t\t// Check if user has my-pact repo\n\t\t\tconst github = new GitHubClient(access_token);",
          "after": "const { access_token } = await response.json();\n\t\t\t\n\t\t\tstatus = 'Getting user info...';\n\t\t\tauth.setToken(access_token);\n\n\t\t\t// Initialize GitHub client for all API interactions\n\t\t\tconst github = new GitHubClient(access_token);\n\t\t\t\n\t\t\t// Get user info via GitHubClient\n\t\t\tconst user = await github.getUser();\n\t\t\tauth.setUser(user);\n\n\t\t\tstatus = 'Checking your account...';\n\t\t\t\n\t\t\t// Check if user has my-pact repo",
          "startLine": 29,
          "endLine": 52
        }
      },
      {
        "file": "web/src/routes/auth/callback/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract authentication flow logic into a separate composable function",
        "description": "The onMount callback contains complex business logic with multiple sequential async operations, error handling, and state management. This makes the component harder to test and maintain. The authentication flow logic is tightly coupled to the component lifecycle, making it difficult to reuse or test in isolation.",
        "suggestion": "Extract the authentication flow into a separate async function or composable that can be tested independently. This improves testability, readability, and allows for better separation of concerns between UI and business logic.",
        "code": {
          "before": "let error = '';\nlet status = 'Authenticating...';\n\nonMount(async () => {\n\tconst code = $page.url.searchParams.get('code');\n\t\n\tif (!code) {\n\t\terror = 'No authorization code received';\n\t\treturn;\n\t}\n\n\ttry {\n\t\tstatus = 'Exchanging code for token...';\n\t\t// ... all the authentication logic\n\t} catch (e) {\n\t\terror = e instanceof Error ? e.message : 'Authentication failed';\n\t\tconsole.error('Auth error:', e);\n\t}\n});",
          "after": "let error = '';\nlet status = 'Authenticating...';\n\nasync function handleAuthCallback(code: string, signal: AbortSignal) {\n\tstatus = 'Exchanging code for token...';\n\t\n\tconst response = await fetch('/api/auth/callback', {\n\t\tmethod: 'POST',\n\t\theaders: { 'Content-Type': 'application/json' },\n\t\tbody: JSON.stringify({ code }),\n\t\tsignal\n\t});\n\n\tif (!response.ok) {\n\t\tthrow new Error('Failed to exchange code for token');\n\t}\n\n\tconst { access_token } = await response.json();\n\t\n\tstatus = 'Getting user info...';\n\tauth.setToken(access_token);\n\n\tconst github = new GitHubClient(access_token);\n\tconst user = await github.getUser();\n\tauth.setUser(user);\n\n\tstatus = 'Checking your account...';\n\tconst repoExists = await github.repoExists(user.login);\n\t\n\treturn repoExists ? '/dashboard' : '/setup';\n}\n\nonMount(() => {\n\tconst abortController = new AbortController();\n\tconst code = $page.url.searchParams.get('code');\n\t\n\tif (!code) {\n\t\terror = 'No authorization code received';\n\t\treturn;\n\t}\n\n\thandleAuthCallback(code, abortController.signal)\n\t\t.then(destination => goto(destination))\n\t\t.catch(e => {\n\t\t\tif (e.name !== 'AbortError') {\n\t\t\t\terror = e instanceof Error ? e.message : 'Authentication failed';\n\t\t\t\tconsole.error('Auth error:', e);\n\t\t\t}\n\t\t});\n\t\n\treturn () => abortController.abort();\n});",
          "startLine": 8,
          "endLine": 62
        }
      },
      {
        "file": "web/src/routes/auth/callback/+page.svelte",
        "category": "bug",
        "severity": "medium",
        "title": "Missing error response details from API calls",
        "description": "When API calls fail (both the token exchange and GitHub user API), the error messages are generic and don't include response details that could help with debugging. The actual HTTP status code and any error message from the API response body are discarded, making it difficult to diagnose authentication issues in production.",
        "suggestion": "Parse error responses from failed API calls to extract meaningful error messages and status codes. This provides better debugging information and more helpful error messages to users.",
        "code": {
          "before": "const response = await fetch('/api/auth/callback', {\n\tmethod: 'POST',\n\theaders: { 'Content-Type': 'application/json' },\n\tbody: JSON.stringify({ code })\n});\n\nif (!response.ok) {\n\tthrow new Error('Failed to exchange code for token');\n}",
          "after": "const response = await fetch('/api/auth/callback', {\n\tmethod: 'POST',\n\theaders: { 'Content-Type': 'application/json' },\n\tbody: JSON.stringify({ code })\n});\n\nif (!response.ok) {\n\tlet errorMessage = 'Failed to exchange code for token';\n\ttry {\n\t\tconst errorData = await response.json();\n\t\terrorMessage = errorData.message || errorData.error || errorMessage;\n\t} catch {\n\t\t// If response is not JSON, use default message\n\t}\n\tthrow new Error(`${errorMessage} (Status: ${response.status})`);\n}",
          "startLine": 20,
          "endLine": 28
        }
      },
      {
        "file": "web/src/routes/auth/callback/+page.svelte",
        "category": "optimization",
        "severity": "low",
        "title": "Redundant status update before error return",
        "description": "When no authorization code is present, the status variable is set to 'Authenticating...' on initialization but immediately overridden by setting the error. The status update is unnecessary since the error message takes precedence in the UI, and the status is never displayed when there's an error.",
        "suggestion": "Remove the initial status assignment or set it only when the code parameter exists. This minor optimization prevents an unnecessary reactive update.",
        "code": {
          "before": "let error = '';\nlet status = 'Authenticating...';\n\nonMount(async () => {\n\tconst code = $page.url.searchParams.get('code');\n\t\n\tif (!code) {\n\t\terror = 'No authorization code received';\n\t\treturn;\n\t}\n\n\ttry {\n\t\tstatus = 'Exchanging code for token...';",
          "after": "let error = '';\nlet status = '';\n\nonMount(async () => {\n\tconst code = $page.url.searchParams.get('code');\n\t\n\tif (!code) {\n\t\terror = 'No authorization code received';\n\t\treturn;\n\t}\n\n\ttry {\n\t\tstatus = 'Authenticating...';\n\t\t// Small delay for UX (show initial state)\n\t\tawait new Promise(resolve => setTimeout(resolve, 100));\n\t\tstatus = 'Exchanging code for token...';",
          "startLine": 8,
          "endLine": 20
        }
      },
      {
        "file": "pact-docs/public/pact-readme-logo.png",
        "category": "optimization",
        "severity": "high",
        "title": "Optimize PNG file size without quality loss",
        "description": "The PNG file is 62KB and contains extensive metadata (XMP, attribution data, author info) that significantly increases file size. The image appears to be a logo/readme header, which should be optimized for web delivery. Additionally, the embedded metadata includes tracking IDs and personal information that may not be necessary for a public repository.",
        "suggestion": "Use PNG optimization tools to reduce file size by 40-70% through:\n1. Remove unnecessary metadata (XMP data, author info, creation dates)\n2. Optimize color palette if the logo uses limited colors\n3. Apply lossless compression algorithms\n4. Consider using pngquant, optipng, or imagemin in your build process",
        "code": {
          "before": "Current file: 62KB with embedded XMP metadata, author info (Jack Horton), Facebook tracking ID (525265914179580), and Canva renderer information",
          "after": "Optimized file: ~25-35KB after removing metadata and applying lossless compression\n\n# Build script example (package.json):\n\"scripts\": {\n  \"optimize-images\": \"imagemin pact-readme-logo.png --out-dir=public --plugin=pngquant\"\n}\n\n# Or use a pre-commit hook to auto-optimize",
          "startLine": 1,
          "endLine": 10
        }
      },
      {
        "file": "pact-docs/public/pact-readme-logo.png",
        "category": "style",
        "severity": "medium",
        "title": "Remove tracking and personal metadata from public assets",
        "description": "The PNG contains Facebook tracking ID (525265914179580), ExtId (4e8e44cb-2636-4ffd-b980-3adbb23d9f1c), author name (Jack Horton), and Canva user ID (UAF0YZzOT6Q). This metadata is unnecessary for a logo image and may expose privacy information or tracking mechanisms in a public repository.",
        "suggestion": "Strip all XMP and EXIF metadata before committing image assets to the repository. This reduces file size and removes unnecessary tracking/personal information.",
        "code": {
          "before": "<Attrib:FbId>525265914179580</Attrib:FbId>\n<Attrib:ExtId>4e8e44cb-2636-4ffd-b980-3adbb23d9f1c</Attrib:ExtId>\n<pdf:Author>Jack Horton</pdf:Author>\n<xmp:CreatorTool>Canva (Renderer) doc=DAG7Ipl7I0Q user=UAF0YZzOT6Q</xmp:CreatorTool>",
          "after": "# Use exiftool or similar to strip metadata:\nexiftool -all= pact-readme-logo.png\n\n# Or integrate into build process:\nconst sharp = require('sharp');\nsharp('pact-readme-logo.png')\n  .withMetadata({})\n  .toFile('pact-readme-logo-clean.png');",
          "startLine": 5,
          "endLine": 25
        }
      },
      {
        "file": "pact-docs/public/pact-readme-logo.png",
        "category": "optimization",
        "severity": "medium",
        "title": "Consider WebP format for better compression",
        "description": "PNG format is being used for a logo that will be displayed on web pages (README). WebP format can provide 25-35% better compression than PNG for the same visual quality, with broad browser support (97%+ as of 2024). For a documentation site, this would improve load times.",
        "suggestion": "Provide both PNG (fallback) and WebP versions of the logo, or convert entirely to WebP if legacy browser support isn't required. Update README to use picture element for progressive enhancement.",
        "code": {
          "before": "<!-- Current usage -->\n<img src=\"public/pact-readme-logo.png\" alt=\"Pact Logo\" />",
          "after": "<!-- Optimized with WebP and PNG fallback -->\n<picture>\n  <source srcset=\"public/pact-readme-logo.webp\" type=\"image/webp\">\n  <img src=\"public/pact-readme-logo.png\" alt=\"Pact Logo\" />\n</picture>\n\n# Generate WebP version:\ncwebp -q 90 pact-readme-logo.png -o pact-readme-logo.webp",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-readme-logo.png",
        "category": "documentation",
        "severity": "low",
        "title": "Add image optimization documentation to project",
        "description": "The repository should document the image optimization process to ensure future contributors maintain optimized assets. This prevents bloat over time as images are added or updated.",
        "suggestion": "Create a CONTRIBUTING.md section or separate docs/ASSETS.md file that outlines image optimization requirements and provides commands/tools for contributors to use.",
        "code": {
          "before": "# No documentation for image asset requirements",
          "after": "# docs/ASSETS.md\n\n## Image Optimization Guidelines\n\n### Logo and Icon Files\n- **Format**: PNG or WebP\n- **Max size**: 50KB for logos, 100KB for screenshots\n- **Required**: Strip all metadata before committing\n\n### Optimization Tools\n```bash\n# Install optimization tools\nnpm install -g imagemin-cli imagemin-pngquant\n\n# Optimize a PNG\nimagemin input.png --plugin=pngquant > output.png\n\n# Strip metadata\nexiftool -all= image.png\n```\n\n### Pre-commit Hook\nConsider adding to `.husky/pre-commit` to auto-optimize images.",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-readme-logo.png",
        "category": "optimization",
        "severity": "low",
        "title": "Verify image dimensions match actual display size",
        "description": "The PNG is 400x150 pixels. If the README displays this at a smaller size (common for GitHub), the browser downloads unnecessary pixel data. Serving appropriately sized images improves performance.",
        "suggestion": "Audit where this logo is displayed and ensure the file dimensions match the largest display size needed. Create smaller versions if the logo is displayed at multiple sizes.",
        "code": {
          "before": "# Single 400x150px image for all uses",
          "after": "# Provide multiple sizes if needed\npublic/\n  pact-readme-logo.png (400x150 - full size)\n  pact-readme-logo-sm.png (200x75 - for smaller displays)\n\n# Or use responsive images in markdown:\n<img src=\"pact-readme-logo.png\" \n     srcset=\"pact-readme-logo-sm.png 200w, pact-readme-logo.png 400w\"\n     sizes=\"(max-width: 600px) 200px, 400px\"\n     alt=\"Pact Logo\" />",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "cropped-pact-logo-black.png",
        "category": "bug",
        "severity": "high",
        "title": "Invalid File Format - PNG file contains JFIF/JPEG data",
        "description": "The file is named 'cropped-pact-logo-black.png' but contains JFIF (JPEG File Interchange Format) header and JPEG compression markers. This is a JPEG image incorrectly labeled as PNG. PNG files should start with the PNG signature (89 50 4E 47 0D 0A 1A 0A) but this file starts with FF D8 FF E0 (JFIF/JPEG signature).",
        "suggestion": "Rename the file to use the correct '.jpg' or '.jpeg' extension, or re-export/convert the image as an actual PNG file. Using the wrong file extension can cause issues with image processing libraries, content-type detection, and browser rendering. If transparency is needed, convert to genuine PNG format.",
        "code": {
          "before": "cropped-pact-logo-black.png (JFIF header: FF D8 FF E0)",
          "after": "cropped-pact-logo-black.jpg (correct extension for JPEG/JFIF format)\nOR\nRe-export as actual PNG with signature: 89 50 4E 47",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "cropped-pact-logo-black.png",
        "category": "optimization",
        "severity": "medium",
        "title": "Large Embedded ICC Color Profile",
        "description": "The image contains an embedded ICC color profile ('mntrRGB XYZ', Google Inc. 2016 sRGB profile) which adds approximately 3KB to the file size. For web logos, this is often unnecessary overhead as most browsers use sRGB as default.",
        "suggestion": "Strip the ICC color profile during image optimization to reduce file size by ~15-20%. Use tools like ImageOptim, TinyPNG, or command-line tools (imagemagick: 'convert input.jpg -strip output.jpg'). Only retain color profiles if exact color matching is critical for brand assets.",
        "code": {
          "before": "ICC_PROFILE section present (~3KB overhead)\nmluc enUS 'G o o g l e   I n c .   2 0 1 6'",
          "after": "# Remove ICC profile using ImageMagick:\nconvert cropped-pact-logo-black.jpg -strip output.jpg\n\n# Or using jpegoptim:\njpegoptim --strip-all cropped-pact-logo-black.jpg",
          "startLine": 5,
          "endLine": 8
        }
      },
      {
        "file": "cropped-pact-logo-black.png",
        "category": "optimization",
        "severity": "medium",
        "title": "Unoptimized JPEG Compression",
        "description": "The JPEG file appears to contain high-quality encoding with significant data size. Logo images, especially solid graphics, can typically be compressed more efficiently without visible quality loss.",
        "suggestion": "Re-compress the JPEG with optimized quality settings (80-85% quality is usually imperceptible but significantly smaller). Consider converting to PNG if the logo has sharp edges, text, or limited colors, as PNG's lossless compression may actually produce smaller files for such content.",
        "code": {
          "before": "# Current: Large JPEG file with potential quality overkill",
          "after": "# Option 1: Optimize JPEG\njpegoptim --max=85 --strip-all cropped-pact-logo-black.jpg\n\n# Option 2: Convert to optimized PNG if logo has solid colors\nconvert input.jpg -quality 95 output.png\npngquant --quality=80-95 output.png",
          "startLine": 1,
          "endLine": 10
        }
      },
      {
        "file": "cropped-pact-logo-black.png",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent File Naming Convention",
        "description": "The filename uses hyphens ('cropped-pact-logo-black.png') which is good for URLs, but the wrong extension creates confusion. The 'cropped-' prefix suggests this is a derivative file that may not be the authoritative source.",
        "suggestion": "Establish a clear naming convention: use 'pact-logo-black.jpg' for the main asset, and maintain source files separately. If multiple versions exist (sizes, formats), use systematic suffixes like 'pact-logo-black-300w.jpg', 'pact-logo-black-2x.jpg', etc. Document the naming scheme in a README.",
        "code": {
          "before": "cropped-pact-logo-black.png (misleading extension + unclear provenance)",
          "after": "# Recommended naming structure:\npact-logo-black.jpg          # Standard version\npact-logo-black-2x.jpg       # Retina/high-DPI\npact-logo-black-thumb.jpg    # Thumbnail\npact-logo-black.svg          # Vector source (if available)",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "cropped-pact-logo-black.png",
        "category": "documentation",
        "severity": "low",
        "title": "Missing Image Metadata and Alt Text Guidelines",
        "description": "The binary image file lacks accompanying documentation about proper usage, dimensions, and accessibility requirements. This can lead to inconsistent implementation across projects.",
        "suggestion": "Create an accompanying markdown file (e.g., 'logo-assets-guide.md') documenting: (1) Intended dimensions and use cases, (2) Required alt text for accessibility, (3) Color specifications, (4) Approved usage guidelines, (5) Links to source files (AI, SVG, etc.). This improves maintainability and ensures consistent brand representation.",
        "code": {
          "before": "# Just the image file with no context",
          "after": "# logo-assets-guide.md\n## Pact Logo - Black Version\n- **File**: pact-logo-black.jpg\n- **Dimensions**: 300x80px (adjust as needed)\n- **Format**: JPEG, sRGB color space\n- **Alt text**: \"Pact logo\"\n- **Usage**: Headers, light backgrounds\n- **Source**: assets/source/pact-logo.svg\n- **Last updated**: 2024-01-15",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "docs/ARCHITECTURE.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Remove duplicate sync command documentation",
        "description": "The document contains two separate sections documenting the same `pact sync` command (sections 3 and 3a). Section 3 describes the current interactive implementation while section 3a appears to be legacy documentation. This creates confusion about the actual behavior and makes maintenance harder.",
        "suggestion": "Remove the duplicate 'Sync Command (Legacy Documentation)' section (3a) entirely, keeping only the main interactive documentation. If historical context is needed, move it to a separate CHANGELOG.md or migration guide.",
        "code": {
          "before": "### 3. Sync Command (`pact sync [module]`)\n\n**File:** `/cli/cmd/sync.go`\n\nPull latest changes from GitHub and apply configs with interactive module selection.\n\n[...interactive documentation...]\n\n---\n\n### 3a. Sync Command (Legacy Documentation)\n\n**File:** `/cli/cmd/sync.go`\n\nPull latest changes from GitHub and apply configs.\n\n[...legacy documentation...]",
          "after": "### 3. Sync Command (`pact sync [module]`)\n\n**File:** `/cli/cmd/sync.go`\n\nPull latest changes from GitHub and apply configs with interactive module selection.\n\n[...interactive documentation only...]",
          "startLine": 146,
          "endLine": 213
        }
      },
      {
        "file": "docs/ARCHITECTURE.md",
        "category": "documentation",
        "severity": "high",
        "title": "Document security implications of token storage strategy",
        "description": "The architecture describes storing GitHub tokens globally in the OS keychain that work across all projects. While this is convenient, it creates a security boundary that isn't explicitly documented: a token with `repo` scope grants access to ALL repositories. Users should understand that compromising one project's `.pact/` folder doesn't expose the token, but the global token has broad permissions.",
        "suggestion": "Add a dedicated 'Security Considerations' section that explicitly documents the token scope, permissions model, and security trade-offs. Include guidance on token rotation and scope limitations.",
        "code": {
          "before": "**Token Storage:**\n- GitHub token stored globally in OS keychain (not in `.pact/`)\n- One authentication works across all projects",
          "after": "**Token Storage:**\n- GitHub token stored globally in OS keychain (not in `.pact/`)\n- One authentication works across all projects\n\n**Security Implications:**\n- Token has `repo` scope - grants full access to ALL user repositories\n- Compromised token = access to all repos (not just my-pact)\n- Token is NOT stored in `.pact/` to prevent accidental commits\n- Consider using fine-grained personal access tokens (PATs) limited to `my-pact` repo only\n- Rotate tokens regularly via GitHub settings\n- Use `pact nuke` to remove token when uninstalling",
          "startLine": 37,
          "endLine": 39
        }
      },
      {
        "file": "docs/ARCHITECTURE.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Clarify symlink strategy cross-platform limitations",
        "description": "The documentation mentions symlink as the default strategy but doesn't adequately address that symbolic links on Windows require either administrator privileges or Developer Mode enabled. This is a critical operational detail that could cause the tool to fail for many Windows users.",
        "suggestion": "Add a 'Platform-Specific Considerations' subsection under the Sync Package documentation that explicitly calls out Windows symlink requirements and recommends using 'copy' strategy for Windows configurations as a best practice.",
        "code": {
          "before": "#### Sync Strategies\n\n| Strategy | Behavior |\n|----------|----------|\n| `symlink` (default) | Creates symbolic link from target to source |\n| `copy` | Copies file/directory to target location |",
          "after": "#### Sync Strategies\n\n| Strategy | Behavior |\n|----------|----------|\n| `symlink` (default) | Creates symbolic link from target to source |\n| `copy` | Copies file/directory to target location |\n\n**Platform Considerations:**\n- **Windows**: Symlinks require Administrator privileges or Developer Mode enabled (Windows 10+)\n- **Recommendation**: Use `\"strategy\": \"copy\"` for Windows-specific configurations\n- **macOS/Linux**: Symlinks work without special permissions\n\n**Example Windows-safe config:**\n\n\"windows\": {\n  \"source\": \"./shell/windows.ps1\",\n  \"target\": \"~/Documents/PowerShell/profile.ps1\",\n  \"strategy\": \"copy\"\n}\n```",
          "startLine": 621,
          "endLine": 626
        }
      },
      {
        "file": "docs/ARCHITECTURE.md",
        "category": "documentation",
        "severity": "medium",
        "title": "Add conflict resolution documentation for sync operations",
        "description": "The sync process documentation states 'Remove existing target (file or directory)' but doesn't explain what happens if the target is a directory with uncommitted changes, or if manual edits were made to symlinked files. This is critical information for users who might lose work.",
        "suggestion": "Add a 'Conflict Handling' section that documents the sync behavior when targets exist, including data loss warnings. Recommend workflow patterns like committing changes before syncing or using git branches in the my-pact repo.",
        "code": {
          "before": "#### Sync Process\n1. Check if source exists\n2. Determine strategy (default: `symlink`)\n3. Create target parent directory if needed\n4. Remove existing target (file or directory)\n5. Apply strategy:\n   - **symlink:** `os.Symlink(absSource, target)`\n   - **copy:** Recursively copy files, preserving permissions",
          "after": "#### Sync Process\n1. Check if source exists\n2. Determine strategy (default: `symlink`)\n3. Create target parent directory if needed\n4. Remove existing target (file or directory)\n5. Apply strategy:\n   - **symlink:** `os.Symlink(absSource, target)`\n   - **copy:** Recursively copy files, preserving permissions\n\n#### Conflict Handling\n\n**⚠️ Warning: Sync operations will overwrite existing files**\n\n- Existing files/directories at target locations are **removed** before applying new configs\n- Manual edits to config files are **lost** unless committed to my-pact repo first\n- No backup or merge strategy exists\n\n**Recommended Workflows:**\n1. **Before editing configs locally**: Run `pact edit <path>` to ensure changes go to my-pact repo\n2. **Before syncing**: Commit any local changes you want to preserve\n3. **For experimentation**: Use git branches in your my-pact repo\n4. **Recovery**: Use `git log` in `.pact/` to restore previous versions",
          "startLine": 627,
          "endLine": 633
        }
      },
      {
        "file": "docs/ARCHITECTURE.md",
        "category": "documentation",
        "severity": "low",
        "title": "Add table of contents for improved navigation",
        "description": "This is a comprehensive 900+ line documentation file covering CLI commands, internal packages, web application, data flows, and schemas. Without a table of contents, finding specific information requires significant scrolling or text searching. A TOC would dramatically improve usability for AI consumption and human reference.",
        "suggestion": "Add a detailed table of contents immediately after the Overview section with links to all major sections and subsections. Consider using a consistent heading hierarchy (avoid jumping from ## to ####).",
        "code": {
          "before": "# Pact Architecture Documentation\n\n> Complete technical reference for Claude and AI consumption\n\n---\n\n## Overview",
          "after": "# Pact Architecture Documentation\n\n> Complete technical reference for Claude and AI consumption\n\n## Table of Contents\n\n- [Overview](#overview)\n- [Directory Structure](#directory-structure)\n- [CLI (Go)](#cli-go)\n  - [Entry Point](#entry-point)\n  - [Dependencies](#dependencies)\n- [CLI Commands](#cli-commands)\n  - [Root Command](#1-root-command-pact)\n  - [Init Command](#2-init-command-pact-init)\n  - [Sync Command](#3-sync-command-pact-sync-module)\n  - [Status Command](#4-status-command-pact-status)\n  - [Push Command](#5-push-command-pact-push)\n  - [Edit Command](#6-edit-command-pact-edit-path)\n  - [Secret Commands](#7-secret-commands-pact-secret)\n  - [Reset Command](#8-reset-command-pact-reset)\n  - [Nuke Command](#9-nuke-command-pact-nuke)\n- [Internal Packages](#internal-packages)\n  - [Config Package](#1-config-package-internalconfigpactgo)\n  - [Auth Package](#2-auth-package-internalauthoa uthgo)\n  - [Git Package](#3-git-package-internalgitgitgo)\n  - [Keyring Package](#4-keyring-package-internalkeyringkeyringgo)\n  - [Sync Package](#5-sync-package-internalsyncsyncgo)\n  - [UI Package](#6-ui-package-internaluistatusgo)\n- [pact.json Schema](#pactjson-schema)\n- [Web Application](#web-application-sveltekit)\n- [Environment Variables](#environment-variables)\n- [Deployment](#deployment)\n- [Data Flow](#data-flow)\n- [Repository Structure](#repository-structure-users-my-pact-repo)\n- [Project Structure](#project-structure-this-repo)\n\n---\n\n## Overview",
          "startLine": 1,
          "endLine": 6
        }
      },
      {
        "file": "pact-docs/public/pact-logo.png",
        "category": "optimization",
        "severity": "high",
        "title": "Optimize PNG file size",
        "description": "The PNG file is 193KB, which is quite large for a logo. The file contains extensive metadata (XMP data including Adobe attribution, creation dates, author information) and may not be optimally compressed. Large logo files increase page load times and bandwidth usage.",
        "suggestion": "Run the PNG through an optimization tool to reduce file size without quality loss. Remove unnecessary metadata, ensure appropriate compression levels, and consider if the resolution (400x400 based on IHDR dimensions) is necessary or if a smaller version would suffice for typical web usage.",
        "code": {
          "before": "# Current file: 193KB with full metadata\n# IHDR dimensions: 400x400 pixels\n# Contains XMP metadata, author info, creation dates",
          "after": "# Optimized approaches:\n# 1. Use tools like pngquant, optipng, or imagemin\n# 2. Remove XMP metadata if not needed for attribution\n# 3. Consider providing multiple sizes (icon, thumbnail, full)\n# 4. Target: <50KB for web logos\n\n# Example optimization command:\n# optipng -o7 pact-logo.png\n# or\n# pngquant --quality=65-80 pact-logo.png",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-logo.png",
        "category": "documentation",
        "severity": "medium",
        "title": "Add image dimension variants for responsive design",
        "description": "Having only a single 400x400px logo file means browsers must download and scale the full-size image for all use cases. This is inefficient for smaller displays, icons, or thumbnails.",
        "suggestion": "Create and maintain multiple size variants of the logo (e.g., 32x32, 64x64, 128x128, 256x256, 400x400) to serve appropriate sizes based on usage context. Use srcset in HTML or provide appropriately sized assets for different contexts.",
        "code": {
          "before": "<!-- Single size usage -->\n<img src=\"/pact-logo.png\" alt=\"Pact Logo\" />",
          "after": "<!-- Responsive image with multiple sizes -->\n<img \n  src=\"/pact-logo-256.png\"\n  srcset=\"/pact-logo-64.png 64w,\n          /pact-logo-128.png 128w,\n          /pact-logo-256.png 256w,\n          /pact-logo-400.png 400w\"\n  sizes=\"(max-width: 64px) 64px,\n         (max-width: 128px) 128px,\n         256px\"\n  alt=\"Pact Logo\" \n/>",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-logo.png",
        "category": "optimization",
        "severity": "medium",
        "title": "Consider WebP format for better compression",
        "description": "PNG format is lossless but typically results in larger file sizes compared to modern formats like WebP, which can reduce file sizes by 25-35% while maintaining visual quality. This is especially beneficial for web applications where load time matters.",
        "suggestion": "Generate a WebP version of the logo alongside the PNG (for fallback). Use picture element to serve WebP to supporting browsers while maintaining PNG fallback for older browsers.",
        "code": {
          "before": "<!-- PNG only -->\n<img src=\"/pact-logo.png\" alt=\"Pact Logo\" />",
          "after": "<!-- WebP with PNG fallback -->\n<picture>\n  <source srcset=\"/pact-logo.webp\" type=\"image/webp\">\n  <source srcset=\"/pact-logo.png\" type=\"image/png\">\n  <img src=\"/pact-logo.png\" alt=\"Pact Logo\" />\n</picture>\n\n# Generate WebP:\n# cwebp -q 80 pact-logo.png -o pact-logo.webp",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-logo.png",
        "category": "documentation",
        "severity": "low",
        "title": "Remove or document XMP metadata retention",
        "description": "The file contains XMP metadata including attribution information (Canva renderer, author 'Jack Horton', Facebook ID, etc.). This metadata adds ~2KB to the file size. While useful for attribution, it may not be necessary for production assets.",
        "suggestion": "Decide on a metadata policy: either strip unnecessary metadata for production builds to reduce file size, or document why the metadata is being retained (e.g., for legal attribution requirements). If keeping metadata, ensure it contains accurate and intended information.",
        "code": {
          "before": "# Current metadata includes:\n# - Author: Jack Horton\n# - Tool: Canva\n# - Attribution IDs\n# - Creation date\n# - Title: 'Untitled design - 1'",
          "after": "# Option 1: Strip metadata for production\n# exiftool -all= pact-logo.png\n\n# Option 2: Update metadata with proper info\n# exiftool -Title=\"Pact Logo\" \\\n#          -Description=\"Official Pact project logo\" \\\n#          -Author=\"Pact Team\" \\\n#          pact-logo.png\n\n# Document in README.md:\n# Logo metadata policy and attribution requirements",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "pact-docs/public/pact-logo.png",
        "category": "style",
        "severity": "low",
        "title": "Implement SVG version for scalability",
        "description": "PNG is a raster format that doesn't scale well. For logos, which need to appear crisp at any size (business cards, billboards, different screen densities), an SVG version would be more appropriate and typically much smaller in file size.",
        "suggestion": "If the logo design allows, create or obtain an SVG version. SVG logos are typically 5-20KB, scale infinitely without quality loss, and are ideal for logos. Keep PNG as fallback for contexts where SVG isn't supported.",
        "code": {
          "before": "<!-- Raster logo only -->\n<img src=\"/pact-logo.png\" alt=\"Pact Logo\" width=\"200\" />",
          "after": "<!-- SVG logo with PNG fallback -->\n<object data=\"/pact-logo.svg\" type=\"image/svg+xml\" width=\"200\">\n  <img src=\"/pact-logo.png\" alt=\"Pact Logo\" width=\"200\" />\n</object>\n\n# Benefits:\n# - Infinite scalability\n# - Typically 10-20x smaller file size\n# - Crisp on all displays including retina\n# - Can be styled with CSS if inline",
          "startLine": 1,
          "endLine": 1
        }
      },
      {
        "file": "cli/go.sum",
        "category": "style",
        "severity": "low",
        "title": "Inconsistent dependency version patterns",
        "description": "The go.sum file contains a mix of versioning patterns - some dependencies use semantic versions (e.g., v1.0.0), some use pseudo-versions with timestamps (e.g., v0.0.0-20230808193330-2592e75ae04a), and some use commit-based versions. While go.sum is auto-generated, ensuring go.mod uses consistent versioning strategies improves maintainability and predictability.",
        "suggestion": "Review go.mod to prefer tagged releases over pseudo-versions where possible. For dependencies without tags, consider requesting maintainers to create releases or documenting why specific commits are used. This makes dependency updates more predictable and easier to audit.",
        "code": {
          "before": "github.com/anmitsu/go-shlex v0.0.0-20200514113438-38f4b401e2be h1:9AeTilPcZAjCFIImctFaOjnTIavg87rW78vTPkQqLI8=\ngithub.com/armon/go-socks5 v0.0.0-20160902184237-e75332964ef5 h1:0CwZNZbxp69SHPdPJAN/hZIm0C4OItdklCFmMRWYpio=",
          "after": "# In go.mod, prefer:\ngithub.com/anmitsu/go-shlex v1.0.0  // Use tagged version if available\n# Document pseudo-versions:\ngithub.com/armon/go-socks5 v0.0.0-20160902184237-e75332964ef5  // No releases available, pinned to stable commit",
          "startLine": 10,
          "endLine": 13
        }
      },
      {
        "file": "cli/go.sum",
        "category": "optimization",
        "severity": "medium",
        "title": "Multiple outdated dependencies detected",
        "description": "Several dependencies in the go.sum file appear to be using older versions, particularly crypto and system libraries. For example, golang.org/x/crypto v0.21.0 and golang.org/x/sys v0.21.0 have newer versions available. Outdated dependencies may contain security vulnerabilities or miss performance improvements.",
        "suggestion": "Run 'go get -u ./...' to update dependencies to their latest minor/patch versions, then 'go mod tidy' to clean up go.sum. Review breaking changes for major version updates. Set up automated dependency scanning using tools like Dependabot or Renovate to catch outdated or vulnerable dependencies proactively.",
        "code": {
          "before": "golang.org/x/crypto v0.21.0 h1:X31++rzVUdKhX5sWmSOFZxx8UW/ldWx55cbf08iNAMA=\ngolang.org/x/crypto v0.21.0/go.mod h1:0BP7YvVV9gBbVKyeTG0Gyn+gZm94bibOW5BjDEYAOMs=",
          "after": "# After running: go get -u golang.org/x/crypto\ngolang.org/x/crypto v0.28.0 h1:...\ngolang.org/x/crypto v0.28.0/go.mod h1:...",
          "startLine": 128,
          "endLine": 129
        }
      },
      {
        "file": "cli/go.sum",
        "category": "refactor",
        "severity": "medium",
        "title": "Duplicate and unnecessary go.mod-only entries",
        "description": "The go.sum file contains numerous entries that only have .mod file references without corresponding package hashes (h1:...). This indicates indirect dependencies that may not be actively used. Lines like 'github.com/cpuguy83/go-md2man/v2 v2.0.4/go.mod' without a hash suggest potential bloat in the dependency tree.",
        "suggestion": "Run 'go mod tidy' to remove unused dependencies and clean up go.sum entries. Review your go.mod file to ensure you're only declaring direct dependencies. Use 'go mod why <package>' to understand why indirect dependencies are included and consider if they can be eliminated through refactoring.",
        "code": {
          "before": "github.com/bwesterb/go-ristretto v1.2.3/go.mod h1:fUIoIZaG73pV5biE2Blr2xEzDoMj7NFEuV9ekS419A0=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.4/go.mod h1:tgQtvFlXSQOSOSIRvRPT7W67SCa46tRHOmNcaadrF8o=",
          "after": "# After running: go mod tidy\n# Only entries actually used in the build remain",
          "startLine": 16,
          "endLine": 34
        }
      },
      {
        "file": "cli/go.sum",
        "category": "documentation",
        "severity": "low",
        "title": "Missing documentation for pinned pseudo-versions",
        "description": "Several dependencies use pseudo-versions (commit-based versions) without clear documentation of why specific commits were chosen. Examples include github.com/elazarl/goproxy and github.com/armon/go-socks5. This makes it difficult for maintainers to understand if these are intentional pins or if they should be updated.",
        "suggestion": "Add comments in go.mod (which reflect in go.sum) explaining why specific pseudo-versions are pinned. Document if they contain critical bug fixes, are waiting for a release, or if the dependency is unmaintained. Create a DEPENDENCIES.md file listing all non-standard version choices with justifications.",
        "code": {
          "before": "# In go.mod:\ngithub.com/elazarl/goproxy v0.0.0-20230808193330-2592e75ae04a",
          "after": "# In go.mod:\n// Pinned to specific commit for proxy TLS fix (PR #123)\n// TODO: Update when v1.0.0 is released\ngithub.com/elazarl/goproxy v0.0.0-20230808193330-2592e75ae04a",
          "startLine": 41,
          "endLine": 42
        }
      },
      {
        "file": "cli/go.sum",
        "category": "optimization",
        "severity": "high",
        "title": "Potential security vulnerabilities in crypto dependencies",
        "description": "The project uses golang.org/x/crypto v0.21.0 which is dated March 2024. Cryptographic libraries frequently receive security updates and patches. The golang.org/x/sys and golang.org/x/term dependencies at v0.21.0 also need review for security patches available in newer versions.",
        "suggestion": "Immediately update golang.org/x/crypto and related security-critical dependencies to their latest versions. Run 'go get -u golang.org/x/crypto golang.org/x/sys golang.org/x/term' and test thoroughly. Implement automated security scanning using 'govulncheck' or integrate with GitHub Security Advisories. Establish a policy to update security-critical dependencies within 48 hours of CVE disclosure.",
        "code": {
          "before": "golang.org/x/crypto v0.21.0 h1:X31++rzVUdKhX5sWmSOFZxx8UW/ldWx55cbf08iNAMA=\ngolang.org/x/sys v0.21.0 h1:rF+pYz3DAGSQAxAu1CbC7catZg4ebC4UIeIhKxBZvws=\ngolang.org/x/term v0.21.0 h1:WVXCp+/EBEHOj53Rvu+7KiT/iElMrO8ACK16SMZ3jaA=",
          "after": "# After security update:\ngolang.org/x/crypto v0.28.0 h1:...\ngolang.org/x/sys v0.26.0 h1:...\ngolang.org/x/term v0.25.0 h1:...\n# Also add to CI/CD:\n# govulncheck ./...",
          "startLine": 128,
          "endLine": 163
        }
      },
      {
        "file": "web/src/routes/dashboard/+page.svelte",
        "category": "bug",
        "severity": "high",
        "title": "Race condition in onMount initialization guard",
        "description": "The `initialized` flag is checked and set synchronously, but the async operations within onMount can still race if component is rapidly mounted/unmounted. Additionally, navigation in `goto('/')` happens before async operations complete, potentially causing memory leaks or unhandled promise rejections.",
        "suggestion": "Use Svelte's lifecycle properly with early returns and ensure async operations are awaited before navigation. Consider using a cleanup function to handle component unmounting.",
        "code": {
          "before": "let initialized = false;\n\nonMount(async () => {\n\tif (initialized) return;\n\tinitialized = true;\n\n\tawait auth.initialize();\n\t\n\tif (!$isAuthenticated) {\n\t\tgoto('/');\n\t\treturn;\n\t}\n\n\tawait loadPactConfig();\n});",
          "after": "onMount(() => {\n\tlet mounted = true;\n\n\t(async () => {\n\t\tawait auth.initialize();\n\t\t\n\t\tif (!mounted) return;\n\t\t\n\t\tif (!$isAuthenticated) {\n\t\t\tgoto('/');\n\t\t\treturn;\n\t\t}\n\n\t\tif (mounted) {\n\t\t\tawait loadPactConfig();\n\t\t}\n\t})();\n\n\treturn () => {\n\t\tmounted = false;\n\t};\n});",
          "startLine": 70,
          "endLine": 83
        }
      },
      {
        "file": "web/src/routes/dashboard/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract duplicate dropdown component to reduce code duplication",
        "description": "The AI and Ricing dropdown sections share identical structure and logic (240+ lines of duplicated code). This violates DRY principles and makes maintenance difficult. Any change to dropdown behavior needs to be replicated in both places.",
        "suggestion": "Create a reusable DropdownSection component that accepts props for the icon, title, description, items, and expanded state. This will reduce code by ~50% and improve maintainability.",
        "code": {
          "before": "<!-- AI Dropdown -->\n<div class=\"rounded-xl border border-zinc-800/50 overflow-hidden\">\n\t<button\n\t\ton:click={toggleAi}\n\t\tclass=\"w-full group flex items-center justify-between p-4 bg-zinc-900/30 hover:bg-zinc-900/60 transition-all text-left\"\n\t>\n\t\t<div class=\"flex items-center gap-4\">\n\t\t\t<div class=\"w-10 h-10 bg-zinc-800 rounded-lg flex items-center justify-center group-hover:bg-zinc-700 transition-colors\">\n\t\t\t\t<Sparkles size={18} class=\"text-zinc-400\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span class=\"font-medium\">AI</span>\n\t\t\t\t<p class=\"text-sm text-zinc-500\">Prompts, agents, providers</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- ... rest of duplicate structure ... -->",
          "after": "<!-- DropdownSection.svelte -->\n<script lang=\"ts\">\n\timport type { ComponentType } from 'svelte';\n\texport let icon: ComponentType;\n\texport let title: string;\n\texport let description: string;\n\texport let items: Array<{id: string, label: string, icon: ComponentType, description: string}>;\n\texport let expanded: boolean;\n\texport let onToggle: () => void;\n\texport let onNavigate: (id: string) => void;\n\texport let getModuleStatus: (id: string) => string;\n</script>\n\n<!-- Use component -->\n<DropdownSection\n\ticon={Sparkles}\n\ttitle=\"AI\"\n\tdescription=\"Prompts, agents, providers\"\n\titems={aiSubItems}\n\texpanded={aiExpanded}\n\tonToggle={toggleAi}\n\tonNavigate={navigateToEditor}\n\t{getModuleStatus}\n/>",
          "startLine": 286,
          "endLine": 360
        }
      },
      {
        "file": "web/src/routes/dashboard/+page.svelte",
        "category": "refactor",
        "severity": "medium",
        "title": "Extract module configuration data to separate file",
        "description": "The component mixes UI logic with static configuration data (topLevelModules, aiSubItems, ricingSubItems). This makes the component harder to test, modify, and potentially reuse. Configuration changes require editing the main component file.",
        "suggestion": "Move all module configuration arrays to a separate TypeScript file (e.g., `moduleConfig.ts`). This improves separation of concerns, makes the component more focused on UI logic, and allows easier testing and modification of module definitions.",
        "code": {
          "before": "// Inside +page.svelte\nconst topLevelModules = [\n\t{ id: 'shell', icon: Terminal, description: 'Shell configuration' },\n\t{ id: 'editor', icon: Cpu, description: 'Editor settings, keybindings, snippets' },\n\t// ... more modules\n];\n\nconst aiSubItems = [\n\t{ id: 'ai.prompts', label: 'Prompts', icon: MessageSquare, description: 'AI prompts' },\n\t// ... more items\n];\n\nconst ricingSubItems = [\n\t// ... items\n];",
          "after": "// lib/config/modules.ts\nimport { Terminal, Cpu, Github, /* ... */ } from 'lucide-svelte';\n\nexport const topLevelModules = [\n\t{ id: 'shell', icon: Terminal, description: 'Shell configuration' },\n\t{ id: 'editor', icon: Cpu, description: 'Editor settings, keybindings, snippets' },\n\t// ... more modules\n] as const;\n\nexport const aiSubItems = [/* ... */] as const;\nexport const ricingSubItems = [/* ... */] as const;\n\n// In +page.svelte\nimport { topLevelModules, aiSubItems, ricingSubItems } from '$lib/config/modules';",
          "startLine": 38,
          "endLine": 67
        }
      },
      {
        "file": "web/src/routes/dashboard/+page.svelte",
        "category": "optimization",
        "severity": "medium",
        "title": "Memoize status calculations to prevent redundant computations",
        "description": "The `getModuleStatus` function is called multiple times per module during each render (once in the block, multiple times in nested expressions). For nested paths, it traverses the object tree each time. With 12+ modules, this creates unnecessary overhead on every reactive update.",
        "suggestion": "Create a derived store or use a reactive statement to compute all module statuses once, then reference the memoized values. This reduces object traversal from O(n*m) to O(n) where n is modules and m is render frequency.",
        "code": {
          "before": "{#each topLevelModules as module}\n\t{@const status = getModuleStatus(module.id)}\n\t{@const StatusIcon = getStatusIcon(status)}\n\t<button on:click={() => navigateToEditor(module.id)}>\n\t\t<!-- ... -->\n\t\t<span class=\"{getStatusColor(status)}\">\n\t\t\t{getStatusText(status)}\n\t\t</span>",
          "after": "// Add reactive statement\n$: moduleStatuses = pactConfig ? (\n\t[...topLevelModules.map(m => m.id),\n\t ...aiSubItems.map(m => m.id),\n\t ...ricingSubItems.map(m => m.id)]\n\t.reduce((acc, id) => {\n\t\tacc[id] = getModuleStatus(id);\n\t\treturn acc;\n\t}, {} as Record<string, string>)\n) : {};\n\n// Use memoized values\n{#each topLevelModules as module}\n\t{@const status = moduleStatuses[module.id] || 'not_configured'}\n\t{@const StatusIcon = getStatusIcon(status)}",
          "startLine": 95,
          "endLine": 115
        }
      },
      {
        "file": "web/src/routes/dashboard/+page.svelte",
        "category": "style",
        "severity": "low",
        "title": "Consolidate status-related functions into a single utility module",
        "description": "Four separate functions (getModuleStatus, getStatusColor, getStatusIcon, getStatusText) handle status-related logic. This scattered approach makes it harder to understand status handling at a glance and could lead to inconsistencies if status types are added or modified.",
        "suggestion": "Create a single StatusHelper class or object that encapsulates all status-related logic. This improves cohesion and makes it easier to maintain consistent status behavior across the application.",
        "code": {
          "before": "function getModuleStatus(modulePath: string): string { /* ... */ }\nfunction getStatusColor(status: string): string { /* ... */ }\nfunction getStatusIcon(status: string) { /* ... */ }\nfunction getStatusText(status: string): string { /* ... */ }",
          "after": "// lib/utils/status.ts\nexport const StatusHelper = {\n\tgetStatus(modulePath: string, pactConfig: PactConfig | null): string {\n\t\tif (!pactConfig) return 'not_configured';\n\t\t// ... logic\n\t},\n\tgetColor(status: string): string {\n\t\tconst colors = {\n\t\t\tsynced: 'text-emerald-400',\n\t\t\tpending: 'text-amber-400',\n\t\t\tnot_configured: 'text-zinc-500'\n\t\t};\n\t\treturn colors[status as keyof typeof colors] || 'text-zinc-500';\n\t},\n\tgetIcon(status: string) { /* ... */ },\n\tgetText(status: string): string { /* ... */ }\n};\n\n// Usage: StatusHelper.getStatus(module.id, pactConfig)",
          "startLine": 95,
          "endLine": 150
        }
      }
    ],
    "metadata": {
      "timestamp": "2025-12-14T03:40:55.896Z",
      "model": "claude-sonnet-4-5",
      "provider": "anthropic",
      "mode": "full",
      "projectType": "unknown"
    }
  },
  "generatedAt": "2025-12-14T03:40:55.983Z",
  "insights": {
    "codeAge": {
      "hotZones": [
        {
          "path": "cli/cmd",
          "avgAgeDays": 1,
          "fileCount": 9,
          "oldestFile": "cli/cmd/secret.go",
          "newestFile": "cli/cmd/sync.go",
          "recentCommitCount": 19
        },
        {
          "path": "web",
          "avgAgeDays": 3,
          "fileCount": 4,
          "oldestFile": "web/postcss.config.js",
          "newestFile": "web/vite.config.ts",
          "recentCommitCount": 6
        },
        {
          "path": "web/src/lib",
          "avgAgeDays": 3,
          "fileCount": 2,
          "oldestFile": "web/src/lib/index.ts",
          "newestFile": "web/src/lib/github.ts",
          "recentCommitCount": 4
        },
        {
          "path": "cli/internal/config",
          "avgAgeDays": 1,
          "fileCount": 1,
          "oldestFile": "cli/internal/config/pact.go",
          "newestFile": "cli/internal/config/pact.go",
          "recentCommitCount": 3
        },
        {
          "path": "cli/internal/git",
          "avgAgeDays": 1,
          "fileCount": 1,
          "oldestFile": "cli/internal/git/git.go",
          "newestFile": "cli/internal/git/git.go",
          "recentCommitCount": 3
        },
        {
          "path": "cli/internal/ui",
          "avgAgeDays": 1,
          "fileCount": 2,
          "oldestFile": "cli/internal/ui/branding.go",
          "newestFile": "cli/internal/ui/status.go",
          "recentCommitCount": 3
        },
        {
          "path": "web/src/routes/api/auth/callback",
          "avgAgeDays": 2,
          "fileCount": 1,
          "oldestFile": "web/src/routes/api/auth/callback/+server.ts",
          "newestFile": "web/src/routes/api/auth/callback/+server.ts",
          "recentCommitCount": 3
        },
        {
          "path": "cli/internal/auth",
          "avgAgeDays": 2,
          "fileCount": 1,
          "oldestFile": "cli/internal/auth/oauth.go",
          "newestFile": "cli/internal/auth/oauth.go",
          "recentCommitCount": 2
        },
        {
          "path": "cli",
          "avgAgeDays": 3,
          "fileCount": 1,
          "oldestFile": "cli/main.go",
          "newestFile": "cli/main.go",
          "recentCommitCount": 1
        },
        {
          "path": "cli/internal/keyring",
          "avgAgeDays": 3,
          "fileCount": 1,
          "oldestFile": "cli/internal/keyring/keyring.go",
          "newestFile": "cli/internal/keyring/keyring.go",
          "recentCommitCount": 1
        }
      ],
      "coldZones": [],
      "orphanedFiles": [],
      "fileAges": [
        {
          "path": "cli/main.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "pact-docs/source.config.ts",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "cli/cmd/edit.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:28:07.000Z",
          "ageInDays": 1,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/init.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-13T00:36:36.000Z",
          "ageInDays": 1,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/nuke.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:28:07.000Z",
          "ageInDays": 1,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/push.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:28:07.000Z",
          "ageInDays": 1,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/reset.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:28:07.000Z",
          "ageInDays": 1,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/root.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-13T00:36:36.000Z",
          "ageInDays": 1,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/secret.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/status.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/cmd/sync.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:38:17.000Z",
          "ageInDays": 1,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/postcss.config.js",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/svelte.config.js",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-11T23:12:22.000Z",
          "ageInDays": 2,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/tailwind.config.js",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/vite.config.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-11T23:49:08.000Z",
          "ageInDays": 2,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "pact-docs/src/mdx-components.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "cli/internal/auth/oauth.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-11T23:49:08.000Z",
          "ageInDays": 2,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/config/pact.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:38:17.000Z",
          "ageInDays": 1,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/git/git.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:28:07.000Z",
          "ageInDays": 1,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/keyring/keyring.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/sync/sync.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/ui/branding.go",
          "firstCommitDate": "2025-12-13T00:36:36.000Z",
          "lastCommitDate": "2025-12-13T00:36:36.000Z",
          "ageInDays": 1,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "cli/internal/ui/status.go",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-12T06:38:17.000Z",
          "ageInDays": 1,
          "commitCount": 2,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "pact-docs/src/app/layout.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/lib/layout.shared.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/lib/source.ts",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "web/src/lib/github.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-11T23:49:08.000Z",
          "ageInDays": 2,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/src/lib/index.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "pact-docs/src/app/(home)/layout.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/app/(home)/page.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/app/docs/layout.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/app/llms-full.txt/route.ts",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "web/src/lib/stores/auth.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "web/src/routes/auth/+server.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-10T07:50:58.000Z",
          "ageInDays": 3,
          "commitCount": 1,
          "lastAuthor": "cloudboy-jh"
        },
        {
          "path": "pact-docs/out/_next/static/WIszZQNfjVCv1vwrLFh5W/_buildManifest.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/WIszZQNfjVCv1vwrLFh5W/_ssgManifest.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/01e1f4b9687605d2.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/1812d0ad8e7a75c5.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/1b62e066f3340d3c.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/242188bb71c223d6.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/31904460b1d366a7.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/3a288fcdb16cf800.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/437b1367e3f86f8f.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/576d2fbef96ea882.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/5f57d49352ddef8f.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/728d9e3ab4bd7b17.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/76b156356e3a4944.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/868e41d723c69152.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/8ae3c817221c782b.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/8e82975d90e232cd.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/91f1d28f40bb6e50.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/9d6fe772e578e901.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/a6dad97d9634a72d.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/a8c28f4c4356802e.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/b057ae3a229cdbe7.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/b4936109b1997183.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/b592595cb5e3229c.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/c5dda5b25a056240.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/cdc4907a08872199.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/e60e621bb35daa60.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/ef105ab88bee294e.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/ff1a16fafef87110.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/out/_next/static/chunks/turbopack-53de07a9acb59334.js",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/app/docs/[[...slug]]/page.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "pact-docs/src/app/og/docs/[...slug]/route.tsx",
          "firstCommitDate": null,
          "lastCommitDate": null,
          "ageInDays": 0,
          "commitCount": 0,
          "lastAuthor": "unknown"
        },
        {
          "path": "web/src/routes/api/auth/callback/+server.ts",
          "firstCommitDate": "2025-12-10T07:50:58.000Z",
          "lastCommitDate": "2025-12-11T23:49:08.000Z",
          "ageInDays": 2,
          "commitCount": 3,
          "lastAuthor": "cloudboy-jh"
        }
      ],
      "summary": {
        "avgCodeAgeDays": 2,
        "oldestFileDays": 3,
        "newestFileDays": 1,
        "orphanedFileCount": 0
      }
    },
    "generatedAt": "2025-12-14T03:40:56.490Z"
  }
}
