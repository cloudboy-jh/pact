import { jsx as _jsx } from "react/jsx-runtime";
import { Box, Text, useApp } from "ink";
import { useEffect, useState } from "react";
import { withFullScreen } from "./withFullScreen.js";
function DemoApp() {
    const [state, setState] = useState("hello");
    useEffect(() => {
        setTimeout(() => setState("goodbye"), 1000);
    });
    return state === "hello" ? _jsx(HelloWorld, {}) : _jsx(GoodbyeWorld, {});
}
function HelloWorld() {
    return (_jsx(Box, { flexGrow: 1, borderStyle: "round", alignItems: "center", justifyContent: "center", children: _jsx(Text, { children: "Hello, world!" }) }));
}
function GoodbyeWorld() {
    const app = useApp();
    useEffect(() => {
        setTimeout(app.exit, 1000);
    }, [app.exit]);
    return (_jsx(Box, { flexGrow: 1, borderStyle: "round", alignItems: "center", justifyContent: "center", children: _jsx(Text, { children: "Goodbye, world! Exiting in 1 second..." }) }));
}
function waitOneSecond() {
    return new Promise((resolve) => setTimeout(resolve, 1000));
}
const ink = withFullScreen(_jsx(DemoApp, {}));
console.log("Launching app in 1 second...");
await waitOneSecond();
await ink.start();
await ink.waitUntilExit();
console.log("Exited full screen app!");
